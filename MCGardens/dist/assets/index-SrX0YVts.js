var Jx=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var yae=Jx((Iae,jd)=>{function Zx(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Fn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function on(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var hI={exports:{}},rf={},fI={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ou=Symbol.for("react.element"),eO=Symbol.for("react.portal"),tO=Symbol.for("react.fragment"),nO=Symbol.for("react.strict_mode"),rO=Symbol.for("react.profiler"),iO=Symbol.for("react.provider"),sO=Symbol.for("react.context"),oO=Symbol.for("react.forward_ref"),aO=Symbol.for("react.suspense"),lO=Symbol.for("react.memo"),uO=Symbol.for("react.lazy"),x0=Symbol.iterator;function cO(e){return e===null||typeof e!="object"?null:(e=x0&&e[x0]||e["@@iterator"],typeof e=="function"?e:null)}var pI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mI=Object.assign,gI={};function da(e,t,n){this.props=e,this.context=t,this.refs=gI,this.updater=n||pI}da.prototype.isReactComponent={};da.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};da.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function vI(){}vI.prototype=da.prototype;function ty(e,t,n){this.props=e,this.context=t,this.refs=gI,this.updater=n||pI}var ny=ty.prototype=new vI;ny.constructor=ty;mI(ny,da.prototype);ny.isPureReactComponent=!0;var O0=Array.isArray,yI=Object.prototype.hasOwnProperty,ry={current:null},_I={key:!0,ref:!0,__self:!0,__source:!0};function wI(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)yI.call(t,r)&&!_I.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ou,type:e,key:s,ref:o,props:i,_owner:ry.current}}function dO(e,t){return{$$typeof:Ou,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function iy(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ou}function hO(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var N0=/\/+/g;function zp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?hO(""+e.key):t.toString(36)}function ud(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ou:case eO:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+zp(o,0):r,O0(i)?(n="",e!=null&&(n=e.replace(N0,"$&/")+"/"),ud(i,t,n,"",function(u){return u})):i!=null&&(iy(i)&&(i=dO(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(N0,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",O0(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+zp(s,a);o+=ud(s,t,n,l,i)}else if(l=cO(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+zp(s,a++),o+=ud(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function bc(e,t,n){if(e==null)return e;var r=[],i=0;return ud(e,r,"","",function(s){return t.call(n,s,i++)}),r}function fO(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Wt={current:null},cd={transition:null},pO={ReactCurrentDispatcher:Wt,ReactCurrentBatchConfig:cd,ReactCurrentOwner:ry};de.Children={map:bc,forEach:function(e,t,n){bc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return bc(e,function(){t++}),t},toArray:function(e){return bc(e,function(t){return t})||[]},only:function(e){if(!iy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};de.Component=da;de.Fragment=tO;de.Profiler=rO;de.PureComponent=ty;de.StrictMode=nO;de.Suspense=aO;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pO;de.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=mI({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=ry.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)yI.call(t,l)&&!_I.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ou,type:e.type,key:i,ref:s,props:r,_owner:o}};de.createContext=function(e){return e={$$typeof:sO,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:iO,_context:e},e.Consumer=e};de.createElement=wI;de.createFactory=function(e){var t=wI.bind(null,e);return t.type=e,t};de.createRef=function(){return{current:null}};de.forwardRef=function(e){return{$$typeof:oO,render:e}};de.isValidElement=iy;de.lazy=function(e){return{$$typeof:uO,_payload:{_status:-1,_result:e},_init:fO}};de.memo=function(e,t){return{$$typeof:lO,type:e,compare:t===void 0?null:t}};de.startTransition=function(e){var t=cd.transition;cd.transition={};try{e()}finally{cd.transition=t}};de.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};de.useCallback=function(e,t){return Wt.current.useCallback(e,t)};de.useContext=function(e){return Wt.current.useContext(e)};de.useDebugValue=function(){};de.useDeferredValue=function(e){return Wt.current.useDeferredValue(e)};de.useEffect=function(e,t){return Wt.current.useEffect(e,t)};de.useId=function(){return Wt.current.useId()};de.useImperativeHandle=function(e,t,n){return Wt.current.useImperativeHandle(e,t,n)};de.useInsertionEffect=function(e,t){return Wt.current.useInsertionEffect(e,t)};de.useLayoutEffect=function(e,t){return Wt.current.useLayoutEffect(e,t)};de.useMemo=function(e,t){return Wt.current.useMemo(e,t)};de.useReducer=function(e,t,n){return Wt.current.useReducer(e,t,n)};de.useRef=function(e){return Wt.current.useRef(e)};de.useState=function(e){return Wt.current.useState(e)};de.useSyncExternalStore=function(e,t,n){return Wt.current.useSyncExternalStore(e,t,n)};de.useTransition=function(){return Wt.current.useTransition()};de.version="18.2.0";fI.exports=de;var A=fI.exports;const R=on(A),mO=Zx({__proto__:null,default:R},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gO=A,vO=Symbol.for("react.element"),yO=Symbol.for("react.fragment"),_O=Object.prototype.hasOwnProperty,wO=gO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,EO={key:!0,ref:!0,__self:!0,__source:!0};function EI(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)_O.call(t,r)&&!EO.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:vO,type:e,key:s,ref:o,props:i,_owner:wO.current}}rf.Fragment=yO;rf.jsx=EI;rf.jsxs=EI;hI.exports=rf;var _=hI.exports,eg={},SI={exports:{}},mn={},TI={exports:{}},II={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(V,X){var ee=V.length;V.push(X);e:for(;0<ee;){var b=ee-1>>>1,O=V[b];if(0<i(O,X))V[b]=X,V[ee]=O,ee=b;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var X=V[0],ee=V.pop();if(ee!==X){V[0]=ee;e:for(var b=0,O=V.length,U=O>>>1;b<U;){var W=2*(b+1)-1,K=V[W],ae=W+1,Te=V[ae];if(0>i(K,ee))ae<O&&0>i(Te,K)?(V[b]=Te,V[ae]=ee,b=ae):(V[b]=K,V[W]=ee,b=W);else if(ae<O&&0>i(Te,ee))V[b]=Te,V[ae]=ee,b=ae;else break e}}return X}function i(V,X){var ee=V.sortIndex-X.sortIndex;return ee!==0?ee:V.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,f=!1,m=!1,p=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(V){for(var X=n(u);X!==null;){if(X.callback===null)r(u);else if(X.startTime<=V)r(u),X.sortIndex=X.expirationTime,t(l,X);else break;X=n(u)}}function E(V){if(p=!1,w(V),!m)if(n(l)!==null)m=!0,ie(S);else{var X=n(u);X!==null&&fe(E,X.startTime-V)}}function S(V,X){m=!1,p&&(p=!1,g(P),P=-1),f=!0;var ee=h;try{for(w(X),d=n(l);d!==null&&(!(d.expirationTime>X)||V&&!N());){var b=d.callback;if(typeof b=="function"){d.callback=null,h=d.priorityLevel;var O=b(d.expirationTime<=X);X=e.unstable_now(),typeof O=="function"?d.callback=O:d===n(l)&&r(l),w(X)}else r(l);d=n(l)}if(d!==null)var U=!0;else{var W=n(u);W!==null&&fe(E,W.startTime-X),U=!1}return U}finally{d=null,h=ee,f=!1}}var T=!1,I=null,P=-1,k=5,C=-1;function N(){return!(e.unstable_now()-C<k)}function j(){if(I!==null){var V=e.unstable_now();C=V;var X=!0;try{X=I(!0,V)}finally{X?Y():(T=!1,I=null)}}else T=!1}var Y;if(typeof v=="function")Y=function(){v(j)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,_e=ve.port2;ve.port1.onmessage=j,Y=function(){_e.postMessage(null)}}else Y=function(){y(j,0)};function ie(V){I=V,T||(T=!0,Y())}function fe(V,X){P=y(function(){V(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){m||f||(m=!0,ie(S))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(V){switch(h){case 1:case 2:case 3:var X=3;break;default:X=h}var ee=h;h=X;try{return V()}finally{h=ee}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,X){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ee=h;h=V;try{return X()}finally{h=ee}},e.unstable_scheduleCallback=function(V,X,ee){var b=e.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?b+ee:b):ee=b,V){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=ee+O,V={id:c++,callback:X,priorityLevel:V,startTime:ee,expirationTime:O,sortIndex:-1},ee>b?(V.sortIndex=ee,t(u,V),n(l)===null&&V===n(u)&&(p?(g(P),P=-1):p=!0,fe(E,ee-b))):(V.sortIndex=O,t(l,V),m||f||(m=!0,ie(S))),V},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(V){var X=h;return function(){var ee=h;h=X;try{return V.apply(this,arguments)}finally{h=ee}}}})(II);TI.exports=II;var SO=TI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AI=A,hn=SO;function $(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var RI=new Set,Ol={};function Hs(e,t){Uo(e,t),Uo(e+"Capture",t)}function Uo(e,t){for(Ol[e]=t,e=0;e<t.length;e++)RI.add(t[e])}var jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tg=Object.prototype.hasOwnProperty,TO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,M0={},$0={};function IO(e){return tg.call($0,e)?!0:tg.call(M0,e)?!1:TO.test(e)?$0[e]=!0:(M0[e]=!0,!1)}function AO(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function RO(e,t,n,r){if(t===null||typeof t>"u"||AO(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ht(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var It={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){It[e]=new Ht(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];It[t]=new Ht(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){It[e]=new Ht(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){It[e]=new Ht(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){It[e]=new Ht(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){It[e]=new Ht(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){It[e]=new Ht(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){It[e]=new Ht(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){It[e]=new Ht(e,5,!1,e.toLowerCase(),null,!1,!1)});var sy=/[\-:]([a-z])/g;function oy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(sy,oy);It[t]=new Ht(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(sy,oy);It[t]=new Ht(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(sy,oy);It[t]=new Ht(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){It[e]=new Ht(e,1,!1,e.toLowerCase(),null,!1,!1)});It.xlinkHref=new Ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){It[e]=new Ht(e,1,!1,e.toLowerCase(),null,!0,!0)});function ay(e,t,n,r){var i=It.hasOwnProperty(t)?It[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(RO(t,n,i,r)&&(n=null),r||i===null?IO(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Jr=AI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Dc=Symbol.for("react.element"),ho=Symbol.for("react.portal"),fo=Symbol.for("react.fragment"),ly=Symbol.for("react.strict_mode"),ng=Symbol.for("react.profiler"),PI=Symbol.for("react.provider"),CI=Symbol.for("react.context"),uy=Symbol.for("react.forward_ref"),rg=Symbol.for("react.suspense"),ig=Symbol.for("react.suspense_list"),cy=Symbol.for("react.memo"),di=Symbol.for("react.lazy"),bI=Symbol.for("react.offscreen"),L0=Symbol.iterator;function Va(e){return e===null||typeof e!="object"?null:(e=L0&&e[L0]||e["@@iterator"],typeof e=="function"?e:null)}var He=Object.assign,Wp;function nl(e){if(Wp===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Wp=t&&t[1]||""}return`
`+Wp+e}var Hp=!1;function Yp(e,t){if(!e||Hp)return"";Hp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Hp=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?nl(e):""}function PO(e){switch(e.tag){case 5:return nl(e.type);case 16:return nl("Lazy");case 13:return nl("Suspense");case 19:return nl("SuspenseList");case 0:case 2:case 15:return e=Yp(e.type,!1),e;case 11:return e=Yp(e.type.render,!1),e;case 1:return e=Yp(e.type,!0),e;default:return""}}function sg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case fo:return"Fragment";case ho:return"Portal";case ng:return"Profiler";case ly:return"StrictMode";case rg:return"Suspense";case ig:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case CI:return(e.displayName||"Context")+".Consumer";case PI:return(e._context.displayName||"Context")+".Provider";case uy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case cy:return t=e.displayName||null,t!==null?t:sg(e.type)||"Memo";case di:t=e._payload,e=e._init;try{return sg(e(t))}catch{}}return null}function CO(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sg(t);case 8:return t===ly?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Vi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function DI(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function bO(e){var t=DI(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function kc(e){e._valueTracker||(e._valueTracker=bO(e))}function kI(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=DI(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ud(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function og(e,t){var n=t.checked;return He({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function F0(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Vi(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function xI(e,t){t=t.checked,t!=null&&ay(e,"checked",t,!1)}function ag(e,t){xI(e,t);var n=Vi(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?lg(e,t.type,n):t.hasOwnProperty("defaultValue")&&lg(e,t.type,Vi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function V0(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function lg(e,t,n){(t!=="number"||Ud(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var rl=Array.isArray;function Po(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Vi(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ug(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($(91));return He({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function j0(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error($(92));if(rl(n)){if(1<n.length)throw Error($(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Vi(n)}}function OI(e,t){var n=Vi(t.value),r=Vi(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function U0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function NI(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?NI(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var xc,MI=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(xc=xc||document.createElement("div"),xc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Nl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ml={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},DO=["Webkit","ms","Moz","O"];Object.keys(ml).forEach(function(e){DO.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ml[t]=ml[e]})});function $I(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ml.hasOwnProperty(e)&&ml[e]?(""+t).trim():t+"px"}function LI(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=$I(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var kO=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dg(e,t){if(t){if(kO[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($(61))}if(t.style!=null&&typeof t.style!="object")throw Error($(62))}}function hg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fg=null;function dy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pg=null,Co=null,bo=null;function B0(e){if(e=$u(e)){if(typeof pg!="function")throw Error($(280));var t=e.stateNode;t&&(t=uf(t),pg(e.stateNode,e.type,t))}}function FI(e){Co?bo?bo.push(e):bo=[e]:Co=e}function VI(){if(Co){var e=Co,t=bo;if(bo=Co=null,B0(e),t)for(e=0;e<t.length;e++)B0(t[e])}}function jI(e,t){return e(t)}function UI(){}var qp=!1;function BI(e,t,n){if(qp)return e(t,n);qp=!0;try{return jI(e,t,n)}finally{qp=!1,(Co!==null||bo!==null)&&(UI(),VI())}}function Ml(e,t){var n=e.stateNode;if(n===null)return null;var r=uf(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error($(231,t,typeof n));return n}var mg=!1;if(jr)try{var ja={};Object.defineProperty(ja,"passive",{get:function(){mg=!0}}),window.addEventListener("test",ja,ja),window.removeEventListener("test",ja,ja)}catch{mg=!1}function xO(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var gl=!1,Bd=null,zd=!1,gg=null,OO={onError:function(e){gl=!0,Bd=e}};function NO(e,t,n,r,i,s,o,a,l){gl=!1,Bd=null,xO.apply(OO,arguments)}function MO(e,t,n,r,i,s,o,a,l){if(NO.apply(this,arguments),gl){if(gl){var u=Bd;gl=!1,Bd=null}else throw Error($(198));zd||(zd=!0,gg=u)}}function Ys(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function zI(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function z0(e){if(Ys(e)!==e)throw Error($(188))}function $O(e){var t=e.alternate;if(!t){if(t=Ys(e),t===null)throw Error($(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return z0(i),e;if(s===r)return z0(i),t;s=s.sibling}throw Error($(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?e:t}function WI(e){return e=$O(e),e!==null?HI(e):null}function HI(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=HI(e);if(t!==null)return t;e=e.sibling}return null}var YI=hn.unstable_scheduleCallback,W0=hn.unstable_cancelCallback,LO=hn.unstable_shouldYield,FO=hn.unstable_requestPaint,Je=hn.unstable_now,VO=hn.unstable_getCurrentPriorityLevel,hy=hn.unstable_ImmediatePriority,qI=hn.unstable_UserBlockingPriority,Wd=hn.unstable_NormalPriority,jO=hn.unstable_LowPriority,GI=hn.unstable_IdlePriority,sf=null,ar=null;function UO(e){if(ar&&typeof ar.onCommitFiberRoot=="function")try{ar.onCommitFiberRoot(sf,e,void 0,(e.current.flags&128)===128)}catch{}}var jn=Math.clz32?Math.clz32:WO,BO=Math.log,zO=Math.LN2;function WO(e){return e>>>=0,e===0?32:31-(BO(e)/zO|0)|0}var Oc=64,Nc=4194304;function il(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Hd(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=il(a):(s&=o,s!==0&&(r=il(s)))}else o=n&~i,o!==0?r=il(o):s!==0&&(r=il(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-jn(t),i=1<<n,r|=e[n],t&=~i;return r}function HO(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function YO(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-jn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=HO(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function vg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function KI(){var e=Oc;return Oc<<=1,!(Oc&4194240)&&(Oc=64),e}function Gp(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Nu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-jn(t),e[t]=n}function qO(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-jn(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function fy(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-jn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Ie=0;function QI(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var XI,py,JI,ZI,eA,yg=!1,Mc=[],Ai=null,Ri=null,Pi=null,$l=new Map,Ll=new Map,fi=[],GO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function H0(e,t){switch(e){case"focusin":case"focusout":Ai=null;break;case"dragenter":case"dragleave":Ri=null;break;case"mouseover":case"mouseout":Pi=null;break;case"pointerover":case"pointerout":$l.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ll.delete(t.pointerId)}}function Ua(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=$u(t),t!==null&&py(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function KO(e,t,n,r,i){switch(t){case"focusin":return Ai=Ua(Ai,e,t,n,r,i),!0;case"dragenter":return Ri=Ua(Ri,e,t,n,r,i),!0;case"mouseover":return Pi=Ua(Pi,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return $l.set(s,Ua($l.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ll.set(s,Ua(Ll.get(s)||null,e,t,n,r,i)),!0}return!1}function tA(e){var t=ds(e.target);if(t!==null){var n=Ys(t);if(n!==null){if(t=n.tag,t===13){if(t=zI(n),t!==null){e.blockedOn=t,eA(e.priority,function(){JI(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function dd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=_g(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);fg=r,n.target.dispatchEvent(r),fg=null}else return t=$u(n),t!==null&&py(t),e.blockedOn=n,!1;t.shift()}return!0}function Y0(e,t,n){dd(e)&&n.delete(t)}function QO(){yg=!1,Ai!==null&&dd(Ai)&&(Ai=null),Ri!==null&&dd(Ri)&&(Ri=null),Pi!==null&&dd(Pi)&&(Pi=null),$l.forEach(Y0),Ll.forEach(Y0)}function Ba(e,t){e.blockedOn===t&&(e.blockedOn=null,yg||(yg=!0,hn.unstable_scheduleCallback(hn.unstable_NormalPriority,QO)))}function Fl(e){function t(i){return Ba(i,e)}if(0<Mc.length){Ba(Mc[0],e);for(var n=1;n<Mc.length;n++){var r=Mc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ai!==null&&Ba(Ai,e),Ri!==null&&Ba(Ri,e),Pi!==null&&Ba(Pi,e),$l.forEach(t),Ll.forEach(t),n=0;n<fi.length;n++)r=fi[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<fi.length&&(n=fi[0],n.blockedOn===null);)tA(n),n.blockedOn===null&&fi.shift()}var Do=Jr.ReactCurrentBatchConfig,Yd=!0;function XO(e,t,n,r){var i=Ie,s=Do.transition;Do.transition=null;try{Ie=1,my(e,t,n,r)}finally{Ie=i,Do.transition=s}}function JO(e,t,n,r){var i=Ie,s=Do.transition;Do.transition=null;try{Ie=4,my(e,t,n,r)}finally{Ie=i,Do.transition=s}}function my(e,t,n,r){if(Yd){var i=_g(e,t,n,r);if(i===null)im(e,t,r,qd,n),H0(e,r);else if(KO(i,e,t,n,r))r.stopPropagation();else if(H0(e,r),t&4&&-1<GO.indexOf(e)){for(;i!==null;){var s=$u(i);if(s!==null&&XI(s),s=_g(e,t,n,r),s===null&&im(e,t,r,qd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else im(e,t,r,null,n)}}var qd=null;function _g(e,t,n,r){if(qd=null,e=dy(r),e=ds(e),e!==null)if(t=Ys(e),t===null)e=null;else if(n=t.tag,n===13){if(e=zI(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qd=e,null}function nA(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(VO()){case hy:return 1;case qI:return 4;case Wd:case jO:return 16;case GI:return 536870912;default:return 16}default:return 16}}var _i=null,gy=null,hd=null;function rA(){if(hd)return hd;var e,t=gy,n=t.length,r,i="value"in _i?_i.value:_i.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return hd=i.slice(e,1<r?1-r:void 0)}function fd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $c(){return!0}function q0(){return!1}function gn(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?$c:q0,this.isPropagationStopped=q0,this}return He(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$c)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$c)},persist:function(){},isPersistent:$c}),t}var ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vy=gn(ha),Mu=He({},ha,{view:0,detail:0}),ZO=gn(Mu),Kp,Qp,za,of=He({},Mu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==za&&(za&&e.type==="mousemove"?(Kp=e.screenX-za.screenX,Qp=e.screenY-za.screenY):Qp=Kp=0,za=e),Kp)},movementY:function(e){return"movementY"in e?e.movementY:Qp}}),G0=gn(of),eN=He({},of,{dataTransfer:0}),tN=gn(eN),nN=He({},Mu,{relatedTarget:0}),Xp=gn(nN),rN=He({},ha,{animationName:0,elapsedTime:0,pseudoElement:0}),iN=gn(rN),sN=He({},ha,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),oN=gn(sN),aN=He({},ha,{data:0}),K0=gn(aN),lN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cN[e])?!!t[e]:!1}function yy(){return dN}var hN=He({},Mu,{key:function(e){if(e.key){var t=lN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=fd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yy,charCode:function(e){return e.type==="keypress"?fd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fN=gn(hN),pN=He({},of,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Q0=gn(pN),mN=He({},Mu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yy}),gN=gn(mN),vN=He({},ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),yN=gn(vN),_N=He({},of,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),wN=gn(_N),EN=[9,13,27,32],_y=jr&&"CompositionEvent"in window,vl=null;jr&&"documentMode"in document&&(vl=document.documentMode);var SN=jr&&"TextEvent"in window&&!vl,iA=jr&&(!_y||vl&&8<vl&&11>=vl),X0=" ",J0=!1;function sA(e,t){switch(e){case"keyup":return EN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oA(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var po=!1;function TN(e,t){switch(e){case"compositionend":return oA(t);case"keypress":return t.which!==32?null:(J0=!0,X0);case"textInput":return e=t.data,e===X0&&J0?null:e;default:return null}}function IN(e,t){if(po)return e==="compositionend"||!_y&&sA(e,t)?(e=rA(),hd=gy=_i=null,po=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return iA&&t.locale!=="ko"?null:t.data;default:return null}}var AN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Z0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!AN[e.type]:t==="textarea"}function aA(e,t,n,r){FI(r),t=Gd(t,"onChange"),0<t.length&&(n=new vy("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var yl=null,Vl=null;function RN(e){yA(e,0)}function af(e){var t=vo(e);if(kI(t))return e}function PN(e,t){if(e==="change")return t}var lA=!1;if(jr){var Jp;if(jr){var Zp="oninput"in document;if(!Zp){var eE=document.createElement("div");eE.setAttribute("oninput","return;"),Zp=typeof eE.oninput=="function"}Jp=Zp}else Jp=!1;lA=Jp&&(!document.documentMode||9<document.documentMode)}function tE(){yl&&(yl.detachEvent("onpropertychange",uA),Vl=yl=null)}function uA(e){if(e.propertyName==="value"&&af(Vl)){var t=[];aA(t,Vl,e,dy(e)),BI(RN,t)}}function CN(e,t,n){e==="focusin"?(tE(),yl=t,Vl=n,yl.attachEvent("onpropertychange",uA)):e==="focusout"&&tE()}function bN(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return af(Vl)}function DN(e,t){if(e==="click")return af(t)}function kN(e,t){if(e==="input"||e==="change")return af(t)}function xN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bn=typeof Object.is=="function"?Object.is:xN;function jl(e,t){if(Bn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!tg.call(t,i)||!Bn(e[i],t[i]))return!1}return!0}function nE(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rE(e,t){var n=nE(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=nE(n)}}function cA(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cA(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function dA(){for(var e=window,t=Ud();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ud(e.document)}return t}function wy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ON(e){var t=dA(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&cA(n.ownerDocument.documentElement,n)){if(r!==null&&wy(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=rE(n,s);var o=rE(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var NN=jr&&"documentMode"in document&&11>=document.documentMode,mo=null,wg=null,_l=null,Eg=!1;function iE(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Eg||mo==null||mo!==Ud(r)||(r=mo,"selectionStart"in r&&wy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_l&&jl(_l,r)||(_l=r,r=Gd(wg,"onSelect"),0<r.length&&(t=new vy("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mo)))}function Lc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var go={animationend:Lc("Animation","AnimationEnd"),animationiteration:Lc("Animation","AnimationIteration"),animationstart:Lc("Animation","AnimationStart"),transitionend:Lc("Transition","TransitionEnd")},em={},hA={};jr&&(hA=document.createElement("div").style,"AnimationEvent"in window||(delete go.animationend.animation,delete go.animationiteration.animation,delete go.animationstart.animation),"TransitionEvent"in window||delete go.transitionend.transition);function lf(e){if(em[e])return em[e];if(!go[e])return e;var t=go[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in hA)return em[e]=t[n];return e}var fA=lf("animationend"),pA=lf("animationiteration"),mA=lf("animationstart"),gA=lf("transitionend"),vA=new Map,sE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qi(e,t){vA.set(e,t),Hs(t,[e])}for(var tm=0;tm<sE.length;tm++){var nm=sE[tm],MN=nm.toLowerCase(),$N=nm[0].toUpperCase()+nm.slice(1);qi(MN,"on"+$N)}qi(fA,"onAnimationEnd");qi(pA,"onAnimationIteration");qi(mA,"onAnimationStart");qi("dblclick","onDoubleClick");qi("focusin","onFocus");qi("focusout","onBlur");qi(gA,"onTransitionEnd");Uo("onMouseEnter",["mouseout","mouseover"]);Uo("onMouseLeave",["mouseout","mouseover"]);Uo("onPointerEnter",["pointerout","pointerover"]);Uo("onPointerLeave",["pointerout","pointerover"]);Hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LN=new Set("cancel close invalid load scroll toggle".split(" ").concat(sl));function oE(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,MO(r,t,void 0,e),e.currentTarget=null}function yA(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;oE(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;oE(i,a,u),s=l}}}if(zd)throw e=gg,zd=!1,gg=null,e}function ke(e,t){var n=t[Rg];n===void 0&&(n=t[Rg]=new Set);var r=e+"__bubble";n.has(r)||(_A(t,e,2,!1),n.add(r))}function rm(e,t,n){var r=0;t&&(r|=4),_A(n,e,r,t)}var Fc="_reactListening"+Math.random().toString(36).slice(2);function Ul(e){if(!e[Fc]){e[Fc]=!0,RI.forEach(function(n){n!=="selectionchange"&&(LN.has(n)||rm(n,!1,e),rm(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Fc]||(t[Fc]=!0,rm("selectionchange",!1,t))}}function _A(e,t,n,r){switch(nA(t)){case 1:var i=XO;break;case 4:i=JO;break;default:i=my}n=i.bind(null,t,n,e),i=void 0,!mg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function im(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ds(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}BI(function(){var u=s,c=dy(n),d=[];e:{var h=vA.get(e);if(h!==void 0){var f=vy,m=e;switch(e){case"keypress":if(fd(n)===0)break e;case"keydown":case"keyup":f=fN;break;case"focusin":m="focus",f=Xp;break;case"focusout":m="blur",f=Xp;break;case"beforeblur":case"afterblur":f=Xp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=G0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=tN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=gN;break;case fA:case pA:case mA:f=iN;break;case gA:f=yN;break;case"scroll":f=ZO;break;case"wheel":f=wN;break;case"copy":case"cut":case"paste":f=oN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Q0}var p=(t&4)!==0,y=!p&&e==="scroll",g=p?h!==null?h+"Capture":null:h;p=[];for(var v=u,w;v!==null;){w=v;var E=w.stateNode;if(w.tag===5&&E!==null&&(w=E,g!==null&&(E=Ml(v,g),E!=null&&p.push(Bl(v,E,w)))),y)break;v=v.return}0<p.length&&(h=new f(h,m,null,n,c),d.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",h&&n!==fg&&(m=n.relatedTarget||n.fromElement)&&(ds(m)||m[Ur]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(m=n.relatedTarget||n.toElement,f=u,m=m?ds(m):null,m!==null&&(y=Ys(m),m!==y||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=u),f!==m)){if(p=G0,E="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(p=Q0,E="onPointerLeave",g="onPointerEnter",v="pointer"),y=f==null?h:vo(f),w=m==null?h:vo(m),h=new p(E,v+"leave",f,n,c),h.target=y,h.relatedTarget=w,E=null,ds(c)===u&&(p=new p(g,v+"enter",m,n,c),p.target=w,p.relatedTarget=y,E=p),y=E,f&&m)t:{for(p=f,g=m,v=0,w=p;w;w=ro(w))v++;for(w=0,E=g;E;E=ro(E))w++;for(;0<v-w;)p=ro(p),v--;for(;0<w-v;)g=ro(g),w--;for(;v--;){if(p===g||g!==null&&p===g.alternate)break t;p=ro(p),g=ro(g)}p=null}else p=null;f!==null&&aE(d,h,f,p,!1),m!==null&&y!==null&&aE(d,y,m,p,!0)}}e:{if(h=u?vo(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var S=PN;else if(Z0(h))if(lA)S=kN;else{S=bN;var T=CN}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=DN);if(S&&(S=S(e,u))){aA(d,S,n,c);break e}T&&T(e,h,u),e==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&lg(h,"number",h.value)}switch(T=u?vo(u):window,e){case"focusin":(Z0(T)||T.contentEditable==="true")&&(mo=T,wg=u,_l=null);break;case"focusout":_l=wg=mo=null;break;case"mousedown":Eg=!0;break;case"contextmenu":case"mouseup":case"dragend":Eg=!1,iE(d,n,c);break;case"selectionchange":if(NN)break;case"keydown":case"keyup":iE(d,n,c)}var I;if(_y)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else po?sA(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(iA&&n.locale!=="ko"&&(po||P!=="onCompositionStart"?P==="onCompositionEnd"&&po&&(I=rA()):(_i=c,gy="value"in _i?_i.value:_i.textContent,po=!0)),T=Gd(u,P),0<T.length&&(P=new K0(P,e,null,n,c),d.push({event:P,listeners:T}),I?P.data=I:(I=oA(n),I!==null&&(P.data=I)))),(I=SN?TN(e,n):IN(e,n))&&(u=Gd(u,"onBeforeInput"),0<u.length&&(c=new K0("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=I))}yA(d,t)})}function Bl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gd(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ml(e,n),s!=null&&r.unshift(Bl(e,s,i)),s=Ml(e,t),s!=null&&r.push(Bl(e,s,i))),e=e.return}return r}function ro(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function aE(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Ml(n,s),l!=null&&o.unshift(Bl(n,l,a))):i||(l=Ml(n,s),l!=null&&o.push(Bl(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var FN=/\r\n?/g,VN=/\u0000|\uFFFD/g;function lE(e){return(typeof e=="string"?e:""+e).replace(FN,`
`).replace(VN,"")}function Vc(e,t,n){if(t=lE(t),lE(e)!==t&&n)throw Error($(425))}function Kd(){}var Sg=null,Tg=null;function Ig(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ag=typeof setTimeout=="function"?setTimeout:void 0,jN=typeof clearTimeout=="function"?clearTimeout:void 0,uE=typeof Promise=="function"?Promise:void 0,UN=typeof queueMicrotask=="function"?queueMicrotask:typeof uE<"u"?function(e){return uE.resolve(null).then(e).catch(BN)}:Ag;function BN(e){setTimeout(function(){throw e})}function sm(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Fl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Fl(t)}function Ci(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function cE(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var fa=Math.random().toString(36).slice(2),er="__reactFiber$"+fa,zl="__reactProps$"+fa,Ur="__reactContainer$"+fa,Rg="__reactEvents$"+fa,zN="__reactListeners$"+fa,WN="__reactHandles$"+fa;function ds(e){var t=e[er];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ur]||n[er]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=cE(e);e!==null;){if(n=e[er])return n;e=cE(e)}return t}e=n,n=e.parentNode}return null}function $u(e){return e=e[er]||e[Ur],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function vo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($(33))}function uf(e){return e[zl]||null}var Pg=[],yo=-1;function Gi(e){return{current:e}}function Me(e){0>yo||(e.current=Pg[yo],Pg[yo]=null,yo--)}function De(e,t){yo++,Pg[yo]=e.current,e.current=t}var ji={},Lt=Gi(ji),Jt=Gi(!1),Rs=ji;function Bo(e,t){var n=e.type.contextTypes;if(!n)return ji;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Zt(e){return e=e.childContextTypes,e!=null}function Qd(){Me(Jt),Me(Lt)}function dE(e,t,n){if(Lt.current!==ji)throw Error($(168));De(Lt,t),De(Jt,n)}function wA(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error($(108,CO(e)||"Unknown",i));return He({},n,r)}function Xd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ji,Rs=Lt.current,De(Lt,e),De(Jt,Jt.current),!0}function hE(e,t,n){var r=e.stateNode;if(!r)throw Error($(169));n?(e=wA(e,t,Rs),r.__reactInternalMemoizedMergedChildContext=e,Me(Jt),Me(Lt),De(Lt,e)):Me(Jt),De(Jt,n)}var Rr=null,cf=!1,om=!1;function EA(e){Rr===null?Rr=[e]:Rr.push(e)}function HN(e){cf=!0,EA(e)}function Ki(){if(!om&&Rr!==null){om=!0;var e=0,t=Ie;try{var n=Rr;for(Ie=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Rr=null,cf=!1}catch(i){throw Rr!==null&&(Rr=Rr.slice(e+1)),YI(hy,Ki),i}finally{Ie=t,om=!1}}return null}var _o=[],wo=0,Jd=null,Zd=0,yn=[],_n=0,Ps=null,Cr=1,br="";function os(e,t){_o[wo++]=Zd,_o[wo++]=Jd,Jd=e,Zd=t}function SA(e,t,n){yn[_n++]=Cr,yn[_n++]=br,yn[_n++]=Ps,Ps=e;var r=Cr;e=br;var i=32-jn(r)-1;r&=~(1<<i),n+=1;var s=32-jn(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Cr=1<<32-jn(t)+i|n<<i|r,br=s+e}else Cr=1<<s|n<<i|r,br=e}function Ey(e){e.return!==null&&(os(e,1),SA(e,1,0))}function Sy(e){for(;e===Jd;)Jd=_o[--wo],_o[wo]=null,Zd=_o[--wo],_o[wo]=null;for(;e===Ps;)Ps=yn[--_n],yn[_n]=null,br=yn[--_n],yn[_n]=null,Cr=yn[--_n],yn[_n]=null}var dn=null,un=null,Ue=!1,Ln=null;function TA(e,t){var n=Sn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function fE(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,dn=e,un=Ci(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,dn=e,un=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ps!==null?{id:Cr,overflow:br}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Sn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,dn=e,un=null,!0):!1;default:return!1}}function Cg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function bg(e){if(Ue){var t=un;if(t){var n=t;if(!fE(e,t)){if(Cg(e))throw Error($(418));t=Ci(n.nextSibling);var r=dn;t&&fE(e,t)?TA(r,n):(e.flags=e.flags&-4097|2,Ue=!1,dn=e)}}else{if(Cg(e))throw Error($(418));e.flags=e.flags&-4097|2,Ue=!1,dn=e}}}function pE(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;dn=e}function jc(e){if(e!==dn)return!1;if(!Ue)return pE(e),Ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ig(e.type,e.memoizedProps)),t&&(t=un)){if(Cg(e))throw IA(),Error($(418));for(;t;)TA(e,t),t=Ci(t.nextSibling)}if(pE(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){un=Ci(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}un=null}}else un=dn?Ci(e.stateNode.nextSibling):null;return!0}function IA(){for(var e=un;e;)e=Ci(e.nextSibling)}function zo(){un=dn=null,Ue=!1}function Ty(e){Ln===null?Ln=[e]:Ln.push(e)}var YN=Jr.ReactCurrentBatchConfig;function Mn(e,t){if(e&&e.defaultProps){t=He({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var eh=Gi(null),th=null,Eo=null,Iy=null;function Ay(){Iy=Eo=th=null}function Ry(e){var t=eh.current;Me(eh),e._currentValue=t}function Dg(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ko(e,t){th=e,Iy=Eo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Xt=!0),e.firstContext=null)}function Rn(e){var t=e._currentValue;if(Iy!==e)if(e={context:e,memoizedValue:t,next:null},Eo===null){if(th===null)throw Error($(308));Eo=e,th.dependencies={lanes:0,firstContext:e}}else Eo=Eo.next=e;return t}var hs=null;function Py(e){hs===null?hs=[e]:hs.push(e)}function AA(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Py(t)):(n.next=i.next,i.next=n),t.interleaved=n,Br(e,r)}function Br(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var hi=!1;function Cy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function RA(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function bi(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ye&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Br(e,n)}return i=r.interleaved,i===null?(t.next=t,Py(r)):(t.next=i.next,i.next=t),r.interleaved=t,Br(e,n)}function pd(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,fy(e,n)}}function mE(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function nh(e,t,n,r){var i=e.updateQueue;hi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,f=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=e,p=a;switch(h=t,f=n,p.tag){case 1:if(m=p.payload,typeof m=="function"){d=m.call(f,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=p.payload,h=typeof m=="function"?m.call(f,d,h):m,h==null)break e;d=He({},d,h);break e;case 2:hi=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);bs|=o,e.lanes=o,e.memoizedState=d}}function gE(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error($(191,i));i.call(r)}}}var PA=new AI.Component().refs;function kg(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:He({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var df={isMounted:function(e){return(e=e._reactInternals)?Ys(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=zt(),i=ki(e),s=Mr(r,i);s.payload=t,n!=null&&(s.callback=n),t=bi(e,s,i),t!==null&&(Un(t,e,i,r),pd(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=zt(),i=ki(e),s=Mr(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=bi(e,s,i),t!==null&&(Un(t,e,i,r),pd(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=zt(),r=ki(e),i=Mr(n,r);i.tag=2,t!=null&&(i.callback=t),t=bi(e,i,r),t!==null&&(Un(t,e,r,n),pd(t,e,r))}};function vE(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!jl(n,r)||!jl(i,s):!0}function CA(e,t,n){var r=!1,i=ji,s=t.contextType;return typeof s=="object"&&s!==null?s=Rn(s):(i=Zt(t)?Rs:Lt.current,r=t.contextTypes,s=(r=r!=null)?Bo(e,i):ji),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=df,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function yE(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&df.enqueueReplaceState(t,t.state,null)}function xg(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=PA,Cy(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Rn(s):(s=Zt(t)?Rs:Lt.current,i.context=Bo(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(kg(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&df.enqueueReplaceState(i,i.state,null),nh(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Wa(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===PA&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error($(284));if(!n._owner)throw Error($(290,e))}return e}function Uc(e,t){throw e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _E(e){var t=e._init;return t(e._payload)}function bA(e){function t(g,v){if(e){var w=g.deletions;w===null?(g.deletions=[v],g.flags|=16):w.push(v)}}function n(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=xi(g,v),g.index=0,g.sibling=null,g}function s(g,v,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<v?(g.flags|=2,v):w):(g.flags|=2,v)):(g.flags|=1048576,v)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,v,w,E){return v===null||v.tag!==6?(v=fm(w,g.mode,E),v.return=g,v):(v=i(v,w),v.return=g,v)}function l(g,v,w,E){var S=w.type;return S===fo?c(g,v,w.props.children,E,w.key):v!==null&&(v.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===di&&_E(S)===v.type)?(E=i(v,w.props),E.ref=Wa(g,v,w),E.return=g,E):(E=wd(w.type,w.key,w.props,null,g.mode,E),E.ref=Wa(g,v,w),E.return=g,E)}function u(g,v,w,E){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=pm(w,g.mode,E),v.return=g,v):(v=i(v,w.children||[]),v.return=g,v)}function c(g,v,w,E,S){return v===null||v.tag!==7?(v=_s(w,g.mode,E,S),v.return=g,v):(v=i(v,w),v.return=g,v)}function d(g,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=fm(""+v,g.mode,w),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Dc:return w=wd(v.type,v.key,v.props,null,g.mode,w),w.ref=Wa(g,null,v),w.return=g,w;case ho:return v=pm(v,g.mode,w),v.return=g,v;case di:var E=v._init;return d(g,E(v._payload),w)}if(rl(v)||Va(v))return v=_s(v,g.mode,w,null),v.return=g,v;Uc(g,v)}return null}function h(g,v,w,E){var S=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:a(g,v,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Dc:return w.key===S?l(g,v,w,E):null;case ho:return w.key===S?u(g,v,w,E):null;case di:return S=w._init,h(g,v,S(w._payload),E)}if(rl(w)||Va(w))return S!==null?null:c(g,v,w,E,null);Uc(g,w)}return null}function f(g,v,w,E,S){if(typeof E=="string"&&E!==""||typeof E=="number")return g=g.get(w)||null,a(v,g,""+E,S);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Dc:return g=g.get(E.key===null?w:E.key)||null,l(v,g,E,S);case ho:return g=g.get(E.key===null?w:E.key)||null,u(v,g,E,S);case di:var T=E._init;return f(g,v,w,T(E._payload),S)}if(rl(E)||Va(E))return g=g.get(w)||null,c(v,g,E,S,null);Uc(v,E)}return null}function m(g,v,w,E){for(var S=null,T=null,I=v,P=v=0,k=null;I!==null&&P<w.length;P++){I.index>P?(k=I,I=null):k=I.sibling;var C=h(g,I,w[P],E);if(C===null){I===null&&(I=k);break}e&&I&&C.alternate===null&&t(g,I),v=s(C,v,P),T===null?S=C:T.sibling=C,T=C,I=k}if(P===w.length)return n(g,I),Ue&&os(g,P),S;if(I===null){for(;P<w.length;P++)I=d(g,w[P],E),I!==null&&(v=s(I,v,P),T===null?S=I:T.sibling=I,T=I);return Ue&&os(g,P),S}for(I=r(g,I);P<w.length;P++)k=f(I,g,P,w[P],E),k!==null&&(e&&k.alternate!==null&&I.delete(k.key===null?P:k.key),v=s(k,v,P),T===null?S=k:T.sibling=k,T=k);return e&&I.forEach(function(N){return t(g,N)}),Ue&&os(g,P),S}function p(g,v,w,E){var S=Va(w);if(typeof S!="function")throw Error($(150));if(w=S.call(w),w==null)throw Error($(151));for(var T=S=null,I=v,P=v=0,k=null,C=w.next();I!==null&&!C.done;P++,C=w.next()){I.index>P?(k=I,I=null):k=I.sibling;var N=h(g,I,C.value,E);if(N===null){I===null&&(I=k);break}e&&I&&N.alternate===null&&t(g,I),v=s(N,v,P),T===null?S=N:T.sibling=N,T=N,I=k}if(C.done)return n(g,I),Ue&&os(g,P),S;if(I===null){for(;!C.done;P++,C=w.next())C=d(g,C.value,E),C!==null&&(v=s(C,v,P),T===null?S=C:T.sibling=C,T=C);return Ue&&os(g,P),S}for(I=r(g,I);!C.done;P++,C=w.next())C=f(I,g,P,C.value,E),C!==null&&(e&&C.alternate!==null&&I.delete(C.key===null?P:C.key),v=s(C,v,P),T===null?S=C:T.sibling=C,T=C);return e&&I.forEach(function(j){return t(g,j)}),Ue&&os(g,P),S}function y(g,v,w,E){if(typeof w=="object"&&w!==null&&w.type===fo&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Dc:e:{for(var S=w.key,T=v;T!==null;){if(T.key===S){if(S=w.type,S===fo){if(T.tag===7){n(g,T.sibling),v=i(T,w.props.children),v.return=g,g=v;break e}}else if(T.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===di&&_E(S)===T.type){n(g,T.sibling),v=i(T,w.props),v.ref=Wa(g,T,w),v.return=g,g=v;break e}n(g,T);break}else t(g,T);T=T.sibling}w.type===fo?(v=_s(w.props.children,g.mode,E,w.key),v.return=g,g=v):(E=wd(w.type,w.key,w.props,null,g.mode,E),E.ref=Wa(g,v,w),E.return=g,g=E)}return o(g);case ho:e:{for(T=w.key;v!==null;){if(v.key===T)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(g,v.sibling),v=i(v,w.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else t(g,v);v=v.sibling}v=pm(w,g.mode,E),v.return=g,g=v}return o(g);case di:return T=w._init,y(g,v,T(w._payload),E)}if(rl(w))return m(g,v,w,E);if(Va(w))return p(g,v,w,E);Uc(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(g,v.sibling),v=i(v,w),v.return=g,g=v):(n(g,v),v=fm(w,g.mode,E),v.return=g,g=v),o(g)):n(g,v)}return y}var Wo=bA(!0),DA=bA(!1),Lu={},lr=Gi(Lu),Wl=Gi(Lu),Hl=Gi(Lu);function fs(e){if(e===Lu)throw Error($(174));return e}function by(e,t){switch(De(Hl,t),De(Wl,e),De(lr,Lu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:cg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=cg(t,e)}Me(lr),De(lr,t)}function Ho(){Me(lr),Me(Wl),Me(Hl)}function kA(e){fs(Hl.current);var t=fs(lr.current),n=cg(t,e.type);t!==n&&(De(Wl,e),De(lr,n))}function Dy(e){Wl.current===e&&(Me(lr),Me(Wl))}var Be=Gi(0);function rh(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var am=[];function ky(){for(var e=0;e<am.length;e++)am[e]._workInProgressVersionPrimary=null;am.length=0}var md=Jr.ReactCurrentDispatcher,lm=Jr.ReactCurrentBatchConfig,Cs=0,ze=null,it=null,ct=null,ih=!1,wl=!1,Yl=0,qN=0;function Rt(){throw Error($(321))}function xy(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Bn(e[n],t[n]))return!1;return!0}function Oy(e,t,n,r,i,s){if(Cs=s,ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,md.current=e===null||e.memoizedState===null?XN:JN,e=n(r,i),wl){s=0;do{if(wl=!1,Yl=0,25<=s)throw Error($(301));s+=1,ct=it=null,t.updateQueue=null,md.current=ZN,e=n(r,i)}while(wl)}if(md.current=sh,t=it!==null&&it.next!==null,Cs=0,ct=it=ze=null,ih=!1,t)throw Error($(300));return e}function Ny(){var e=Yl!==0;return Yl=0,e}function Zn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?ze.memoizedState=ct=e:ct=ct.next=e,ct}function Pn(){if(it===null){var e=ze.alternate;e=e!==null?e.memoizedState:null}else e=it.next;var t=ct===null?ze.memoizedState:ct.next;if(t!==null)ct=t,it=e;else{if(e===null)throw Error($(310));it=e,e={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},ct===null?ze.memoizedState=ct=e:ct=ct.next=e}return ct}function ql(e,t){return typeof t=="function"?t(e):t}function um(e){var t=Pn(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var r=it,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Cs&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,ze.lanes|=c,bs|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Bn(r,t.memoizedState)||(Xt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,ze.lanes|=s,bs|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function cm(e){var t=Pn(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Bn(s,t.memoizedState)||(Xt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function xA(){}function OA(e,t){var n=ze,r=Pn(),i=t(),s=!Bn(r.memoizedState,i);if(s&&(r.memoizedState=i,Xt=!0),r=r.queue,My($A.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||ct!==null&&ct.memoizedState.tag&1){if(n.flags|=2048,Gl(9,MA.bind(null,n,r,i,t),void 0,null),dt===null)throw Error($(349));Cs&30||NA(n,t,i)}return i}function NA(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function MA(e,t,n,r){t.value=n,t.getSnapshot=r,LA(t)&&FA(e)}function $A(e,t,n){return n(function(){LA(t)&&FA(e)})}function LA(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Bn(e,n)}catch{return!0}}function FA(e){var t=Br(e,1);t!==null&&Un(t,e,1,-1)}function wE(e){var t=Zn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ql,lastRenderedState:e},t.queue=e,e=e.dispatch=QN.bind(null,ze,e),[t.memoizedState,e]}function Gl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function VA(){return Pn().memoizedState}function gd(e,t,n,r){var i=Zn();ze.flags|=e,i.memoizedState=Gl(1|t,n,void 0,r===void 0?null:r)}function hf(e,t,n,r){var i=Pn();r=r===void 0?null:r;var s=void 0;if(it!==null){var o=it.memoizedState;if(s=o.destroy,r!==null&&xy(r,o.deps)){i.memoizedState=Gl(t,n,s,r);return}}ze.flags|=e,i.memoizedState=Gl(1|t,n,s,r)}function EE(e,t){return gd(8390656,8,e,t)}function My(e,t){return hf(2048,8,e,t)}function jA(e,t){return hf(4,2,e,t)}function UA(e,t){return hf(4,4,e,t)}function BA(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function zA(e,t,n){return n=n!=null?n.concat([e]):null,hf(4,4,BA.bind(null,t,e),n)}function $y(){}function WA(e,t){var n=Pn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&xy(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function HA(e,t){var n=Pn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&xy(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function YA(e,t,n){return Cs&21?(Bn(n,t)||(n=KI(),ze.lanes|=n,bs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Xt=!0),e.memoizedState=n)}function GN(e,t){var n=Ie;Ie=n!==0&&4>n?n:4,e(!0);var r=lm.transition;lm.transition={};try{e(!1),t()}finally{Ie=n,lm.transition=r}}function qA(){return Pn().memoizedState}function KN(e,t,n){var r=ki(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},GA(e))KA(t,n);else if(n=AA(e,t,n,r),n!==null){var i=zt();Un(n,e,r,i),QA(n,t,r)}}function QN(e,t,n){var r=ki(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(GA(e))KA(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Bn(a,o)){var l=t.interleaved;l===null?(i.next=i,Py(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=AA(e,t,i,r),n!==null&&(i=zt(),Un(n,e,r,i),QA(n,t,r))}}function GA(e){var t=e.alternate;return e===ze||t!==null&&t===ze}function KA(e,t){wl=ih=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function QA(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,fy(e,n)}}var sh={readContext:Rn,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},XN={readContext:Rn,useCallback:function(e,t){return Zn().memoizedState=[e,t===void 0?null:t],e},useContext:Rn,useEffect:EE,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,gd(4194308,4,BA.bind(null,t,e),n)},useLayoutEffect:function(e,t){return gd(4194308,4,e,t)},useInsertionEffect:function(e,t){return gd(4,2,e,t)},useMemo:function(e,t){var n=Zn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Zn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=KN.bind(null,ze,e),[r.memoizedState,e]},useRef:function(e){var t=Zn();return e={current:e},t.memoizedState=e},useState:wE,useDebugValue:$y,useDeferredValue:function(e){return Zn().memoizedState=e},useTransition:function(){var e=wE(!1),t=e[0];return e=GN.bind(null,e[1]),Zn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ze,i=Zn();if(Ue){if(n===void 0)throw Error($(407));n=n()}else{if(n=t(),dt===null)throw Error($(349));Cs&30||NA(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,EE($A.bind(null,r,s,e),[e]),r.flags|=2048,Gl(9,MA.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Zn(),t=dt.identifierPrefix;if(Ue){var n=br,r=Cr;n=(r&~(1<<32-jn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Yl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=qN++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},JN={readContext:Rn,useCallback:WA,useContext:Rn,useEffect:My,useImperativeHandle:zA,useInsertionEffect:jA,useLayoutEffect:UA,useMemo:HA,useReducer:um,useRef:VA,useState:function(){return um(ql)},useDebugValue:$y,useDeferredValue:function(e){var t=Pn();return YA(t,it.memoizedState,e)},useTransition:function(){var e=um(ql)[0],t=Pn().memoizedState;return[e,t]},useMutableSource:xA,useSyncExternalStore:OA,useId:qA,unstable_isNewReconciler:!1},ZN={readContext:Rn,useCallback:WA,useContext:Rn,useEffect:My,useImperativeHandle:zA,useInsertionEffect:jA,useLayoutEffect:UA,useMemo:HA,useReducer:cm,useRef:VA,useState:function(){return cm(ql)},useDebugValue:$y,useDeferredValue:function(e){var t=Pn();return it===null?t.memoizedState=e:YA(t,it.memoizedState,e)},useTransition:function(){var e=cm(ql)[0],t=Pn().memoizedState;return[e,t]},useMutableSource:xA,useSyncExternalStore:OA,useId:qA,unstable_isNewReconciler:!1};function Yo(e,t){try{var n="",r=t;do n+=PO(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function dm(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Og(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var eM=typeof WeakMap=="function"?WeakMap:Map;function XA(e,t,n){n=Mr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ah||(ah=!0,zg=r),Og(e,t)},n}function JA(e,t,n){n=Mr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Og(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Og(e,t),typeof r!="function"&&(Di===null?Di=new Set([this]):Di.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function SE(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new eM;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=pM.bind(null,e,t,n),t.then(e,e))}function TE(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function IE(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Mr(-1,1),t.tag=2,bi(n,t,1))),n.lanes|=1),e)}var tM=Jr.ReactCurrentOwner,Xt=!1;function jt(e,t,n,r){t.child=e===null?DA(t,null,n,r):Wo(t,e.child,n,r)}function AE(e,t,n,r,i){n=n.render;var s=t.ref;return ko(t,i),r=Oy(e,t,n,r,s,i),n=Ny(),e!==null&&!Xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,zr(e,t,i)):(Ue&&n&&Ey(t),t.flags|=1,jt(e,t,r,i),t.child)}function RE(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Wy(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,ZA(e,t,s,r,i)):(e=wd(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:jl,n(o,r)&&e.ref===t.ref)return zr(e,t,i)}return t.flags|=1,e=xi(s,r),e.ref=t.ref,e.return=t,t.child=e}function ZA(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(jl(s,r)&&e.ref===t.ref)if(Xt=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Xt=!0);else return t.lanes=e.lanes,zr(e,t,i)}return Ng(e,t,n,r,i)}function eR(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(To,ln),ln|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,De(To,ln),ln|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,De(To,ln),ln|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,De(To,ln),ln|=r;return jt(e,t,i,n),t.child}function tR(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ng(e,t,n,r,i){var s=Zt(n)?Rs:Lt.current;return s=Bo(t,s),ko(t,i),n=Oy(e,t,n,r,s,i),r=Ny(),e!==null&&!Xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,zr(e,t,i)):(Ue&&r&&Ey(t),t.flags|=1,jt(e,t,n,i),t.child)}function PE(e,t,n,r,i){if(Zt(n)){var s=!0;Xd(t)}else s=!1;if(ko(t,i),t.stateNode===null)vd(e,t),CA(t,n,r),xg(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Rn(u):(u=Zt(n)?Rs:Lt.current,u=Bo(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&yE(t,o,r,u),hi=!1;var h=t.memoizedState;o.state=h,nh(t,r,o,i),l=t.memoizedState,a!==r||h!==l||Jt.current||hi?(typeof c=="function"&&(kg(t,n,c,r),l=t.memoizedState),(a=hi||vE(t,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,RA(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Mn(t.type,a),o.props=u,d=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Rn(l):(l=Zt(n)?Rs:Lt.current,l=Bo(t,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&yE(t,o,r,l),hi=!1,h=t.memoizedState,o.state=h,nh(t,r,o,i);var m=t.memoizedState;a!==d||h!==m||Jt.current||hi?(typeof f=="function"&&(kg(t,n,f,r),m=t.memoizedState),(u=hi||vE(t,n,u,r,h,m,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),o.props=r,o.state=m,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Mg(e,t,n,r,s,i)}function Mg(e,t,n,r,i,s){tR(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&hE(t,n,!1),zr(e,t,s);r=t.stateNode,tM.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Wo(t,e.child,null,s),t.child=Wo(t,null,a,s)):jt(e,t,a,s),t.memoizedState=r.state,i&&hE(t,n,!0),t.child}function nR(e){var t=e.stateNode;t.pendingContext?dE(e,t.pendingContext,t.pendingContext!==t.context):t.context&&dE(e,t.context,!1),by(e,t.containerInfo)}function CE(e,t,n,r,i){return zo(),Ty(i),t.flags|=256,jt(e,t,n,r),t.child}var $g={dehydrated:null,treeContext:null,retryLane:0};function Lg(e){return{baseLanes:e,cachePool:null,transitions:null}}function rR(e,t,n){var r=t.pendingProps,i=Be.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),De(Be,i&1),e===null)return bg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=mf(o,r,0,null),e=_s(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Lg(n),t.memoizedState=$g,e):Ly(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return nM(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=xi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=xi(a,s):(s=_s(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Lg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=$g,r}return s=e.child,e=s.sibling,r=xi(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ly(e,t){return t=mf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Bc(e,t,n,r){return r!==null&&Ty(r),Wo(t,e.child,null,n),e=Ly(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function nM(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=dm(Error($(422))),Bc(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=mf({mode:"visible",children:r.children},i,0,null),s=_s(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Wo(t,e.child,null,o),t.child.memoizedState=Lg(o),t.memoizedState=$g,s);if(!(t.mode&1))return Bc(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error($(419)),r=dm(s,r,void 0),Bc(e,t,o,r)}if(a=(o&e.childLanes)!==0,Xt||a){if(r=dt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Br(e,i),Un(r,e,i,-1))}return zy(),r=dm(Error($(421))),Bc(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=mM.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,un=Ci(i.nextSibling),dn=t,Ue=!0,Ln=null,e!==null&&(yn[_n++]=Cr,yn[_n++]=br,yn[_n++]=Ps,Cr=e.id,br=e.overflow,Ps=t),t=Ly(t,r.children),t.flags|=4096,t)}function bE(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Dg(e.return,t,n)}function hm(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function iR(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(jt(e,t,r.children,n),r=Be.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bE(e,n,t);else if(e.tag===19)bE(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(De(Be,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&rh(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),hm(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&rh(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}hm(t,!0,n,null,s);break;case"together":hm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function vd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),bs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,n=xi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=xi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function rM(e,t,n){switch(t.tag){case 3:nR(t),zo();break;case 5:kA(t);break;case 1:Zt(t.type)&&Xd(t);break;case 4:by(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;De(eh,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(De(Be,Be.current&1),t.flags|=128,null):n&t.child.childLanes?rR(e,t,n):(De(Be,Be.current&1),e=zr(e,t,n),e!==null?e.sibling:null);De(Be,Be.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return iR(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),De(Be,Be.current),r)break;return null;case 22:case 23:return t.lanes=0,eR(e,t,n)}return zr(e,t,n)}var sR,Fg,oR,aR;sR=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Fg=function(){};oR=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,fs(lr.current);var s=null;switch(n){case"input":i=og(e,i),r=og(e,r),s=[];break;case"select":i=He({},i,{value:void 0}),r=He({},r,{value:void 0}),s=[];break;case"textarea":i=ug(e,i),r=ug(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Kd)}dg(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ol.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ol.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ke("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};aR=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ha(e,t){if(!Ue)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Pt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function iM(e,t,n){var r=t.pendingProps;switch(Sy(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(t),null;case 1:return Zt(t.type)&&Qd(),Pt(t),null;case 3:return r=t.stateNode,Ho(),Me(Jt),Me(Lt),ky(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(jc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ln!==null&&(Yg(Ln),Ln=null))),Fg(e,t),Pt(t),null;case 5:Dy(t);var i=fs(Hl.current);if(n=t.type,e!==null&&t.stateNode!=null)oR(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error($(166));return Pt(t),null}if(e=fs(lr.current),jc(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[er]=t,r[zl]=s,e=(t.mode&1)!==0,n){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(i=0;i<sl.length;i++)ke(sl[i],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":F0(r,s),ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ke("invalid",r);break;case"textarea":j0(r,s),ke("invalid",r)}dg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Vc(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Vc(r.textContent,a,e),i=["children",""+a]):Ol.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ke("scroll",r)}switch(n){case"input":kc(r),V0(r,s,!0);break;case"textarea":kc(r),U0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Kd)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=NI(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[er]=t,e[zl]=r,sR(e,t,!1,!1),t.stateNode=e;e:{switch(o=hg(n,r),n){case"dialog":ke("cancel",e),ke("close",e),i=r;break;case"iframe":case"object":case"embed":ke("load",e),i=r;break;case"video":case"audio":for(i=0;i<sl.length;i++)ke(sl[i],e);i=r;break;case"source":ke("error",e),i=r;break;case"img":case"image":case"link":ke("error",e),ke("load",e),i=r;break;case"details":ke("toggle",e),i=r;break;case"input":F0(e,r),i=og(e,r),ke("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=He({},r,{value:void 0}),ke("invalid",e);break;case"textarea":j0(e,r),i=ug(e,r),ke("invalid",e);break;default:i=r}dg(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?LI(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&MI(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Nl(e,l):typeof l=="number"&&Nl(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ol.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ke("scroll",e):l!=null&&ay(e,s,l,o))}switch(n){case"input":kc(e),V0(e,r,!1);break;case"textarea":kc(e),U0(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Vi(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Po(e,!!r.multiple,s,!1):r.defaultValue!=null&&Po(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Kd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Pt(t),null;case 6:if(e&&t.stateNode!=null)aR(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error($(166));if(n=fs(Hl.current),fs(lr.current),jc(t)){if(r=t.stateNode,n=t.memoizedProps,r[er]=t,(s=r.nodeValue!==n)&&(e=dn,e!==null))switch(e.tag){case 3:Vc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Vc(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[er]=t,t.stateNode=r}return Pt(t),null;case 13:if(Me(Be),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ue&&un!==null&&t.mode&1&&!(t.flags&128))IA(),zo(),t.flags|=98560,s=!1;else if(s=jc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error($(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($(317));s[er]=t}else zo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Pt(t),s=!1}else Ln!==null&&(Yg(Ln),Ln=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Be.current&1?st===0&&(st=3):zy())),t.updateQueue!==null&&(t.flags|=4),Pt(t),null);case 4:return Ho(),Fg(e,t),e===null&&Ul(t.stateNode.containerInfo),Pt(t),null;case 10:return Ry(t.type._context),Pt(t),null;case 17:return Zt(t.type)&&Qd(),Pt(t),null;case 19:if(Me(Be),s=t.memoizedState,s===null)return Pt(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Ha(s,!1);else{if(st!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=rh(e),o!==null){for(t.flags|=128,Ha(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return De(Be,Be.current&1|2),t.child}e=e.sibling}s.tail!==null&&Je()>qo&&(t.flags|=128,r=!0,Ha(s,!1),t.lanes=4194304)}else{if(!r)if(e=rh(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ha(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ue)return Pt(t),null}else 2*Je()-s.renderingStartTime>qo&&n!==1073741824&&(t.flags|=128,r=!0,Ha(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Je(),t.sibling=null,n=Be.current,De(Be,r?n&1|2:n&1),t):(Pt(t),null);case 22:case 23:return By(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ln&1073741824&&(Pt(t),t.subtreeFlags&6&&(t.flags|=8192)):Pt(t),null;case 24:return null;case 25:return null}throw Error($(156,t.tag))}function sM(e,t){switch(Sy(t),t.tag){case 1:return Zt(t.type)&&Qd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ho(),Me(Jt),Me(Lt),ky(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Dy(t),null;case 13:if(Me(Be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));zo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Me(Be),null;case 4:return Ho(),null;case 10:return Ry(t.type._context),null;case 22:case 23:return By(),null;case 24:return null;default:return null}}var zc=!1,kt=!1,oM=typeof WeakSet=="function"?WeakSet:Set,q=null;function So(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){qe(e,t,r)}else n.current=null}function Vg(e,t,n){try{n()}catch(r){qe(e,t,r)}}var DE=!1;function aM(e,t){if(Sg=Yd,e=dA(),wy(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=e,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===e)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Tg={focusedElem:e,selectionRange:n},Yd=!1,q=t;q!==null;)if(t=q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,q=e;else for(;q!==null;){t=q;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var p=m.memoizedProps,y=m.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?p:Mn(t.type,p),y);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(E){qe(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,q=e;break}q=t.return}return m=DE,DE=!1,m}function El(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Vg(t,n,s)}i=i.next}while(i!==r)}}function ff(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function jg(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function lR(e){var t=e.alternate;t!==null&&(e.alternate=null,lR(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[er],delete t[zl],delete t[Rg],delete t[zN],delete t[WN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function uR(e){return e.tag===5||e.tag===3||e.tag===4}function kE(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||uR(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ug(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Kd));else if(r!==4&&(e=e.child,e!==null))for(Ug(e,t,n),e=e.sibling;e!==null;)Ug(e,t,n),e=e.sibling}function Bg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Bg(e,t,n),e=e.sibling;e!==null;)Bg(e,t,n),e=e.sibling}var vt=null,$n=!1;function oi(e,t,n){for(n=n.child;n!==null;)cR(e,t,n),n=n.sibling}function cR(e,t,n){if(ar&&typeof ar.onCommitFiberUnmount=="function")try{ar.onCommitFiberUnmount(sf,n)}catch{}switch(n.tag){case 5:kt||So(n,t);case 6:var r=vt,i=$n;vt=null,oi(e,t,n),vt=r,$n=i,vt!==null&&($n?(e=vt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):vt.removeChild(n.stateNode));break;case 18:vt!==null&&($n?(e=vt,n=n.stateNode,e.nodeType===8?sm(e.parentNode,n):e.nodeType===1&&sm(e,n),Fl(e)):sm(vt,n.stateNode));break;case 4:r=vt,i=$n,vt=n.stateNode.containerInfo,$n=!0,oi(e,t,n),vt=r,$n=i;break;case 0:case 11:case 14:case 15:if(!kt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Vg(n,t,o),i=i.next}while(i!==r)}oi(e,t,n);break;case 1:if(!kt&&(So(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){qe(n,t,a)}oi(e,t,n);break;case 21:oi(e,t,n);break;case 22:n.mode&1?(kt=(r=kt)||n.memoizedState!==null,oi(e,t,n),kt=r):oi(e,t,n);break;default:oi(e,t,n)}}function xE(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new oM),t.forEach(function(r){var i=gM.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Nn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:vt=a.stateNode,$n=!1;break e;case 3:vt=a.stateNode.containerInfo,$n=!0;break e;case 4:vt=a.stateNode.containerInfo,$n=!0;break e}a=a.return}if(vt===null)throw Error($(160));cR(s,o,i),vt=null,$n=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){qe(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)dR(t,e),t=t.sibling}function dR(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Nn(t,e),Xn(e),r&4){try{El(3,e,e.return),ff(3,e)}catch(p){qe(e,e.return,p)}try{El(5,e,e.return)}catch(p){qe(e,e.return,p)}}break;case 1:Nn(t,e),Xn(e),r&512&&n!==null&&So(n,n.return);break;case 5:if(Nn(t,e),Xn(e),r&512&&n!==null&&So(n,n.return),e.flags&32){var i=e.stateNode;try{Nl(i,"")}catch(p){qe(e,e.return,p)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&xI(i,s),hg(a,o);var u=hg(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?LI(i,d):c==="dangerouslySetInnerHTML"?MI(i,d):c==="children"?Nl(i,d):ay(i,c,d,u)}switch(a){case"input":ag(i,s);break;case"textarea":OI(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Po(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?Po(i,!!s.multiple,s.defaultValue,!0):Po(i,!!s.multiple,s.multiple?[]:"",!1))}i[zl]=s}catch(p){qe(e,e.return,p)}}break;case 6:if(Nn(t,e),Xn(e),r&4){if(e.stateNode===null)throw Error($(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(p){qe(e,e.return,p)}}break;case 3:if(Nn(t,e),Xn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Fl(t.containerInfo)}catch(p){qe(e,e.return,p)}break;case 4:Nn(t,e),Xn(e);break;case 13:Nn(t,e),Xn(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(jy=Je())),r&4&&xE(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(kt=(u=kt)||c,Nn(t,e),kt=u):Nn(t,e),Xn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(q=e,c=e.child;c!==null;){for(d=q=c;q!==null;){switch(h=q,f=h.child,h.tag){case 0:case 11:case 14:case 15:El(4,h,h.return);break;case 1:So(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(p){qe(r,n,p)}}break;case 5:So(h,h.return);break;case 22:if(h.memoizedState!==null){NE(d);continue}}f!==null?(f.return=h,q=f):NE(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=$I("display",o))}catch(p){qe(e,e.return,p)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(p){qe(e,e.return,p)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Nn(t,e),Xn(e),r&4&&xE(e);break;case 21:break;default:Nn(t,e),Xn(e)}}function Xn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(uR(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Nl(i,""),r.flags&=-33);var s=kE(e);Bg(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=kE(e);Ug(e,a,o);break;default:throw Error($(161))}}catch(l){qe(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function lM(e,t,n){q=e,hR(e)}function hR(e,t,n){for(var r=(e.mode&1)!==0;q!==null;){var i=q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||zc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||kt;a=zc;var u=kt;if(zc=o,(kt=l)&&!u)for(q=i;q!==null;)o=q,l=o.child,o.tag===22&&o.memoizedState!==null?ME(i):l!==null?(l.return=o,q=l):ME(i);for(;s!==null;)q=s,hR(s),s=s.sibling;q=i,zc=a,kt=u}OE(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,q=s):OE(e)}}function OE(e){for(;q!==null;){var t=q;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:kt||ff(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!kt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Mn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&gE(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}gE(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Fl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}kt||t.flags&512&&jg(t)}catch(h){qe(t,t.return,h)}}if(t===e){q=null;break}if(n=t.sibling,n!==null){n.return=t.return,q=n;break}q=t.return}}function NE(e){for(;q!==null;){var t=q;if(t===e){q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,q=n;break}q=t.return}}function ME(e){for(;q!==null;){var t=q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ff(4,t)}catch(l){qe(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){qe(t,i,l)}}var s=t.return;try{jg(t)}catch(l){qe(t,s,l)}break;case 5:var o=t.return;try{jg(t)}catch(l){qe(t,o,l)}}}catch(l){qe(t,t.return,l)}if(t===e){q=null;break}var a=t.sibling;if(a!==null){a.return=t.return,q=a;break}q=t.return}}var uM=Math.ceil,oh=Jr.ReactCurrentDispatcher,Fy=Jr.ReactCurrentOwner,Tn=Jr.ReactCurrentBatchConfig,ye=0,dt=null,tt=null,Et=0,ln=0,To=Gi(0),st=0,Kl=null,bs=0,pf=0,Vy=0,Sl=null,Kt=null,jy=0,qo=1/0,Tr=null,ah=!1,zg=null,Di=null,Wc=!1,wi=null,lh=0,Tl=0,Wg=null,yd=-1,_d=0;function zt(){return ye&6?Je():yd!==-1?yd:yd=Je()}function ki(e){return e.mode&1?ye&2&&Et!==0?Et&-Et:YN.transition!==null?(_d===0&&(_d=KI()),_d):(e=Ie,e!==0||(e=window.event,e=e===void 0?16:nA(e.type)),e):1}function Un(e,t,n,r){if(50<Tl)throw Tl=0,Wg=null,Error($(185));Nu(e,n,r),(!(ye&2)||e!==dt)&&(e===dt&&(!(ye&2)&&(pf|=n),st===4&&pi(e,Et)),en(e,r),n===1&&ye===0&&!(t.mode&1)&&(qo=Je()+500,cf&&Ki()))}function en(e,t){var n=e.callbackNode;YO(e,t);var r=Hd(e,e===dt?Et:0);if(r===0)n!==null&&W0(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&W0(n),t===1)e.tag===0?HN($E.bind(null,e)):EA($E.bind(null,e)),UN(function(){!(ye&6)&&Ki()}),n=null;else{switch(QI(r)){case 1:n=hy;break;case 4:n=qI;break;case 16:n=Wd;break;case 536870912:n=GI;break;default:n=Wd}n=wR(n,fR.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function fR(e,t){if(yd=-1,_d=0,ye&6)throw Error($(327));var n=e.callbackNode;if(xo()&&e.callbackNode!==n)return null;var r=Hd(e,e===dt?Et:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=uh(e,r);else{t=r;var i=ye;ye|=2;var s=mR();(dt!==e||Et!==t)&&(Tr=null,qo=Je()+500,ys(e,t));do try{hM();break}catch(a){pR(e,a)}while(!0);Ay(),oh.current=s,ye=i,tt!==null?t=0:(dt=null,Et=0,t=st)}if(t!==0){if(t===2&&(i=vg(e),i!==0&&(r=i,t=Hg(e,i))),t===1)throw n=Kl,ys(e,0),pi(e,r),en(e,Je()),n;if(t===6)pi(e,r);else{if(i=e.current.alternate,!(r&30)&&!cM(i)&&(t=uh(e,r),t===2&&(s=vg(e),s!==0&&(r=s,t=Hg(e,s))),t===1))throw n=Kl,ys(e,0),pi(e,r),en(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error($(345));case 2:as(e,Kt,Tr);break;case 3:if(pi(e,r),(r&130023424)===r&&(t=jy+500-Je(),10<t)){if(Hd(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){zt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ag(as.bind(null,e,Kt,Tr),t);break}as(e,Kt,Tr);break;case 4:if(pi(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-jn(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*uM(r/1960))-r,10<r){e.timeoutHandle=Ag(as.bind(null,e,Kt,Tr),r);break}as(e,Kt,Tr);break;case 5:as(e,Kt,Tr);break;default:throw Error($(329))}}}return en(e,Je()),e.callbackNode===n?fR.bind(null,e):null}function Hg(e,t){var n=Sl;return e.current.memoizedState.isDehydrated&&(ys(e,t).flags|=256),e=uh(e,t),e!==2&&(t=Kt,Kt=n,t!==null&&Yg(t)),e}function Yg(e){Kt===null?Kt=e:Kt.push.apply(Kt,e)}function cM(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Bn(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function pi(e,t){for(t&=~Vy,t&=~pf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-jn(t),r=1<<n;e[n]=-1,t&=~r}}function $E(e){if(ye&6)throw Error($(327));xo();var t=Hd(e,0);if(!(t&1))return en(e,Je()),null;var n=uh(e,t);if(e.tag!==0&&n===2){var r=vg(e);r!==0&&(t=r,n=Hg(e,r))}if(n===1)throw n=Kl,ys(e,0),pi(e,t),en(e,Je()),n;if(n===6)throw Error($(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,as(e,Kt,Tr),en(e,Je()),null}function Uy(e,t){var n=ye;ye|=1;try{return e(t)}finally{ye=n,ye===0&&(qo=Je()+500,cf&&Ki())}}function Ds(e){wi!==null&&wi.tag===0&&!(ye&6)&&xo();var t=ye;ye|=1;var n=Tn.transition,r=Ie;try{if(Tn.transition=null,Ie=1,e)return e()}finally{Ie=r,Tn.transition=n,ye=t,!(ye&6)&&Ki()}}function By(){ln=To.current,Me(To)}function ys(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,jN(n)),tt!==null)for(n=tt.return;n!==null;){var r=n;switch(Sy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Qd();break;case 3:Ho(),Me(Jt),Me(Lt),ky();break;case 5:Dy(r);break;case 4:Ho();break;case 13:Me(Be);break;case 19:Me(Be);break;case 10:Ry(r.type._context);break;case 22:case 23:By()}n=n.return}if(dt=e,tt=e=xi(e.current,null),Et=ln=t,st=0,Kl=null,Vy=pf=bs=0,Kt=Sl=null,hs!==null){for(t=0;t<hs.length;t++)if(n=hs[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}hs=null}return e}function pR(e,t){do{var n=tt;try{if(Ay(),md.current=sh,ih){for(var r=ze.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ih=!1}if(Cs=0,ct=it=ze=null,wl=!1,Yl=0,Fy.current=null,n===null||n.return===null){st=1,Kl=t,tt=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=Et,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=TE(o);if(f!==null){f.flags&=-257,IE(f,o,a,s,t),f.mode&1&&SE(s,u,t),t=f,l=u;var m=t.updateQueue;if(m===null){var p=new Set;p.add(l),t.updateQueue=p}else m.add(l);break e}else{if(!(t&1)){SE(s,u,t),zy();break e}l=Error($(426))}}else if(Ue&&a.mode&1){var y=TE(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),IE(y,o,a,s,t),Ty(Yo(l,a));break e}}s=l=Yo(l,a),st!==4&&(st=2),Sl===null?Sl=[s]:Sl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=XA(s,l,t);mE(s,g);break e;case 1:a=l;var v=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Di===null||!Di.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var E=JA(s,a,t);mE(s,E);break e}}s=s.return}while(s!==null)}vR(n)}catch(S){t=S,tt===n&&n!==null&&(tt=n=n.return);continue}break}while(!0)}function mR(){var e=oh.current;return oh.current=sh,e===null?sh:e}function zy(){(st===0||st===3||st===2)&&(st=4),dt===null||!(bs&268435455)&&!(pf&268435455)||pi(dt,Et)}function uh(e,t){var n=ye;ye|=2;var r=mR();(dt!==e||Et!==t)&&(Tr=null,ys(e,t));do try{dM();break}catch(i){pR(e,i)}while(!0);if(Ay(),ye=n,oh.current=r,tt!==null)throw Error($(261));return dt=null,Et=0,st}function dM(){for(;tt!==null;)gR(tt)}function hM(){for(;tt!==null&&!LO();)gR(tt)}function gR(e){var t=_R(e.alternate,e,ln);e.memoizedProps=e.pendingProps,t===null?vR(e):tt=t,Fy.current=null}function vR(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=sM(n,t),n!==null){n.flags&=32767,tt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{st=6,tt=null;return}}else if(n=iM(n,t,ln),n!==null){tt=n;return}if(t=t.sibling,t!==null){tt=t;return}tt=t=e}while(t!==null);st===0&&(st=5)}function as(e,t,n){var r=Ie,i=Tn.transition;try{Tn.transition=null,Ie=1,fM(e,t,n,r)}finally{Tn.transition=i,Ie=r}return null}function fM(e,t,n,r){do xo();while(wi!==null);if(ye&6)throw Error($(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error($(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(qO(e,s),e===dt&&(tt=dt=null,Et=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wc||(Wc=!0,wR(Wd,function(){return xo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Tn.transition,Tn.transition=null;var o=Ie;Ie=1;var a=ye;ye|=4,Fy.current=null,aM(e,n),dR(n,e),ON(Tg),Yd=!!Sg,Tg=Sg=null,e.current=n,lM(n),FO(),ye=a,Ie=o,Tn.transition=s}else e.current=n;if(Wc&&(Wc=!1,wi=e,lh=i),s=e.pendingLanes,s===0&&(Di=null),UO(n.stateNode),en(e,Je()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ah)throw ah=!1,e=zg,zg=null,e;return lh&1&&e.tag!==0&&xo(),s=e.pendingLanes,s&1?e===Wg?Tl++:(Tl=0,Wg=e):Tl=0,Ki(),null}function xo(){if(wi!==null){var e=QI(lh),t=Tn.transition,n=Ie;try{if(Tn.transition=null,Ie=16>e?16:e,wi===null)var r=!1;else{if(e=wi,wi=null,lh=0,ye&6)throw Error($(331));var i=ye;for(ye|=4,q=e.current;q!==null;){var s=q,o=s.child;if(q.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(q=u;q!==null;){var c=q;switch(c.tag){case 0:case 11:case 15:El(8,c,s)}var d=c.child;if(d!==null)d.return=c,q=d;else for(;q!==null;){c=q;var h=c.sibling,f=c.return;if(lR(c),c===u){q=null;break}if(h!==null){h.return=f,q=h;break}q=f}}}var m=s.alternate;if(m!==null){var p=m.child;if(p!==null){m.child=null;do{var y=p.sibling;p.sibling=null,p=y}while(p!==null)}}q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,q=o;else e:for(;q!==null;){if(s=q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:El(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,q=g;break e}q=s.return}}var v=e.current;for(q=v;q!==null;){o=q;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,q=w;else e:for(o=v;q!==null;){if(a=q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ff(9,a)}}catch(S){qe(a,a.return,S)}if(a===o){q=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,q=E;break e}q=a.return}}if(ye=i,Ki(),ar&&typeof ar.onPostCommitFiberRoot=="function")try{ar.onPostCommitFiberRoot(sf,e)}catch{}r=!0}return r}finally{Ie=n,Tn.transition=t}}return!1}function LE(e,t,n){t=Yo(n,t),t=XA(e,t,1),e=bi(e,t,1),t=zt(),e!==null&&(Nu(e,1,t),en(e,t))}function qe(e,t,n){if(e.tag===3)LE(e,e,n);else for(;t!==null;){if(t.tag===3){LE(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Di===null||!Di.has(r))){e=Yo(n,e),e=JA(t,e,1),t=bi(t,e,1),e=zt(),t!==null&&(Nu(t,1,e),en(t,e));break}}t=t.return}}function pM(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=zt(),e.pingedLanes|=e.suspendedLanes&n,dt===e&&(Et&n)===n&&(st===4||st===3&&(Et&130023424)===Et&&500>Je()-jy?ys(e,0):Vy|=n),en(e,t)}function yR(e,t){t===0&&(e.mode&1?(t=Nc,Nc<<=1,!(Nc&130023424)&&(Nc=4194304)):t=1);var n=zt();e=Br(e,t),e!==null&&(Nu(e,t,n),en(e,n))}function mM(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),yR(e,n)}function gM(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(t),yR(e,n)}var _R;_R=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Jt.current)Xt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Xt=!1,rM(e,t,n);Xt=!!(e.flags&131072)}else Xt=!1,Ue&&t.flags&1048576&&SA(t,Zd,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;vd(e,t),e=t.pendingProps;var i=Bo(t,Lt.current);ko(t,n),i=Oy(null,t,r,e,i,n);var s=Ny();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Zt(r)?(s=!0,Xd(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Cy(t),i.updater=df,t.stateNode=i,i._reactInternals=t,xg(t,r,e,n),t=Mg(null,t,r,!0,s,n)):(t.tag=0,Ue&&s&&Ey(t),jt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(vd(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=yM(r),e=Mn(r,e),i){case 0:t=Ng(null,t,r,e,n);break e;case 1:t=PE(null,t,r,e,n);break e;case 11:t=AE(null,t,r,e,n);break e;case 14:t=RE(null,t,r,Mn(r.type,e),n);break e}throw Error($(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Mn(r,i),Ng(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Mn(r,i),PE(e,t,r,i,n);case 3:e:{if(nR(t),e===null)throw Error($(387));r=t.pendingProps,s=t.memoizedState,i=s.element,RA(e,t),nh(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Yo(Error($(423)),t),t=CE(e,t,r,n,i);break e}else if(r!==i){i=Yo(Error($(424)),t),t=CE(e,t,r,n,i);break e}else for(un=Ci(t.stateNode.containerInfo.firstChild),dn=t,Ue=!0,Ln=null,n=DA(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zo(),r===i){t=zr(e,t,n);break e}jt(e,t,r,n)}t=t.child}return t;case 5:return kA(t),e===null&&bg(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Ig(r,i)?o=null:s!==null&&Ig(r,s)&&(t.flags|=32),tR(e,t),jt(e,t,o,n),t.child;case 6:return e===null&&bg(t),null;case 13:return rR(e,t,n);case 4:return by(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Wo(t,null,r,n):jt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Mn(r,i),AE(e,t,r,i,n);case 7:return jt(e,t,t.pendingProps,n),t.child;case 8:return jt(e,t,t.pendingProps.children,n),t.child;case 12:return jt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,De(eh,r._currentValue),r._currentValue=o,s!==null)if(Bn(s.value,o)){if(s.children===i.children&&!Jt.current){t=zr(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Mr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Dg(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error($(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Dg(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}jt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ko(t,n),i=Rn(i),r=r(i),t.flags|=1,jt(e,t,r,n),t.child;case 14:return r=t.type,i=Mn(r,t.pendingProps),i=Mn(r.type,i),RE(e,t,r,i,n);case 15:return ZA(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Mn(r,i),vd(e,t),t.tag=1,Zt(r)?(e=!0,Xd(t)):e=!1,ko(t,n),CA(t,r,i),xg(t,r,i,n),Mg(null,t,r,!0,e,n);case 19:return iR(e,t,n);case 22:return eR(e,t,n)}throw Error($(156,t.tag))};function wR(e,t){return YI(e,t)}function vM(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(e,t,n,r){return new vM(e,t,n,r)}function Wy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function yM(e){if(typeof e=="function")return Wy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===uy)return 11;if(e===cy)return 14}return 2}function xi(e,t){var n=e.alternate;return n===null?(n=Sn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function wd(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")Wy(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case fo:return _s(n.children,i,s,t);case ly:o=8,i|=8;break;case ng:return e=Sn(12,n,t,i|2),e.elementType=ng,e.lanes=s,e;case rg:return e=Sn(13,n,t,i),e.elementType=rg,e.lanes=s,e;case ig:return e=Sn(19,n,t,i),e.elementType=ig,e.lanes=s,e;case bI:return mf(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case PI:o=10;break e;case CI:o=9;break e;case uy:o=11;break e;case cy:o=14;break e;case di:o=16,r=null;break e}throw Error($(130,e==null?e:typeof e,""))}return t=Sn(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function _s(e,t,n,r){return e=Sn(7,e,r,t),e.lanes=n,e}function mf(e,t,n,r){return e=Sn(22,e,r,t),e.elementType=bI,e.lanes=n,e.stateNode={isHidden:!1},e}function fm(e,t,n){return e=Sn(6,e,null,t),e.lanes=n,e}function pm(e,t,n){return t=Sn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function _M(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gp(0),this.expirationTimes=Gp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Hy(e,t,n,r,i,s,o,a,l){return e=new _M(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Sn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cy(s),e}function wM(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ho,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function ER(e){if(!e)return ji;e=e._reactInternals;e:{if(Ys(e)!==e||e.tag!==1)throw Error($(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Zt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($(171))}if(e.tag===1){var n=e.type;if(Zt(n))return wA(e,n,t)}return t}function SR(e,t,n,r,i,s,o,a,l){return e=Hy(n,r,!0,e,i,s,o,a,l),e.context=ER(null),n=e.current,r=zt(),i=ki(n),s=Mr(r,i),s.callback=t??null,bi(n,s,i),e.current.lanes=i,Nu(e,i,r),en(e,r),e}function gf(e,t,n,r){var i=t.current,s=zt(),o=ki(i);return n=ER(n),t.context===null?t.context=n:t.pendingContext=n,t=Mr(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=bi(i,t,o),e!==null&&(Un(e,i,o,s),pd(e,i,o)),o}function ch(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function FE(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Yy(e,t){FE(e,t),(e=e.alternate)&&FE(e,t)}function EM(){return null}var TR=typeof reportError=="function"?reportError:function(e){console.error(e)};function qy(e){this._internalRoot=e}vf.prototype.render=qy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));gf(e,t,null,null)};vf.prototype.unmount=qy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ds(function(){gf(null,e,null,null)}),t[Ur]=null}};function vf(e){this._internalRoot=e}vf.prototype.unstable_scheduleHydration=function(e){if(e){var t=ZI();e={blockedOn:null,target:e,priority:t};for(var n=0;n<fi.length&&t!==0&&t<fi[n].priority;n++);fi.splice(n,0,e),n===0&&tA(e)}};function Gy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function yf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function VE(){}function SM(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=ch(o);s.call(u)}}var o=SR(t,r,e,0,null,!1,!1,"",VE);return e._reactRootContainer=o,e[Ur]=o.current,Ul(e.nodeType===8?e.parentNode:e),Ds(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=ch(l);a.call(u)}}var l=Hy(e,0,!1,null,null,!1,!1,"",VE);return e._reactRootContainer=l,e[Ur]=l.current,Ul(e.nodeType===8?e.parentNode:e),Ds(function(){gf(t,l,n,r)}),l}function _f(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=ch(o);a.call(l)}}gf(t,o,e,i)}else o=SM(n,t,e,i,r);return ch(o)}XI=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=il(t.pendingLanes);n!==0&&(fy(t,n|1),en(t,Je()),!(ye&6)&&(qo=Je()+500,Ki()))}break;case 13:Ds(function(){var r=Br(e,1);if(r!==null){var i=zt();Un(r,e,1,i)}}),Yy(e,1)}};py=function(e){if(e.tag===13){var t=Br(e,134217728);if(t!==null){var n=zt();Un(t,e,134217728,n)}Yy(e,134217728)}};JI=function(e){if(e.tag===13){var t=ki(e),n=Br(e,t);if(n!==null){var r=zt();Un(n,e,t,r)}Yy(e,t)}};ZI=function(){return Ie};eA=function(e,t){var n=Ie;try{return Ie=e,t()}finally{Ie=n}};pg=function(e,t,n){switch(t){case"input":if(ag(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=uf(r);if(!i)throw Error($(90));kI(r),ag(r,i)}}}break;case"textarea":OI(e,n);break;case"select":t=n.value,t!=null&&Po(e,!!n.multiple,t,!1)}};jI=Uy;UI=Ds;var TM={usingClientEntryPoint:!1,Events:[$u,vo,uf,FI,VI,Uy]},Ya={findFiberByHostInstance:ds,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},IM={bundleType:Ya.bundleType,version:Ya.version,rendererPackageName:Ya.rendererPackageName,rendererConfig:Ya.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=WI(e),e===null?null:e.stateNode},findFiberByHostInstance:Ya.findFiberByHostInstance||EM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hc.isDisabled&&Hc.supportsFiber)try{sf=Hc.inject(IM),ar=Hc}catch{}}mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TM;mn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gy(t))throw Error($(200));return wM(e,t,null,n)};mn.createRoot=function(e,t){if(!Gy(e))throw Error($(299));var n=!1,r="",i=TR;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Hy(e,1,!1,null,null,n,!1,r,i),e[Ur]=t.current,Ul(e.nodeType===8?e.parentNode:e),new qy(t)};mn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=WI(t),e=e===null?null:e.stateNode,e};mn.flushSync=function(e){return Ds(e)};mn.hydrate=function(e,t,n){if(!yf(t))throw Error($(200));return _f(null,e,t,!0,n)};mn.hydrateRoot=function(e,t,n){if(!Gy(e))throw Error($(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=TR;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=SR(t,null,e,1,n??null,i,!1,s,o),e[Ur]=t.current,Ul(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new vf(t)};mn.render=function(e,t,n){if(!yf(t))throw Error($(200));return _f(null,e,t,!1,n)};mn.unmountComponentAtNode=function(e){if(!yf(e))throw Error($(40));return e._reactRootContainer?(Ds(function(){_f(null,null,e,!1,function(){e._reactRootContainer=null,e[Ur]=null})}),!0):!1};mn.unstable_batchedUpdates=Uy;mn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!yf(n))throw Error($(200));if(e==null||e._reactInternals===void 0)throw Error($(38));return _f(e,t,n,!1,r)};mn.version="18.2.0-next-9e3b772b8-20220608";function IR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(IR)}catch(e){console.error(e)}}IR(),SI.exports=mn;var AR=SI.exports;const RR=on(AR);var jE=AR;eg.createRoot=jE.createRoot,eg.hydrateRoot=jE.hydrateRoot;let Yc;const AM=new Uint8Array(16);function RM(){if(!Yc&&(Yc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Yc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Yc(AM)}const gt=[];for(let e=0;e<256;++e)gt.push((e+256).toString(16).slice(1));function PM(e,t=0){return gt[e[t+0]]+gt[e[t+1]]+gt[e[t+2]]+gt[e[t+3]]+"-"+gt[e[t+4]]+gt[e[t+5]]+"-"+gt[e[t+6]]+gt[e[t+7]]+"-"+gt[e[t+8]]+gt[e[t+9]]+"-"+gt[e[t+10]]+gt[e[t+11]]+gt[e[t+12]]+gt[e[t+13]]+gt[e[t+14]]+gt[e[t+15]]}const CM=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),UE={randomUUID:CM};function BE(e,t,n){if(UE.randomUUID&&!t&&!e)return UE.randomUUID();e=e||{};const r=e.random||(e.rng||RM)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return PM(r)}/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ql(){return Ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ql.apply(this,arguments)}var Ei;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ei||(Ei={}));const zE="popstate";function bM(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return qg("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:dh(i)}return kM(t,n,null,e)}function rt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function PR(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function DM(){return Math.random().toString(36).substr(2,8)}function WE(e,t){return{usr:e.state,key:e.key,idx:t}}function qg(e,t,n,r){return n===void 0&&(n=null),Ql({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?pa(t):t,{state:n,key:t&&t.key||r||DM()})}function dh(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function pa(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function kM(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Ei.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Ql({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=Ei.Pop;let y=c(),g=y==null?null:y-u;u=y,l&&l({action:a,location:p.location,delta:g})}function h(y,g){a=Ei.Push;let v=qg(p.location,y,g);n&&n(v,y),u=c()+1;let w=WE(v,u),E=p.createHref(v);try{o.pushState(w,"",E)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(E)}s&&l&&l({action:a,location:p.location,delta:1})}function f(y,g){a=Ei.Replace;let v=qg(p.location,y,g);n&&n(v,y),u=c();let w=WE(v,u),E=p.createHref(v);o.replaceState(w,"",E),s&&l&&l({action:a,location:p.location,delta:0})}function m(y){let g=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof y=="string"?y:dh(y);return v=v.replace(/ $/,"%20"),rt(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let p={get action(){return a},get location(){return e(i,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(zE,d),l=y,()=>{i.removeEventListener(zE,d),l=null}},createHref(y){return t(i,y)},createURL:m,encodeLocation(y){let g=m(y);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:f,go(y){return o.go(y)}};return p}var HE;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(HE||(HE={}));function xM(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?pa(t):t,i=Ky(r.pathname||"/",n);if(i==null)return null;let s=CR(e);OM(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let l=HM(i);o=BM(s[a],l)}return o}function CR(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(rt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Oi([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(rt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),CR(s.children,t,c,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:jM(u,s.index),routesMeta:c})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of bR(s.path))i(s,o,l)}),t}function bR(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=bR(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function OM(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:UM(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const NM=/^:[\w-]+$/,MM=3,$M=2,LM=1,FM=10,VM=-2,YE=e=>e==="*";function jM(e,t){let n=e.split("/"),r=n.length;return n.some(YE)&&(r+=VM),t&&(r+=$M),n.filter(i=>!YE(i)).reduce((i,s)=>i+(NM.test(s)?MM:s===""?LM:FM),r)}function UM(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function BM(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",c=zM({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:Oi([i,c.pathname]),pathnameBase:KM(Oi([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=Oi([i,c.pathnameBase]))}return s}function zM(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=WM(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:h,isOptional:f}=c;if(h==="*"){let p=a[d]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const m=a[d];return f&&!m?u[h]=void 0:u[h]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function WM(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),PR(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function HM(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return PR(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ky(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function YM(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?pa(e):e;return{pathname:n?n.startsWith("/")?n:qM(n,t):t,search:QM(r),hash:XM(i)}}function qM(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function mm(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function GM(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function DR(e,t){let n=GM(e);return t?n.map((r,i)=>i===e.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function kR(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=pa(e):(i=Ql({},e),rt(!i.pathname||!i.pathname.includes("?"),mm("?","pathname","search",i)),rt(!i.pathname||!i.pathname.includes("#"),mm("#","pathname","hash",i)),rt(!i.search||!i.search.includes("#"),mm("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?t[d]:"/"}let l=YM(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Oi=e=>e.join("/").replace(/\/\/+/g,"/"),KM=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),QM=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,XM=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function JM(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const xR=["post","put","patch","delete"];new Set(xR);const ZM=["get",...xR];new Set(ZM);/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xl(){return Xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xl.apply(this,arguments)}const Qy=A.createContext(null),e$=A.createContext(null),qs=A.createContext(null),wf=A.createContext(null),Gs=A.createContext({outlet:null,matches:[],isDataRoute:!1}),OR=A.createContext(null);function t$(e,t){let{relative:n}=t===void 0?{}:t;Fu()||rt(!1);let{basename:r,navigator:i}=A.useContext(qs),{hash:s,pathname:o,search:a}=MR(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Oi([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Fu(){return A.useContext(wf)!=null}function Vu(){return Fu()||rt(!1),A.useContext(wf).location}function NR(e){A.useContext(qs).static||A.useLayoutEffect(e)}function ma(){let{isDataRoute:e}=A.useContext(Gs);return e?p$():n$()}function n$(){Fu()||rt(!1);let e=A.useContext(Qy),{basename:t,future:n,navigator:r}=A.useContext(qs),{matches:i}=A.useContext(Gs),{pathname:s}=Vu(),o=JSON.stringify(DR(i,n.v7_relativeSplatPath)),a=A.useRef(!1);return NR(()=>{a.current=!0}),A.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=kR(u,JSON.parse(o),s,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Oi([t,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[t,r,o,s,e])}function MR(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=A.useContext(qs),{matches:i}=A.useContext(Gs),{pathname:s}=Vu(),o=JSON.stringify(DR(i,r.v7_relativeSplatPath));return A.useMemo(()=>kR(e,JSON.parse(o),s,n==="path"),[e,o,s,n])}function r$(e,t){return i$(e,t)}function i$(e,t,n,r){Fu()||rt(!1);let{navigator:i}=A.useContext(qs),{matches:s}=A.useContext(Gs),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Vu(),c;if(t){var d;let y=typeof t=="string"?pa(t):t;l==="/"||(d=y.pathname)!=null&&d.startsWith(l)||rt(!1),c=y}else c=u;let h=c.pathname||"/",f=h;if(l!=="/"){let y=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=xM(e,{pathname:f}),p=u$(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:Oi([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Oi([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,n,r);return t&&p?A.createElement(wf.Provider,{value:{location:Xl({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Ei.Pop}},p):p}function s$(){let e=f$(),t=JM(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},t),n?A.createElement("pre",{style:i},n):null,null)}const o$=A.createElement(s$,null);class a$ extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?A.createElement(Gs.Provider,{value:this.props.routeContext},A.createElement(OR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function l$(e){let{routeContext:t,match:n,children:r}=e,i=A.useContext(Qy);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(Gs.Provider,{value:t},r)}function u$(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if((s=n)!=null&&s.errors)e=n.matches;else return null}let o=e,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id]));c>=0||rt(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:f}=n,m=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||m){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,h)=>{let f,m=!1,p=null,y=null;n&&(f=a&&d.route.id?a[d.route.id]:void 0,p=d.route.errorElement||o$,l&&(u<0&&h===0?(m$("route-fallback",!1),m=!0,y=null):u===h&&(m=!0,y=d.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,h+1)),v=()=>{let w;return f?w=p:m?w=y:d.route.Component?w=A.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=c,A.createElement(l$,{match:d,routeContext:{outlet:c,matches:g,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?A.createElement(a$,{location:n.location,revalidation:n.revalidation,component:p,error:f,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var $R=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}($R||{}),hh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(hh||{});function c$(e){let t=A.useContext(Qy);return t||rt(!1),t}function d$(e){let t=A.useContext(e$);return t||rt(!1),t}function h$(e){let t=A.useContext(Gs);return t||rt(!1),t}function LR(e){let t=h$(),n=t.matches[t.matches.length-1];return n.route.id||rt(!1),n.route.id}function f$(){var e;let t=A.useContext(OR),n=d$(hh.UseRouteError),r=LR(hh.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function p$(){let{router:e}=c$($R.UseNavigateStable),t=LR(hh.UseNavigateStable),n=A.useRef(!1);return NR(()=>{n.current=!0}),A.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Xl({fromRouteId:t},s)))},[e,t])}const qE={};function m$(e,t,n){!t&&!qE[e]&&(qE[e]=!0)}function an(e){rt(!1)}function g$(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Ei.Pop,navigator:s,static:o=!1,future:a}=e;Fu()&&rt(!1);let l=t.replace(/^\/*/,"/"),u=A.useMemo(()=>({basename:l,navigator:s,static:o,future:Xl({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=pa(r));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:m="default"}=r,p=A.useMemo(()=>{let y=Ky(c,l);return y==null?null:{location:{pathname:y,search:d,hash:h,state:f,key:m},navigationType:i}},[l,c,d,h,f,m,i]);return p==null?null:A.createElement(qs.Provider,{value:u},A.createElement(wf.Provider,{children:n,value:p}))}function v$(e){let{children:t,location:n}=e;return r$(Gg(t),n)}new Promise(()=>{});function Gg(e,t){t===void 0&&(t=[]);let n=[];return A.Children.forEach(e,(r,i)=>{if(!A.isValidElement(r))return;let s=[...t,i];if(r.type===A.Fragment){n.push.apply(n,Gg(r.props.children,s));return}r.type!==an&&rt(!1),!r.props.index||!r.props.children||rt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Gg(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kg(){return Kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kg.apply(this,arguments)}function y$(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function _$(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function w$(e,t){return e.button===0&&(!t||t==="_self")&&!_$(e)}const E$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],S$="6";try{window.__reactRouterVersion=S$}catch{}const T$="startTransition",GE=mO[T$];function I$(e){let{basename:t,children:n,future:r,window:i}=e,s=A.useRef();s.current==null&&(s.current=bM({window:i,v5Compat:!0}));let o=s.current,[a,l]=A.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=A.useCallback(d=>{u&&GE?GE(()=>l(d)):l(d)},[l,u]);return A.useLayoutEffect(()=>o.listen(c),[o,c]),A.createElement(g$,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const A$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",R$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jn=A.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:d}=t,h=y$(t,E$),{basename:f}=A.useContext(qs),m,p=!1;if(typeof u=="string"&&R$.test(u)&&(m=u,A$))try{let w=new URL(window.location.href),E=u.startsWith("//")?new URL(w.protocol+u):new URL(u),S=Ky(E.pathname,f);E.origin===w.origin&&S!=null?u=S+E.search+E.hash:p=!0}catch{}let y=t$(u,{relative:i}),g=P$(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:d});function v(w){r&&r(w),w.defaultPrevented||g(w)}return A.createElement("a",Kg({},h,{href:m||y,onClick:p||s?r:v,ref:n,target:l}))});var KE;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(KE||(KE={}));var QE;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(QE||(QE={}));function P$(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=t===void 0?{}:t,l=ma(),u=Vu(),c=MR(e,{relative:o});return A.useCallback(d=>{if(w$(d,n)){d.preventDefault();let h=r!==void 0?r:dh(u)===dh(c);l(e,{replace:h,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,c,r,i,n,e,s,o,a])}const Zr=()=>{const[e,t]=A.useState(!1),n=()=>{t(!e)},r=()=>{t(!1)},i=()=>{localStorage.clear(),r()};return A.useEffect(()=>{const s=o=>{document.querySelector(".burger-menu").contains(o.target)||r()};return e&&document.addEventListener("click",s),()=>{document.removeEventListener("click",s)}},[e]),_.jsxs("div",{className:"burger-menu",children:[_.jsxs("div",{className:"burger-icon",onClick:n,children:[_.jsx("div",{className:`burger-line ${e?"open":""}`}),_.jsx("div",{className:`burger-line ${e?"open":""}`}),_.jsx("div",{className:`burger-line ${e?"open":""}`})]}),_.jsx("div",{className:`menu ${e?"open":""}`,children:_.jsxs("ul",{className:"burger-menu-options",children:[_.jsx("li",{children:_.jsx(Jn,{to:"/home",onClick:r,children:"Home"})}),_.jsx("li",{children:_.jsx(Jn,{to:"/plant-details",onClick:r,children:"Search"})}),_.jsx("li",{children:_.jsx(Jn,{to:"/weather",onClick:r,children:"Weather"})}),_.jsx("li",{children:_.jsx(Jn,{to:"/calendar",onClick:r,children:"Calendar"})}),_.jsx("li",{children:_.jsx(Jn,{to:"/discussion-board",onClick:r,children:"Discussion Board"})}),_.jsx("li",{children:_.jsx(Jn,{to:"/reminders",onClick:r,children:"Reminders"})}),_.jsx("li",{children:_.jsx(Jn,{to:"/optimal-plants",onClick:r,children:"Optimal Plants"})}),_.jsx("li",{children:_.jsx(Jn,{to:"/about-us",onClick:r,children:"About Us"})}),_.jsx("li",{children:_.jsx(Jn,{to:"/account-settings",onClick:r,children:"Account Settings"})}),_.jsx("li",{children:_.jsx(Jn,{to:"/",onClick:i,children:"Logout"})})]})})]})};var XE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},C$=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},VR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(h=64)),r.push(n[c],n[d],n[h],n[f])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(FR(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):C$(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new b$;const h=s<<2|a>>4;if(r.push(h),u!==64){const f=a<<4&240|u>>2;if(r.push(f),d!==64){const m=u<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class b$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const D$=function(e){const t=FR(e);return VR.encodeByteArray(t,!0)},fh=function(e){return D$(e).replace(/\./g,"")},jR=function(e){try{return VR.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x$=()=>k$().__FIREBASE_DEFAULTS__,O$=()=>{if(typeof process>"u"||typeof XE>"u")return;const e=XE.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},N$=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&jR(e[1]);return t&&JSON.parse(t)},Xy=()=>{try{return x$()||O$()||N$()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},UR=e=>{var t,n;return(n=(t=Xy())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},M$=e=>{const t=UR(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},BR=()=>{var e;return(e=Xy())===null||e===void 0?void 0:e.config},zR=e=>{var t;return(t=Xy())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L$(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[fh(JSON.stringify(n)),fh(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function F$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ft())}function V$(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function j$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function U$(){const e=Ft();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function B$(){try{return typeof indexedDB=="object"}catch{return!1}}function z$(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W$="FirebaseError";class ei extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=W$,Object.setPrototypeOf(this,ei.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ju.prototype.create)}}class ju{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?H$(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ei(i,a,r)}}function H$(e,t){return e.replace(Y$,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const Y$=/\{\$([^}]+)}/g;function q$(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ph(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(JE(s)&&JE(o)){if(!ph(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function JE(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function ol(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(s)}}),t}function al(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function G$(e,t){const n=new K$(e,t);return n.subscribe.bind(n)}class K${constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Q$(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=gm),i.error===void 0&&(i.error=gm),i.complete===void 0&&(i.complete=gm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Q$(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function gm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(e){return e&&e._delegate?e._delegate:e}class ks{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X${constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new $$;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Z$(t))try{this.getOrInitializeService({instanceIdentifier:ls})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=ls){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ls){return this.instances.has(t)}getOptions(t=ls){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:J$(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=ls){return this.component?this.component.multipleInstances?t:ls:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function J$(e){return e===ls?void 0:e}function Z$(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new X$(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var he;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(he||(he={}));const tL={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},nL=he.INFO,rL={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},iL=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=rL[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Jy{constructor(t){this.name=t,this._logLevel=nL,this._logHandler=iL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in he))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?tL[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...t),this._logHandler(this,he.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...t),this._logHandler(this,he.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,he.INFO,...t),this._logHandler(this,he.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,he.WARN,...t),this._logHandler(this,he.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...t),this._logHandler(this,he.ERROR,...t)}}const sL=(e,t)=>t.some(n=>e instanceof n);let ZE,eS;function oL(){return ZE||(ZE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aL(){return eS||(eS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WR=new WeakMap,Qg=new WeakMap,HR=new WeakMap,vm=new WeakMap,Zy=new WeakMap;function lL(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Ni(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&WR.set(n,e)}).catch(()=>{}),Zy.set(t,e),t}function uL(e){if(Qg.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});Qg.set(e,t)}let Xg={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Qg.get(e);if(t==="objectStoreNames")return e.objectStoreNames||HR.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ni(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function cL(e){Xg=e(Xg)}function dL(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(ym(this),t,...n);return HR.set(r,t.sort?t.sort():[t]),Ni(r)}:aL().includes(e)?function(...t){return e.apply(ym(this),t),Ni(WR.get(this))}:function(...t){return Ni(e.apply(ym(this),t))}}function hL(e){return typeof e=="function"?dL(e):(e instanceof IDBTransaction&&uL(e),sL(e,oL())?new Proxy(e,Xg):e)}function Ni(e){if(e instanceof IDBRequest)return lL(e);if(vm.has(e))return vm.get(e);const t=hL(e);return t!==e&&(vm.set(e,t),Zy.set(t,e)),t}const ym=e=>Zy.get(e);function fL(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=Ni(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ni(o.result),l.oldVersion,l.newVersion,Ni(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const pL=["get","getKey","getAll","getAllKeys","count"],mL=["put","add","delete","clear"],_m=new Map;function tS(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(_m.get(t))return _m.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=mL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||pL.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return _m.set(t,s),s}cL(e=>({...e,get:(t,n,r)=>tS(t,n)||e.get(t,n,r),has:(t,n)=>!!tS(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function vL(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Jg="@firebase/app",nS="0.9.23";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=new Jy("@firebase/app"),yL="@firebase/app-compat",_L="@firebase/analytics-compat",wL="@firebase/analytics",EL="@firebase/app-check-compat",SL="@firebase/app-check",TL="@firebase/auth",IL="@firebase/auth-compat",AL="@firebase/database",RL="@firebase/database-compat",PL="@firebase/functions",CL="@firebase/functions-compat",bL="@firebase/installations",DL="@firebase/installations-compat",kL="@firebase/messaging",xL="@firebase/messaging-compat",OL="@firebase/performance",NL="@firebase/performance-compat",ML="@firebase/remote-config",$L="@firebase/remote-config-compat",LL="@firebase/storage",FL="@firebase/storage-compat",VL="@firebase/firestore",jL="@firebase/firestore-compat",UL="firebase",BL="10.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg="[DEFAULT]",zL={[Jg]:"fire-core",[yL]:"fire-core-compat",[wL]:"fire-analytics",[_L]:"fire-analytics-compat",[SL]:"fire-app-check",[EL]:"fire-app-check-compat",[TL]:"fire-auth",[IL]:"fire-auth-compat",[AL]:"fire-rtdb",[RL]:"fire-rtdb-compat",[PL]:"fire-fn",[CL]:"fire-fn-compat",[bL]:"fire-iid",[DL]:"fire-iid-compat",[kL]:"fire-fcm",[xL]:"fire-fcm-compat",[OL]:"fire-perf",[NL]:"fire-perf-compat",[ML]:"fire-rc",[$L]:"fire-rc-compat",[LL]:"fire-gcs",[FL]:"fire-gcs-compat",[VL]:"fire-fst",[jL]:"fire-fst-compat","fire-js":"fire-js",[UL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh=new Map,ev=new Map;function WL(e,t){try{e.container.addComponent(t)}catch(n){xs.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Go(e){const t=e.name;if(ev.has(t))return xs.debug(`There were multiple attempts to register component ${t}.`),!1;ev.set(t,e);for(const n of mh.values())WL(n,e);return!0}function e_(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Mi=new ju("app","Firebase",HL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Mi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=BL;function YR(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Zg,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Mi.create("bad-app-name",{appName:String(i)});if(n||(n=BR()),!n)throw Mi.create("no-options");const s=mh.get(i);if(s){if(ph(n,s.options)&&ph(r,s.config))return s;throw Mi.create("duplicate-app",{appName:i})}const o=new eL(i);for(const l of ev.values())o.addComponent(l);const a=new YL(n,r,o);return mh.set(i,a),a}function qR(e=Zg){const t=mh.get(e);if(!t&&e===Zg&&BR())return YR();if(!t)throw Mi.create("no-app",{appName:e});return t}function $i(e,t,n){var r;let i=(r=zL[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),xs.warn(a.join(" "));return}Go(new ks(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL="firebase-heartbeat-database",GL=1,Jl="firebase-heartbeat-store";let wm=null;function GR(){return wm||(wm=fL(qL,GL,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Jl)}}}).catch(e=>{throw Mi.create("idb-open",{originalErrorMessage:e.message})})),wm}async function KL(e){try{return await(await GR()).transaction(Jl).objectStore(Jl).get(KR(e))}catch(t){if(t instanceof ei)xs.warn(t.message);else{const n=Mi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});xs.warn(n.message)}}}async function rS(e,t){try{const r=(await GR()).transaction(Jl,"readwrite");await r.objectStore(Jl).put(t,KR(e)),await r.done}catch(n){if(n instanceof ei)xs.warn(n.message);else{const r=Mi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});xs.warn(r.message)}}}function KR(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL=1024,XL=30*24*60*60*1e3;class JL{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new e2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t;const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=iS();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=XL}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=iS(),{heartbeatsToSend:r,unsentEntries:i}=ZL(this._heartbeatsCache.heartbeats),s=fh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function iS(){return new Date().toISOString().substring(0,10)}function ZL(e,t=QL){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),sS(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),sS(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class e2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return B$()?z$().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await KL(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return rS(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return rS(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function sS(e){return fh(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(e){Go(new ks("platform-logger",t=>new gL(t),"PRIVATE")),Go(new ks("heartbeat",t=>new JL(t),"PRIVATE")),$i(Jg,nS,e),$i(Jg,nS,"esm2017"),$i("fire-js","")}t2("");var n2="firebase",r2="10.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$i(n2,r2,"app");var i2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},z,t_=t_||{},re=i2||self;function Ef(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Bu(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function s2(e){return Object.prototype.hasOwnProperty.call(e,Em)&&e[Em]||(e[Em]=++o2)}var Em="closure_uid_"+(1e9*Math.random()>>>0),o2=0;function a2(e,t,n){return e.call.apply(e.bind,arguments)}function l2(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function Ot(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ot=a2:Ot=l2,Ot.apply(null,arguments)}function qc(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function ft(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[i].apply(r,o)}}function Qi(){this.s=this.s,this.o=this.o}var u2=0;Qi.prototype.s=!1;Qi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),u2!=0)&&s2(this)};Qi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const QR=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function n_(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function oS(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Ef(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function Nt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Nt.prototype.h=function(){this.defaultPrevented=!0};var c2=function(){if(!re.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{re.addEventListener("test",()=>{},t),re.removeEventListener("test",()=>{},t)}catch{}return e}();function Zl(e){return/^[\s\xa0]*$/.test(e)}function Sf(){var e=re.navigator;return e&&(e=e.userAgent)?e:""}function tr(e){return Sf().indexOf(e)!=-1}function r_(e){return r_[" "](e),e}r_[" "]=function(){};function d2(e,t){var n=rF;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var h2=tr("Opera"),Ko=tr("Trident")||tr("MSIE"),XR=tr("Edge"),tv=XR||Ko,JR=tr("Gecko")&&!(Sf().toLowerCase().indexOf("webkit")!=-1&&!tr("Edge"))&&!(tr("Trident")||tr("MSIE"))&&!tr("Edge"),f2=Sf().toLowerCase().indexOf("webkit")!=-1&&!tr("Edge");function ZR(){var e=re.document;return e?e.documentMode:void 0}var nv;e:{var Sm="",Tm=function(){var e=Sf();if(JR)return/rv:([^\);]+)(\)|;)/.exec(e);if(XR)return/Edge\/([\d\.]+)/.exec(e);if(Ko)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(f2)return/WebKit\/(\S+)/.exec(e);if(h2)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Tm&&(Sm=Tm?Tm[1]:""),Ko){var Im=ZR();if(Im!=null&&Im>parseFloat(Sm)){nv=String(Im);break e}}nv=Sm}var rv;if(re.document&&Ko){var aS=ZR();rv=aS||parseInt(nv,10)||void 0}else rv=void 0;var p2=rv;function eu(e,t){if(Nt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(JR){e:{try{r_(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:m2[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&eu.$.h.call(this)}}ft(eu,Nt);var m2={2:"touch",3:"pen",4:"mouse"};eu.prototype.h=function(){eu.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var zu="closure_listenable_"+(1e6*Math.random()|0),g2=0;function v2(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++g2,this.fa=this.ia=!1}function Tf(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function i_(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function y2(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function eP(e){const t={};for(const n in e)t[n]=e[n];return t}const lS="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tP(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<lS.length;s++)n=lS[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function If(e){this.src=e,this.g={},this.h=0}If.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=sv(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new v2(t,this.src,s,!!r,i),t.ia=n,e.push(t)),t};function iv(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=QR(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Tf(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function sv(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}var s_="closure_lm_"+(1e6*Math.random()|0),Am={};function nP(e,t,n,r,i){if(r&&r.once)return iP(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)nP(e,t[s],n,r,i);return null}return n=l_(n),e&&e[zu]?e.O(t,n,Bu(r)?!!r.capture:!!r,i):rP(e,t,n,!1,r,i)}function rP(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=Bu(i)?!!i.capture:!!i,a=a_(e);if(a||(e[s_]=a=new If(e)),n=a.add(t,n,r,o,s),n.proxy)return n;if(r=_2(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)c2||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(oP(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function _2(){function e(n){return t.call(e.src,e.listener,n)}const t=w2;return e}function iP(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)iP(e,t[s],n,r,i);return null}return n=l_(n),e&&e[zu]?e.P(t,n,Bu(r)?!!r.capture:!!r,i):rP(e,t,n,!0,r,i)}function sP(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)sP(e,t[s],n,r,i);else r=Bu(r)?!!r.capture:!!r,n=l_(n),e&&e[zu]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=sv(s,n,r,i),-1<n&&(Tf(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=a_(e))&&(t=e.g[t.toString()],e=-1,t&&(e=sv(t,n,r,i)),(n=-1<e?t[e]:null)&&o_(n))}function o_(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[zu])iv(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(oP(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=a_(t))?(iv(n,e),n.h==0&&(n.src=null,t[s_]=null)):Tf(e)}}}function oP(e){return e in Am?Am[e]:Am[e]="on"+e}function w2(e,t){if(e.fa)e=!0;else{t=new eu(t,this);var n=e.listener,r=e.la||e.src;e.ia&&o_(e),e=n.call(r,t)}return e}function a_(e){return e=e[s_],e instanceof If?e:null}var Rm="__closure_events_fn_"+(1e9*Math.random()>>>0);function l_(e){return typeof e=="function"?e:(e[Rm]||(e[Rm]=function(t){return e.handleEvent(t)}),e[Rm])}function ht(){Qi.call(this),this.i=new If(this),this.S=this,this.J=null}ft(ht,Qi);ht.prototype[zu]=!0;ht.prototype.removeEventListener=function(e,t,n,r){sP(this,e,t,n,r)};function St(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new Nt(t,e);else if(t instanceof Nt)t.target=t.target||e;else{var i=t;t=new Nt(r,e),tP(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Gc(o,r,!0,t)&&i}if(o=t.g=e,i=Gc(o,r,!0,t)&&i,i=Gc(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=Gc(o,r,!1,t)&&i}ht.prototype.N=function(){if(ht.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Tf(n[r]);delete e.g[t],e.h--}}this.J=null};ht.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};ht.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Gc(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&iv(e.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var u_=re.JSON.stringify;class E2{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function S2(){var e=c_;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class T2{constructor(){this.h=this.g=null}add(t,n){const r=aP.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var aP=new E2(()=>new I2,e=>e.reset());class I2{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function A2(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function R2(e){re.setTimeout(()=>{throw e},0)}let tu,nu=!1,c_=new T2,lP=()=>{const e=re.Promise.resolve(void 0);tu=()=>{e.then(P2)}};var P2=()=>{for(var e;e=S2();){try{e.h.call(e.g)}catch(n){R2(n)}var t=aP;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}nu=!1};function Af(e,t){ht.call(this),this.h=e||1,this.g=t||re,this.j=Ot(this.qb,this),this.l=Date.now()}ft(Af,ht);z=Af.prototype;z.ga=!1;z.T=null;z.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),St(this,"tick"),this.ga&&(d_(this),this.start()))}};z.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function d_(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}z.N=function(){Af.$.N.call(this),d_(this),delete this.g};function h_(e,t,n){if(typeof e=="function")n&&(e=Ot(e,n));else if(e&&typeof e.handleEvent=="function")e=Ot(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:re.setTimeout(e,t||0)}function uP(e){e.g=h_(()=>{e.g=null,e.i&&(e.i=!1,uP(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class C2 extends Qi{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:uP(this)}N(){super.N(),this.g&&(re.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ru(e){Qi.call(this),this.h=e,this.g={}}ft(ru,Qi);var uS=[];function cP(e,t,n,r){Array.isArray(n)||(n&&(uS[0]=n.toString()),n=uS);for(var i=0;i<n.length;i++){var s=nP(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function dP(e){i_(e.g,function(t,n){this.g.hasOwnProperty(n)&&o_(t)},e),e.g={}}ru.prototype.N=function(){ru.$.N.call(this),dP(this)};ru.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Rf(){this.g=!0}Rf.prototype.Ea=function(){this.g=!1};function b2(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function D2(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function Io(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+x2(e,n)+(r?" "+r:"")})}function k2(e,t){e.info(function(){return"TIMEOUT: "+t})}Rf.prototype.info=function(){};function x2(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return u_(n)}catch{return t}}var Ks={},cS=null;function Pf(){return cS=cS||new ht}Ks.Ta="serverreachability";function hP(e){Nt.call(this,Ks.Ta,e)}ft(hP,Nt);function iu(e){const t=Pf();St(t,new hP(t))}Ks.STAT_EVENT="statevent";function fP(e,t){Nt.call(this,Ks.STAT_EVENT,e),this.stat=t}ft(fP,Nt);function Bt(e){const t=Pf();St(t,new fP(t,e))}Ks.Ua="timingevent";function pP(e,t){Nt.call(this,Ks.Ua,e),this.size=t}ft(pP,Nt);function Wu(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return re.setTimeout(function(){e()},t)}var Cf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},mP={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function f_(){}f_.prototype.h=null;function dS(e){return e.h||(e.h=e.i())}function gP(){}var Hu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function p_(){Nt.call(this,"d")}ft(p_,Nt);function m_(){Nt.call(this,"c")}ft(m_,Nt);var ov;function bf(){}ft(bf,f_);bf.prototype.g=function(){return new XMLHttpRequest};bf.prototype.i=function(){return{}};ov=new bf;function Yu(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new ru(this),this.P=O2,e=tv?125:void 0,this.V=new Af(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new vP}function vP(){this.i=null,this.g="",this.h=!1}var O2=45e3,av={},gh={};z=Yu.prototype;z.setTimeout=function(e){this.P=e};function lv(e,t,n){e.L=1,e.v=kf(Wr(t)),e.s=n,e.S=!0,yP(e,null)}function yP(e,t){e.G=Date.now(),qu(e),e.A=Wr(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),RP(n.i,"t",r),e.C=0,n=e.l.J,e.h=new vP,e.g=qP(e.l,n?t:null,!e.s),0<e.O&&(e.M=new C2(Ot(e.Pa,e,e.g),e.O)),cP(e.U,e.g,"readystatechange",e.nb),t=e.I?eP(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),iu(),b2(e.j,e.u,e.A,e.m,e.W,e.s)}z.nb=function(e){e=e.target;const t=this.M;t&&ir(e)==3?t.l():this.Pa(e)};z.Pa=function(e){try{if(e==this.g)e:{const c=ir(this.g);var t=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||tv||this.g&&(this.h.h||this.g.ja()||mS(this.g)))){this.J||c!=4||t==7||(t==8||0>=d?iu(3):iu(2)),Df(this);var n=this.g.da();this.ca=n;t:if(_P(this)){var r=mS(this.g);e="";var i=r.length,s=ir(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ps(this),Il(this);var o="";break t}this.h.i=new re.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,D2(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Zl(a)){var u=a;break t}}u=null}if(n=u)Io(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,uv(this,n);else{this.i=!1,this.o=3,Bt(12),ps(this),Il(this);break e}}this.S?(wP(this,c,o),tv&&this.i&&c==3&&(cP(this.U,this.V,"tick",this.mb),this.V.start())):(Io(this.j,this.m,o,null),uv(this,o)),c==4&&ps(this),this.i&&!this.J&&(c==4?zP(this.l,this):(this.i=!1,qu(this)))}else eF(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Bt(12)):(this.o=0,Bt(13)),ps(this),Il(this)}}}catch{}finally{}};function _P(e){return e.g?e.u=="GET"&&e.L!=2&&e.l.Ha:!1}function wP(e,t,n){let r=!0,i;for(;!e.J&&e.C<n.length;)if(i=N2(e,n),i==gh){t==4&&(e.o=4,Bt(14),r=!1),Io(e.j,e.m,null,"[Incomplete Response]");break}else if(i==av){e.o=4,Bt(15),Io(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Io(e.j,e.m,i,null),uv(e,i);_P(e)&&i!=gh&&i!=av&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Bt(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),E_(t),t.M=!0,Bt(11))):(Io(e.j,e.m,n,"[Invalid Chunked Response]"),ps(e),Il(e))}z.mb=function(){if(this.g){var e=ir(this.g),t=this.g.ja();this.C<t.length&&(Df(this),wP(this,e,t),this.i&&e!=4&&qu(this))}};function N2(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?gh:(n=Number(t.substring(n,r)),isNaN(n)?av:(r+=1,r+n>t.length?gh:(t=t.slice(r,r+n),e.C=r+n,t)))}z.cancel=function(){this.J=!0,ps(this)};function qu(e){e.Y=Date.now()+e.P,EP(e,e.P)}function EP(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Wu(Ot(e.lb,e),t)}function Df(e){e.B&&(re.clearTimeout(e.B),e.B=null)}z.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(k2(this.j,this.A),this.L!=2&&(iu(),Bt(17)),ps(this),this.o=2,Il(this)):EP(this,this.Y-e)};function Il(e){e.l.H==0||e.J||zP(e.l,e)}function ps(e){Df(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,d_(e.V),dP(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function uv(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||cv(n.i,e))){if(!e.K&&cv(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)_h(n),Nf(n);else break e;w_(n),Bt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Wu(Ot(n.ib,n),6e3));if(1>=bP(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ms(n,11)}else if((e.K||n.g==e)&&_h(n),!Zl(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=e.g;if(f){const m=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=r.i;s.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(g_(s,s.h),s.h=null))}if(r.F){const p=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;p&&(r.Da=p,Oe(r.I,r.F,p))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=e;if(r.wa=YP(r,r.J?r.pa:null,r.Y),o.K){DP(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Df(a),qu(a)),r.g=o}else UP(r);0<n.j.length&&Mf(n)}else u[0]!="stop"&&u[0]!="close"||ms(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?ms(n,7):__(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}iu(4)}catch{}}function M2(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(Ef(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function $2(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(Ef(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function SP(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Ef(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=$2(e),r=M2(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var TP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function L2(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ws(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof ws){this.h=e.h,vh(this,e.j),this.s=e.s,this.g=e.g,yh(this,e.m),this.l=e.l;var t=e.i,n=new su;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),hS(this,n),this.o=e.o}else e&&(t=String(e).match(TP))?(this.h=!1,vh(this,t[1]||"",!0),this.s=ll(t[2]||""),this.g=ll(t[3]||"",!0),yh(this,t[4]),this.l=ll(t[5]||"",!0),hS(this,t[6]||"",!0),this.o=ll(t[7]||"")):(this.h=!1,this.i=new su(null,this.h))}ws.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ul(t,fS,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(ul(t,fS,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(ul(n,n.charAt(0)=="/"?j2:V2,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ul(n,B2)),e.join("")};function Wr(e){return new ws(e)}function vh(e,t,n){e.j=n?ll(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function yh(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function hS(e,t,n){t instanceof su?(e.i=t,z2(e.i,e.h)):(n||(t=ul(t,U2)),e.i=new su(t,e.h))}function Oe(e,t,n){e.i.set(t,n)}function kf(e){return Oe(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ll(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ul(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,F2),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function F2(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var fS=/[#\/\?@]/g,V2=/[#\?:]/g,j2=/[#\?]/g,U2=/[#\?@]/g,B2=/#/g;function su(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Xi(e){e.g||(e.g=new Map,e.h=0,e.i&&L2(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}z=su.prototype;z.add=function(e,t){Xi(this),this.i=null,e=va(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function IP(e,t){Xi(e),t=va(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function AP(e,t){return Xi(e),t=va(e,t),e.g.has(t)}z.forEach=function(e,t){Xi(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};z.ta=function(){Xi(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};z.Z=function(e){Xi(this);let t=[];if(typeof e=="string")AP(this,e)&&(t=t.concat(this.g.get(va(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};z.set=function(e,t){return Xi(this),this.i=null,e=va(this,e),AP(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};z.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function RP(e,t,n){IP(e,t),0<n.length&&(e.i=null,e.g.set(va(e,t),n_(n)),e.h+=n.length)}z.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function va(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function z2(e,t){t&&!e.j&&(Xi(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(IP(this,r),RP(this,i,n))},e)),e.j=t}var W2=class{constructor(e,t){this.g=e,this.map=t}};function PP(e){this.l=e||H2,re.PerformanceNavigationTiming?(e=re.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(re.g&&re.g.Ka&&re.g.Ka()&&re.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var H2=10;function CP(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function bP(e){return e.h?1:e.g?e.g.size:0}function cv(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function g_(e,t){e.g?e.g.add(t):e.h=t}function DP(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}PP.prototype.cancel=function(){if(this.i=kP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function kP(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return n_(e.i)}var Y2=class{stringify(e){return re.JSON.stringify(e,void 0)}parse(e){return re.JSON.parse(e,void 0)}};function q2(){this.g=new Y2}function G2(e,t,n){const r=n||"";try{SP(e,function(i,s){let o=i;Bu(i)&&(o=u_(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function K2(e,t){const n=new Rf;if(re.Image){const r=new Image;r.onload=qc(Kc,n,r,"TestLoadImage: loaded",!0,t),r.onerror=qc(Kc,n,r,"TestLoadImage: error",!1,t),r.onabort=qc(Kc,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=qc(Kc,n,r,"TestLoadImage: timeout",!1,t),re.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Kc(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function Gu(e){this.l=e.ec||null,this.j=e.ob||!1}ft(Gu,f_);Gu.prototype.g=function(){return new xf(this.l,this.j)};Gu.prototype.i=function(e){return function(){return e}}({});function xf(e,t){ht.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=v_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ft(xf,ht);var v_=0;z=xf.prototype;z.open=function(e,t){if(this.readyState!=v_)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ou(this)};z.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||re).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};z.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ku(this)),this.readyState=v_};z.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ou(this)),this.g&&(this.readyState=3,ou(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof re.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xP(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function xP(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}z.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ku(this):ou(this),this.readyState==3&&xP(this)}};z.Za=function(e){this.g&&(this.response=this.responseText=e,Ku(this))};z.Ya=function(e){this.g&&(this.response=e,Ku(this))};z.ka=function(){this.g&&Ku(this)};function Ku(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ou(e)}z.setRequestHeader=function(e,t){this.v.append(e,t)};z.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};z.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function ou(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(xf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var Q2=re.JSON.parse;function Ke(e){ht.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=OP,this.L=this.M=!1}ft(Ke,ht);var OP="",X2=/^https?$/i,J2=["POST","PUT"];z=Ke.prototype;z.Oa=function(e){this.M=e};z.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ov.g(),this.C=this.u?dS(this.u):dS(ov),this.g.onreadystatechange=Ot(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){pS(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=re.FormData&&e instanceof re.FormData,!(0<=QR(J2,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{$P(this),0<this.B&&((this.L=Z2(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ot(this.ua,this)):this.A=h_(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){pS(this,s)}};function Z2(e){return Ko&&typeof e.timeout=="number"&&e.ontimeout!==void 0}z.ua=function(){typeof t_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,St(this,"timeout"),this.abort(8))};function pS(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,NP(e),Of(e)}function NP(e){e.F||(e.F=!0,St(e,"complete"),St(e,"error"))}z.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,St(this,"complete"),St(this,"abort"),Of(this))};z.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Of(this,!0)),Ke.$.N.call(this)};z.La=function(){this.s||(this.G||this.v||this.l?MP(this):this.kb())};z.kb=function(){MP(this)};function MP(e){if(e.h&&typeof t_<"u"&&(!e.C[1]||ir(e)!=4||e.da()!=2)){if(e.v&&ir(e)==4)h_(e.La,0,e);else if(St(e,"readystatechange"),ir(e)==4){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=o===0){var i=String(e.I).match(TP)[1]||null;!i&&re.self&&re.self.location&&(i=re.self.location.protocol.slice(0,-1)),r=!X2.test(i?i.toLowerCase():"")}n=r}if(n)St(e,"complete"),St(e,"success");else{e.m=6;try{var s=2<ir(e)?e.g.statusText:""}catch{s=""}e.j=s+" ["+e.da()+"]",NP(e)}}finally{Of(e)}}}}function Of(e,t){if(e.g){$P(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||St(e,"ready");try{n.onreadystatechange=r}catch{}}}function $P(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(re.clearTimeout(e.A),e.A=null)}z.isActive=function(){return!!this.g};function ir(e){return e.g?e.g.readyState:0}z.da=function(){try{return 2<ir(this)?this.g.status:-1}catch{return-1}};z.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};z.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),Q2(t)}};function mS(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case OP:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function eF(e){const t={};e=(e.g&&2<=ir(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(Zl(e[r]))continue;var n=A2(e[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}y2(t,function(r){return r.join(", ")})}z.Ia=function(){return this.m};z.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function LP(e){let t="";return i_(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function y_(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=LP(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Oe(e,t,n))}function qa(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function FP(e){this.Ga=0,this.j=[],this.l=new Rf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=qa("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=qa("baseRetryDelayMs",5e3,e),this.hb=qa("retryDelaySeedMs",1e4,e),this.eb=qa("forwardChannelMaxRetries",2,e),this.xa=qa("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new PP(e&&e.concurrentRequestLimit),this.Ja=new q2,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}z=FP.prototype;z.ra=8;z.H=1;function __(e){if(VP(e),e.H==3){var t=e.W++,n=Wr(e.I);if(Oe(n,"SID",e.K),Oe(n,"RID",t),Oe(n,"TYPE","terminate"),Qu(e,n),t=new Yu(e,e.l,t),t.L=2,t.v=kf(Wr(n)),n=!1,re.navigator&&re.navigator.sendBeacon)try{n=re.navigator.sendBeacon(t.v.toString(),"")}catch{}!n&&re.Image&&(new Image().src=t.v,n=!0),n||(t.g=qP(t.l,null),t.g.ha(t.v)),t.G=Date.now(),qu(t)}HP(e)}function Nf(e){e.g&&(E_(e),e.g.cancel(),e.g=null)}function VP(e){Nf(e),e.u&&(re.clearTimeout(e.u),e.u=null),_h(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&re.clearTimeout(e.m),e.m=null)}function Mf(e){if(!CP(e.i)&&!e.m){e.m=!0;var t=e.Na;tu||lP(),nu||(tu(),nu=!0),c_.add(t,e),e.C=0}}function tF(e,t){return bP(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=Wu(Ot(e.Na,e,t),WP(e,e.C)),e.C++,!0)}z.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Yu(this,this.l,e);let s=this.s;if(this.U&&(s?(s=eP(s),tP(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=jP(this,i,t),n=Wr(this.I),Oe(n,"RID",e),Oe(n,"CVER",22),this.F&&Oe(n,"X-HTTP-Session-Id",this.F),Qu(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(LP(s)))+"&"+t:this.o&&y_(n,this.o,s)),g_(this.i,i),this.bb&&Oe(n,"TYPE","init"),this.P?(Oe(n,"$req",t),Oe(n,"SID","null"),i.aa=!0,lv(i,n,null)):lv(i,n,t),this.H=2}}else this.H==3&&(e?gS(this,e):this.j.length==0||CP(this.i)||gS(this))};function gS(e,t){var n;t?n=t.m:n=e.W++;const r=Wr(e.I);Oe(r,"SID",e.K),Oe(r,"RID",n),Oe(r,"AID",e.V),Qu(e,r),e.o&&e.s&&y_(r,e.o,e.s),n=new Yu(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=jP(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),g_(e.i,n),lv(n,r,t)}function Qu(e,t){e.na&&i_(e.na,function(n,r){Oe(t,r,n)}),e.h&&SP({},function(n,r){Oe(t,r,n)})}function jP(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Ot(e.h.Va,e.h,e):null;e:{var i=e.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{G2(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function UP(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;tu||lP(),nu||(tu(),nu=!0),c_.add(t,e),e.A=0}}function w_(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=Wu(Ot(e.Ma,e),WP(e,e.A)),e.A++,!0)}z.Ma=function(){if(this.u=null,BP(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Wu(Ot(this.jb,this),e)}};z.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Bt(10),Nf(this),BP(this))};function E_(e){e.B!=null&&(re.clearTimeout(e.B),e.B=null)}function BP(e){e.g=new Yu(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=Wr(e.wa);Oe(t,"RID","rpc"),Oe(t,"SID",e.K),Oe(t,"AID",e.V),Oe(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Oe(t,"TO",e.qa),Oe(t,"TYPE","xmlhttp"),Qu(e,t),e.o&&e.s&&y_(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=kf(Wr(t)),n.s=null,n.S=!0,yP(n,e)}z.ib=function(){this.v!=null&&(this.v=null,Nf(this),w_(this),Bt(19))};function _h(e){e.v!=null&&(re.clearTimeout(e.v),e.v=null)}function zP(e,t){var n=null;if(e.g==t){_h(e),E_(e),e.g=null;var r=2}else if(cv(e.i,t))n=t.F,DP(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;r=Pf(),St(r,new pP(r,n)),Mf(e)}else UP(e);else if(i=t.o,i==3||i==0&&0<t.ca||!(r==1&&tF(e,t)||r==2&&w_(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ms(e,5);break;case 4:ms(e,10);break;case 3:ms(e,6);break;default:ms(e,2)}}}function WP(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function ms(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=Ot(e.pb,e);n||(n=new ws("//www.google.com/images/cleardot.gif"),re.location&&re.location.protocol=="http"||vh(n,"https"),kf(n)),K2(n.toString(),r)}else Bt(2);e.H=0,e.h&&e.h.za(t),HP(e),VP(e)}z.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Bt(2)):(this.l.info("Failed to ping google.com"),Bt(1))};function HP(e){if(e.H=0,e.ma=[],e.h){const t=kP(e.i);(t.length!=0||e.j.length!=0)&&(oS(e.ma,t),oS(e.ma,e.j),e.i.i.length=0,n_(e.j),e.j.length=0),e.h.ya()}}function YP(e,t,n){var r=n instanceof ws?Wr(n):new ws(n);if(r.g!="")t&&(r.g=t+"."+r.g),yh(r,r.m);else{var i=re.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new ws(null);r&&vh(s,r),t&&(s.g=t),i&&yh(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&Oe(r,n,t),Oe(r,"VER",e.ra),Qu(e,r),r}function qP(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ha&&!e.va?new Ke(new Gu({ob:!0})):new Ke(e.va),t.Oa(e.J),t}z.isActive=function(){return!!this.h&&this.h.isActive(this)};function GP(){}z=GP.prototype;z.Ba=function(){};z.Aa=function(){};z.za=function(){};z.ya=function(){};z.isActive=function(){return!0};z.Va=function(){};function wh(){if(Ko&&!(10<=Number(p2)))throw Error("Environmental error: no available transport.")}wh.prototype.g=function(e,t){return new fn(e,t)};function fn(e,t){ht.call(this),this.g=new FP(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Zl(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Zl(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new ya(this)}ft(fn,ht);fn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Bt(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=YP(e,null,e.Y),Mf(e)};fn.prototype.close=function(){__(this.g)};fn.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=u_(e),e=n);t.j.push(new W2(t.fb++,e)),t.H==3&&Mf(t)};fn.prototype.N=function(){this.g.h=null,delete this.j,__(this.g),delete this.g,fn.$.N.call(this)};function KP(e){p_.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}ft(KP,p_);function QP(){m_.call(this),this.status=1}ft(QP,m_);function ya(e){this.g=e}ft(ya,GP);ya.prototype.Ba=function(){St(this.g,"a")};ya.prototype.Aa=function(e){St(this.g,new KP(e))};ya.prototype.za=function(e){St(this.g,new QP)};ya.prototype.ya=function(){St(this.g,"b")};function nF(){this.blockSize=-1}function zn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}ft(zn,nF);zn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Pm(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^s&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^s)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~s))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}zn.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(i==0)for(;s<=n;)Pm(this,e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){Pm(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){Pm(this,r),i=0;break}}this.h=i,this.i+=t};zn.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function Ae(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=e[i]|0;r&&s==t||(n[i]=s,r=!1)}this.g=n}var rF={};function S_(e){return-128<=e&&128>e?d2(e,function(t){return new Ae([t|0],0>t?-1:0)}):new Ae([e|0],0>e?-1:0)}function sr(e){if(isNaN(e)||!isFinite(e))return Oo;if(0>e)return _t(sr(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=dv;return new Ae(t,0)}function XP(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return _t(XP(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=sr(Math.pow(t,8)),r=Oo,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),o=parseInt(e.substring(i,i+s),t);8>s?(s=sr(Math.pow(t,s)),r=r.R(s).add(sr(o))):(r=r.R(n),r=r.add(sr(o)))}return r}var dv=4294967296,Oo=S_(0),hv=S_(1),vS=S_(16777216);z=Ae.prototype;z.ea=function(){if(En(this))return-_t(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:dv+r)*t,t*=dv}return e};z.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(Dr(this))return"0";if(En(this))return"-"+_t(this).toString(e);for(var t=sr(Math.pow(e,6)),n=this,r="";;){var i=Sh(n,t).g;n=Eh(n,i.R(t));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,Dr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};z.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function Dr(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function En(e){return e.h==-1}z.X=function(e){return e=Eh(this,e),En(e)?-1:Dr(e)?0:1};function _t(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Ae(n,~e.h).add(hv)}z.abs=function(){return En(this)?_t(this):this};z.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(this.D(i)&65535)+(e.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Ae(n,n[n.length-1]&-2147483648?-1:0)};function Eh(e,t){return e.add(_t(t))}z.R=function(e){if(Dr(this)||Dr(e))return Oo;if(En(this))return En(e)?_t(this).R(_t(e)):_t(_t(this).R(e));if(En(e))return _t(this.R(_t(e)));if(0>this.X(vS)&&0>e.X(vS))return sr(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=e.D(i)>>>16,l=e.D(i)&65535;n[2*r+2*i]+=o*l,Qc(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Qc(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Qc(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Qc(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Ae(n,0)};function Qc(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Ga(e,t){this.g=e,this.h=t}function Sh(e,t){if(Dr(t))throw Error("division by zero");if(Dr(e))return new Ga(Oo,Oo);if(En(e))return t=Sh(_t(e),t),new Ga(_t(t.g),_t(t.h));if(En(t))return t=Sh(e,_t(t)),new Ga(_t(t.g),t.h);if(30<e.g.length){if(En(e)||En(t))throw Error("slowDivide_ only works with positive integers.");for(var n=hv,r=t;0>=r.X(e);)n=yS(n),r=yS(r);var i=io(n,1),s=io(r,1);for(r=io(r,2),n=io(n,2);!Dr(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=io(r,1),n=io(n,1)}return t=Eh(e,i.R(t)),new Ga(i,t)}for(i=Oo;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=sr(n),o=s.R(t);En(o)||0<o.X(e);)n-=r,s=sr(n),o=s.R(t);Dr(s)&&(s=hv),i=i.add(s),e=Eh(e,o)}return new Ga(i,e)}z.gb=function(e){return Sh(this,e).h};z.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Ae(n,this.h&e.h)};z.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Ae(n,this.h|e.h)};z.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Ae(n,this.h^e.h)};function yS(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Ae(n,e.h)}function io(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Ae(i,e.h)}wh.prototype.createWebChannel=wh.prototype.g;fn.prototype.send=fn.prototype.u;fn.prototype.open=fn.prototype.m;fn.prototype.close=fn.prototype.close;Cf.NO_ERROR=0;Cf.TIMEOUT=8;Cf.HTTP_ERROR=6;mP.COMPLETE="complete";gP.EventType=Hu;Hu.OPEN="a";Hu.CLOSE="b";Hu.ERROR="c";Hu.MESSAGE="d";ht.prototype.listen=ht.prototype.O;Ke.prototype.listenOnce=Ke.prototype.P;Ke.prototype.getLastError=Ke.prototype.Sa;Ke.prototype.getLastErrorCode=Ke.prototype.Ia;Ke.prototype.getStatus=Ke.prototype.da;Ke.prototype.getResponseJson=Ke.prototype.Wa;Ke.prototype.getResponseText=Ke.prototype.ja;Ke.prototype.send=Ke.prototype.ha;Ke.prototype.setWithCredentials=Ke.prototype.Oa;zn.prototype.digest=zn.prototype.l;zn.prototype.reset=zn.prototype.reset;zn.prototype.update=zn.prototype.j;Ae.prototype.add=Ae.prototype.add;Ae.prototype.multiply=Ae.prototype.R;Ae.prototype.modulo=Ae.prototype.gb;Ae.prototype.compare=Ae.prototype.X;Ae.prototype.toNumber=Ae.prototype.ea;Ae.prototype.toString=Ae.prototype.toString;Ae.prototype.getBits=Ae.prototype.D;Ae.fromNumber=sr;Ae.fromString=XP;var iF=function(){return new wh},sF=function(){return Pf()},Cm=Cf,oF=mP,aF=Ks,_S={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},lF=Gu,Xc=gP,uF=Ke,cF=zn,No=Ae;const wS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Dt.UNAUTHENTICATED=new Dt(null),Dt.GOOGLE_CREDENTIALS=new Dt("google-credentials-uid"),Dt.FIRST_PARTY=new Dt("first-party-uid"),Dt.MOCK_USER=new Dt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _a="10.5.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=new Jy("@firebase/firestore");function Ka(){return Os.logLevel}function Q(e,...t){if(Os.logLevel<=he.DEBUG){const n=t.map(T_);Os.debug(`Firestore (${_a}): ${e}`,...n)}}function Hr(e,...t){if(Os.logLevel<=he.ERROR){const n=t.map(T_);Os.error(`Firestore (${_a}): ${e}`,...n)}}function Qo(e,...t){if(Os.logLevel<=he.WARN){const n=t.map(T_);Os.warn(`Firestore (${_a}): ${e}`,...n)}}function T_(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(e="Unexpected state"){const t=`FIRESTORE (${_a}) INTERNAL ASSERTION FAILED: `+e;throw Hr(t),new Error(t)}function $e(e,t){e||ne()}function oe(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends ei{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class dF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Dt.UNAUTHENTICATED))}shutdown(){}}class hF{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class fF{constructor(t){this.t=t,this.currentUser=Dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new $r;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new $r,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new $r)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($e(typeof r.accessToken=="string"),new JP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return $e(t===null||typeof t=="string"),new Dt(t)}}class pF{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Dt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class mF{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new pF(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gF{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vF{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=s=>{s.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?($e(typeof n.token=="string"),this.R=n.token,new gF(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yF(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=yF(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function Se(e,t){return e<t?-1:e>t?1:0}function Xo(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new G(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new G(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new G(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return We.fromMillis(Date.now())}static fromDate(t){return We.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new We(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Se(this.nanoseconds,t.nanoseconds):Se(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(t){this.timestamp=t}static fromTimestamp(t){return new se(t)}static min(){return new se(new We(0,0))}static max(){return new se(new We(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(t,n,r){n===void 0?n=0:n>t.length&&ne(),r===void 0?r=t.length-n:r>t.length-n&&ne(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return au.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof au?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Ne extends au{construct(t,n,r){return new Ne(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new G(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ne(n)}static emptyPath(){return new Ne([])}}const _F=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wt extends au{construct(t,n,r){return new wt(t,n,r)}static isValidIdentifier(t){return _F.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new wt(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new G(x.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new G(x.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new G(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new G(x.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new wt(n)}static emptyPath(){return new wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.path=t}static fromPath(t){return new Z(Ne.fromString(t))}static fromName(t){return new Z(Ne.fromString(t).popFirst(5))}static empty(){return new Z(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Ne.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Z(new Ne(t.slice()))}}function wF(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=se.fromTimestamp(r===1e9?new We(n+1,0):new We(n,r));return new Ui(i,Z.empty(),t)}function EF(e){return new Ui(e.readTime,e.key,-1)}class Ui{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Ui(se.min(),Z.empty(),-1)}static max(){return new Ui(se.max(),Z.empty(),-1)}}function SF(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Z.comparator(e.documentKey,t.documentKey),n!==0?n:Se(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xu(e){if(e.code!==x.FAILED_PRECONDITION||e.message!==TF)throw e;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new M((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof M?n:M.resolve(n)}catch(n){return M.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):M.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):M.reject(n)}static resolve(t){return new M((n,r)=>{n(t)})}static reject(t){return new M((n,r)=>{r(t)})}static waitFor(t){return new M((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(t){let n=M.resolve(!1);for(const r of t)n=n.next(i=>i?M.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new M((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(t[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(t,n){return new M((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}function Ju(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}I_._e=-1;function $f(e){return e==null}function Th(e){return e===0&&1/e==-1/0}function AF(e){return typeof e=="number"&&Number.isInteger(e)&&!Th(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Qs(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function eC(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t,n){this.comparator=t,this.root=n||yt.EMPTY}insert(t,n){return new Ye(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,yt.BLACK,null,null))}remove(t){return new Ye(this.comparator,this.root.remove(t,this.comparator).copy(null,null,yt.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Jc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Jc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Jc(this.root,t,this.comparator,!0)}}class Jc{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class yt{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??yt.RED,this.left=i??yt.EMPTY,this.right=s??yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new yt(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return yt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return yt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ne();const t=this.left.check();if(t!==this.right.check())throw ne();return t+(this.isRed()?0:1)}}yt.EMPTY=null,yt.RED=!0,yt.BLACK=!1;yt.EMPTY=new class{constructor(){this.size=0}get key(){throw ne()}get value(){throw ne()}get color(){throw ne()}get left(){throw ne()}get right(){throw ne()}copy(t,n,r,i,s){return this}insert(t,n,r){return new yt(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(t){this.comparator=t,this.data=new Ye(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new SS(this.data.getIterator())}getIteratorFrom(t){return new SS(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Tt)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Tt(this.comparator);return n.data=t,n}}class SS{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(t){this.fields=t,t.sort(wt.comparator)}static empty(){return new cn([])}unionWith(t){let n=new Tt(wt.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new cn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Xo(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new tC("Invalid base64 string: "+s):s}}(t);return new Vt(n)}static fromUint8Array(t){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new Vt(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Se(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const RF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bi(e){if($e(!!e),typeof e=="string"){let t=0;const n=RF.exec(e);if($e(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:et(e.seconds),nanos:et(e.nanos)}}function et(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Ns(e){return typeof e=="string"?Vt.fromBase64String(e):Vt.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function R_(e){const t=e.mapValue.fields.__previous_value__;return A_(t)?R_(t):t}function lu(e){const t=Bi(e.mapValue.fields.__local_write_time__.timestampValue);return new We(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(t,n,r,i,s,o,a,l,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class uu{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new uu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof uu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ms(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?A_(e)?4:CF(e)?9007199254740991:10:ne()}function mr(e,t){if(e===t)return!0;const n=Ms(e);if(n!==Ms(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return lu(e).isEqual(lu(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Bi(i.timestampValue),a=Bi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,s){return Ns(i.bytesValue).isEqual(Ns(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return et(i.geoPointValue.latitude)===et(s.geoPointValue.latitude)&&et(i.geoPointValue.longitude)===et(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return et(i.integerValue)===et(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=et(i.doubleValue),a=et(s.doubleValue);return o===a?Th(o)===Th(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return Xo(e.arrayValue.values||[],t.arrayValue.values||[],mr);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(ES(o)!==ES(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!mr(o[l],a[l])))return!1;return!0}(e,t);default:return ne()}}function cu(e,t){return(e.values||[]).find(n=>mr(n,t))!==void 0}function Jo(e,t){if(e===t)return 0;const n=Ms(e),r=Ms(t);if(n!==r)return Se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Se(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=et(s.integerValue||s.doubleValue),l=et(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return TS(e.timestampValue,t.timestampValue);case 4:return TS(lu(e),lu(t));case 5:return Se(e.stringValue,t.stringValue);case 6:return function(s,o){const a=Ns(s),l=Ns(o);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Se(a[u],l[u]);if(c!==0)return c}return Se(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=Se(et(s.latitude),et(o.latitude));return a!==0?a:Se(et(s.longitude),et(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Jo(a[u],l[u]);if(c)return c}return Se(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===Zc.mapValue&&o===Zc.mapValue)return 0;if(s===Zc.mapValue)return 1;if(o===Zc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=Se(l[d],c[d]);if(h!==0)return h;const f=Jo(a[l[d]],u[c[d]]);if(f!==0)return f}return Se(l.length,c.length)}(e.mapValue,t.mapValue);default:throw ne()}}function TS(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Se(e,t);const n=Bi(e),r=Bi(t),i=Se(n.seconds,r.seconds);return i!==0?i:Se(n.nanos,r.nanos)}function Zo(e){return fv(e)}function fv(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=Bi(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Ns(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Z.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=fv(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${fv(n.fields[o])}`;return i+"}"}(e.mapValue):ne()}function IS(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function pv(e){return!!e&&"integerValue"in e}function P_(e){return!!e&&"arrayValue"in e}function AS(e){return!!e&&"nullValue"in e}function RS(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ed(e){return!!e&&"mapValue"in e}function Al(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Qs(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Al(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Al(e.arrayValue.values[n]);return t}return Object.assign({},e)}function CF(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(t){this.value=t}static empty(){return new Qt({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Ed(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Al(n)}setAll(t){let n=wt.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Al(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());Ed(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return mr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];Ed(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){Qs(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new Qt(Al(this.value))}}function nC(e){const t=[];return Qs(e.fields,(n,r)=>{const i=new wt([n]);if(Ed(r)){const s=nC(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new cn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new xt(t,0,se.min(),se.min(),se.min(),Qt.empty(),0)}static newFoundDocument(t,n,r,i){return new xt(t,1,n,se.min(),r,i,0)}static newNoDocument(t,n){return new xt(t,2,n,se.min(),se.min(),Qt.empty(),0)}static newUnknownDocument(t,n){return new xt(t,3,n,se.min(),se.min(),Qt.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Qt.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof xt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(t,n){this.position=t,this.inclusive=n}}function PS(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=Z.comparator(Z.fromName(o.referenceValue),n.key):r=Jo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function CS(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!mr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(t,n="asc"){this.field=t,this.dir=n}}function bF(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{}class nt extends rC{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new kF(t,n,r):n==="array-contains"?new NF(t,r):n==="in"?new MF(t,r):n==="not-in"?new $F(t,r):n==="array-contains-any"?new LF(t,r):new nt(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new xF(t,r):new OF(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Jo(n,this.value)):n!==null&&Ms(this.value)===Ms(n)&&this.matchesComparison(Jo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends rC{constructor(t,n){super(),this.filters=t,this.op=n,this.ue=null}static create(t,n){return new Wn(t,n)}matches(t){return iC(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function iC(e){return e.op==="and"}function sC(e){return DF(e)&&iC(e)}function DF(e){for(const t of e.filters)if(t instanceof Wn)return!1;return!0}function mv(e){if(e instanceof nt)return e.field.canonicalString()+e.op.toString()+Zo(e.value);if(sC(e))return e.filters.map(t=>mv(t)).join(",");{const t=e.filters.map(n=>mv(n)).join(",");return`${e.op}(${t})`}}function oC(e,t){return e instanceof nt?function(r,i){return i instanceof nt&&r.op===i.op&&r.field.isEqual(i.field)&&mr(r.value,i.value)}(e,t):e instanceof Wn?function(r,i){return i instanceof Wn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&oC(o,i.filters[a]),!0):!1}(e,t):void ne()}function aC(e){return e instanceof nt?function(n){return`${n.field.canonicalString()} ${n.op} ${Zo(n.value)}`}(e):e instanceof Wn?function(n){return n.op.toString()+" {"+n.getFilters().map(aC).join(" ,")+"}"}(e):"Filter"}class kF extends nt{constructor(t,n,r){super(t,n,r),this.key=Z.fromName(r.referenceValue)}matches(t){const n=Z.comparator(t.key,this.key);return this.matchesComparison(n)}}class xF extends nt{constructor(t,n){super(t,"in",n),this.keys=lC("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class OF extends nt{constructor(t,n){super(t,"not-in",n),this.keys=lC("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function lC(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Z.fromName(r.referenceValue))}class NF extends nt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return P_(n)&&cu(n.arrayValue,this.value)}}class MF extends nt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&cu(this.value.arrayValue,n)}}class $F extends nt{constructor(t,n){super(t,"not-in",n)}matches(t){if(cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!cu(this.value.arrayValue,n)}}class LF extends nt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!P_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>cu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function bS(e,t=null,n=[],r=[],i=null,s=null,o=null){return new FF(e,t,n,r,i,s,o)}function C_(e){const t=oe(e);if(t.ce===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>mv(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),$f(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Zo(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Zo(r)).join(",")),t.ce=n}return t.ce}function b_(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!bF(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!oC(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!CS(e.startAt,t.startAt)&&CS(e.endAt,t.endAt)}function gv(e){return Z.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function VF(e,t,n,r,i,s,o,a){return new Zu(e,t,n,r,i,s,o,a)}function Lf(e){return new Zu(e)}function DS(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function uC(e){return e.collectionGroup!==null}function Rl(e){const t=oe(e);if(t.le===null){t.le=[];const n=new Set;for(const s of t.explicitOrderBy)t.le.push(s),n.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Tt(wt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.le.push(new Ah(s,r))}),n.has(wt.keyField().canonicalString())||t.le.push(new Ah(wt.keyField(),r))}return t.le}function ur(e){const t=oe(e);return t.he||(t.he=jF(t,Rl(e))),t.he}function jF(e,t){if(e.limitType==="F")return bS(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Ah(i.field,s)});const n=e.endAt?new Ih(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ih(e.startAt.position,e.startAt.inclusive):null;return bS(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function vv(e,t){const n=e.filters.concat([t]);return new Zu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function yv(e,t,n){return new Zu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ff(e,t){return b_(ur(e),ur(t))&&e.limitType===t.limitType}function cC(e){return`${C_(ur(e))}|lt:${e.limitType}`}function oo(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>aC(i)).join(", ")}]`),$f(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Zo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Zo(i)).join(",")),`Target(${r})`}(ur(e))}; limitType=${e.limitType})`}function Vf(e,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Z.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,i){for(const s of Rl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=PS(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Rl(r),i)||r.endAt&&!function(o,a,l){const u=PS(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Rl(r),i))}(e,t)}function UF(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function dC(e){return(t,n)=>{let r=!1;for(const i of Rl(e)){const s=BF(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function BF(e,t,n){const r=e.field.isKeyField()?Z.comparator(t.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Jo(l,u):ne()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ne()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Qs(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return eC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zF=new Ye(Z.comparator);function Yr(){return zF}const hC=new Ye(Z.comparator);function cl(...e){let t=hC;for(const n of e)t=t.insert(n.key,n);return t}function fC(e){let t=hC;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function gs(){return Pl()}function pC(){return Pl()}function Pl(){return new wa(e=>e.toString(),(e,t)=>e.isEqual(t))}const WF=new Ye(Z.comparator),HF=new Tt(Z.comparator);function ue(...e){let t=HF;for(const n of e)t=t.add(n);return t}const YF=new Tt(Se);function qF(){return YF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Th(t)?"-0":t}}function gC(e){return{integerValue:""+e}}function GF(e,t){return AF(t)?gC(t):mC(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(){this._=void 0}}function KF(e,t,n){return e instanceof Rh?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&A_(s)&&(s=R_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,t):e instanceof ea?yC(e,t):e instanceof du?_C(e,t):function(i,s){const o=vC(i,s),a=kS(o)+kS(i.Ie);return pv(o)&&pv(i.Ie)?gC(a):mC(i.serializer,a)}(e,t)}function QF(e,t,n){return e instanceof ea?yC(e,t):e instanceof du?_C(e,t):n}function vC(e,t){return e instanceof Ph?function(r){return pv(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class Rh extends jf{}class ea extends jf{constructor(t){super(),this.elements=t}}function yC(e,t){const n=wC(t);for(const r of e.elements)n.some(i=>mr(i,r))||n.push(r);return{arrayValue:{values:n}}}class du extends jf{constructor(t){super(),this.elements=t}}function _C(e,t){let n=wC(t);for(const r of e.elements)n=n.filter(i=>!mr(i,r));return{arrayValue:{values:n}}}class Ph extends jf{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function kS(e){return et(e.integerValue||e.doubleValue)}function wC(e){return P_(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(t,n){this.field=t,this.transform=n}}function JF(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof ea&&i instanceof ea||r instanceof du&&i instanceof du?Xo(r.elements,i.elements,mr):r instanceof Ph&&i instanceof Ph?mr(r.Ie,i.Ie):r instanceof Rh&&i instanceof Rh}(e.transform,t.transform)}class ZF{constructor(t,n){this.version=t,this.transformResults=n}}class In{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new In}static exists(t){return new In(void 0,t)}static updateTime(t){return new In(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Sd(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Uf{}function EC(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new D_(e.key,In.none()):new ec(e.key,e.data,In.none());{const n=e.data,r=Qt.empty();let i=new Tt(wt.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ji(e.key,r,new cn(i.toArray()),In.none())}}function eV(e,t,n){e instanceof ec?function(i,s,o){const a=i.value.clone(),l=OS(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Ji?function(i,s,o){if(!Sd(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=OS(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(SC(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function Cl(e,t,n,r){return e instanceof ec?function(s,o,a,l){if(!Sd(s.precondition,o))return a;const u=s.value.clone(),c=NS(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ji?function(s,o,a,l){if(!Sd(s.precondition,o))return a;const u=NS(s.fieldTransforms,l,o),c=o.data;return c.setAll(SC(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(e,t,n,r):function(s,o,a){return Sd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function tV(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=vC(r.transform,i||null);s!=null&&(n===null&&(n=Qt.empty()),n.set(r.field,s))}return n||null}function xS(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Xo(r,i,(s,o)=>JF(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ec extends Uf{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ji extends Uf{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function SC(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function OS(e,t,n){const r=new Map;$e(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,QF(o,a,n[i]))}return r}function NS(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,KF(s,o,t))}return r}class D_ extends Uf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nV extends Uf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&eV(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Cl(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Cl(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=pC();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=EC(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),ue())}isEqual(t){return this.batchId===t.batchId&&Xo(this.mutations,t.mutations,(n,r)=>xS(n,r))&&Xo(this.baseMutations,t.baseMutations,(n,r)=>xS(n,r))}}class k_{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){$e(t.mutations.length===r.length);let i=function(){return WF}();const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new k_(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iV=class{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze,pe;function oV(e){switch(e){default:return ne();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0}}function TC(e){if(e===void 0)return Hr("GRPC error has no .code"),x.UNKNOWN;switch(e){case Ze.OK:return x.OK;case Ze.CANCELLED:return x.CANCELLED;case Ze.UNKNOWN:return x.UNKNOWN;case Ze.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case Ze.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case Ze.INTERNAL:return x.INTERNAL;case Ze.UNAVAILABLE:return x.UNAVAILABLE;case Ze.UNAUTHENTICATED:return x.UNAUTHENTICATED;case Ze.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case Ze.NOT_FOUND:return x.NOT_FOUND;case Ze.ALREADY_EXISTS:return x.ALREADY_EXISTS;case Ze.PERMISSION_DENIED:return x.PERMISSION_DENIED;case Ze.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case Ze.ABORTED:return x.ABORTED;case Ze.OUT_OF_RANGE:return x.OUT_OF_RANGE;case Ze.UNIMPLEMENTED:return x.UNIMPLEMENTED;case Ze.DATA_LOSS:return x.DATA_LOSS;default:return ne()}}(pe=Ze||(Ze={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV=new No([4294967295,4294967295],0);function MS(e){const t=aV().encode(e),n=new cF;return n.update(t),new Uint8Array(n.digest())}function $S(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new No([n,r],0),new No([i,s],0)]}class x_{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new dl(`Invalid padding: ${n}`);if(r<0)throw new dl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new dl(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new dl(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*t.length-n,this.Ee=No.fromNumber(this.Te)}de(t,n,r){let i=t.add(n.multiply(No.fromNumber(r)));return i.compare(lV)===1&&(i=new No([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const n=MS(t),[r,i]=$S(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new x_(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.Te===0)return;const n=MS(t),[r,i]=$S(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,tc.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Bf(se.min(),i,new Ye(Se),Yr(),ue())}}class tc{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new tc(r,n,ue(),ue(),ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(t,n,r,i){this.Ve=t,this.removedTargetIds=n,this.key=r,this.me=i}}class IC{constructor(t,n){this.targetId=t,this.fe=n}}class AC{constructor(t,n,r=Vt.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class LS{constructor(){this.ge=0,this.pe=VS(),this.ye=Vt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=ue(),n=ue(),r=ue();return this.pe.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ne()}}),new tc(this.ye,this.we,t,n,r)}Fe(){this.Se=!1,this.pe=VS()}Me(t,n){this.Se=!0,this.pe=this.pe.insert(t,n)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class uV{constructor(t){this.Le=t,this.ke=new Map,this.qe=Yr(),this.Qe=FS(),this.Ke=new Ye(Se)}$e(t){for(const n of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(n,t.me):this.We(n,t.key,t.me);for(const n of t.removedTargetIds)this.We(n,t.key,t.me)}Ge(t){this.forEachTarget(t,n=>{const r=this.ze(n);switch(t.state){case 0:this.je(n)&&r.Ce(t.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(t.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(t.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(t.resumeToken));break;default:ne()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(t){const n=t.targetId,r=t.fe.count,i=this.Ye(n);if(i){const s=i.target;if(gv(s))if(r===0){const o=new Z(s.path);this.We(n,o,xt.newNoDocument(o,se.min()))}else $e(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(t),l=a?this.et(a,t,o):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(t){const n=t.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ns(r).toUint8Array()}catch(l){if(l instanceof tC)return Qo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new x_(o,i,s)}catch(l){return Qo(l instanceof dl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(t,n,r){return n.fe.count===r-this.rt(t,n.targetId)?0:2}rt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.We(n,s,null),i++)}),i}it(t){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&gv(a.target)){const l=new Z(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,xt.newNoDocument(l,t))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=ue();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(t));const i=new Bf(t,n,this.Ke,this.qe,r);return this.qe=Yr(),this.Qe=FS(),this.Ke=new Ye(Se),i}Ue(t,n){if(!this.je(t))return;const r=this.st(t,n.key)?2:0;this.ze(t).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(t))}We(t,n,r){if(!this.je(t))return;const i=this.ze(t);this.st(t,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(t)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(t){this.ke.delete(t)}Ze(t){const n=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let n=this.ke.get(t);return n||(n=new LS,this.ke.set(t,n)),n}ot(t){let n=this.Qe.get(t);return n||(n=new Tt(Se),this.Qe=this.Qe.insert(t,n)),n}je(t){const n=this.Ye(t)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",t),n}Ye(t){const n=this.ke.get(t);return n&&n.be?null:this.Le._t(t)}He(t){this.ke.set(t,new LS),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.We(t,n,null)})}st(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function FS(){return new Ye(Z.comparator)}function VS(){return new Ye(Z.comparator)}const cV={asc:"ASCENDING",desc:"DESCENDING"},dV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hV={and:"AND",or:"OR"};class fV{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function _v(e,t){return e.useProto3Json||$f(t)?t:{value:t}}function Ch(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function RC(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function pV(e,t){return Ch(e,t.toTimestamp())}function cr(e){return $e(!!e),se.fromTimestamp(function(n){const r=Bi(n);return new We(r.seconds,r.nanos)}(e))}function O_(e,t){return function(r){return new Ne(["projects",r.projectId,"databases",r.database])}(e).child("documents").child(t).canonicalString()}function PC(e){const t=Ne.fromString(e);return $e(kC(t)),t}function wv(e,t){return O_(e.databaseId,t.path)}function bm(e,t){const n=PC(t);if(n.get(1)!==e.databaseId.projectId)throw new G(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new G(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Z(CC(n))}function Ev(e,t){return O_(e.databaseId,t)}function mV(e){const t=PC(e);return t.length===4?Ne.emptyPath():CC(t)}function Sv(e){return new Ne(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function CC(e){return $e(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function jS(e,t,n){return{name:wv(e,t),fields:n.value.mapValue.fields}}function gV(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ne()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?($e(c===void 0||typeof c=="string"),Vt.fromBase64String(c||"")):($e(c===void 0||c instanceof Uint8Array),Vt.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(u){const c=u.code===void 0?x.UNKNOWN:TC(u.code);return new G(c,u.message||"")}(o);n=new AC(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=bm(e,r.document.name),s=cr(r.document.updateTime),o=r.document.createTime?cr(r.document.createTime):se.min(),a=new Qt({mapValue:{fields:r.document.fields}}),l=xt.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Td(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=bm(e,r.document),s=r.readTime?cr(r.readTime):se.min(),o=xt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Td([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=bm(e,r.document),s=r.removedTargetIds||[];n=new Td([],s,i,null)}else{if(!("filter"in t))return ne();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new sV(i,s),a=r.targetId;n=new IC(a,o)}}return n}function vV(e,t){let n;if(t instanceof ec)n={update:jS(e,t.key,t.value)};else if(t instanceof D_)n={delete:wv(e,t.key)};else if(t instanceof Ji)n={update:jS(e,t.key,t.data),updateMask:RV(t.fieldMask)};else{if(!(t instanceof nV))return ne();n={verify:wv(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Rh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ea)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof du)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ph)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw ne()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:pV(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ne()}(e,t.precondition)),n}function yV(e,t){return e&&e.length>0?($e(t!==void 0),e.map(n=>function(i,s){let o=i.updateTime?cr(i.updateTime):cr(s);return o.isEqual(se.min())&&(o=cr(s)),new ZF(o,i.transformResults||[])}(n,t))):[]}function _V(e,t){return{documents:[Ev(e,t.path)]}}function wV(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=Ev(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Ev(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return DC(Wn.create(l,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(d){return{field:ao(d.field),direction:TV(d.dir)}}(u))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=_v(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),n}function EV(e){let t=mV(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){$e(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(d){const h=bC(d);return h instanceof Wn&&sC(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(m){return new Ah(lo(m.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,$f(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,f=d.values||[];return new Ih(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,f=d.values||[];return new Ih(f,h)}(n.endAt)),VF(t,i,o,s,a,"F",l,u)}function SV(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function bC(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=lo(n.unaryFilter.field);return nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=lo(n.unaryFilter.field);return nt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=lo(n.unaryFilter.field);return nt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=lo(n.unaryFilter.field);return nt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ne()}}(e):e.fieldFilter!==void 0?function(n){return nt.create(lo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ne()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Wn.create(n.compositeFilter.filters.map(r=>bC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ne()}}(n.compositeFilter.op))}(e):ne()}function TV(e){return cV[e]}function IV(e){return dV[e]}function AV(e){return hV[e]}function ao(e){return{fieldPath:e.canonicalString()}}function lo(e){return wt.fromServerFormat(e.fieldPath)}function DC(e){return e instanceof nt?function(n){if(n.op==="=="){if(RS(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NAN"}};if(AS(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(RS(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NAN"}};if(AS(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ao(n.field),op:IV(n.op),value:n.value}}}(e):e instanceof Wn?function(n){const r=n.getFilters().map(i=>DC(i));return r.length===1?r[0]:{compositeFilter:{op:AV(n.op),filters:r}}}(e):ne()}function RV(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function kC(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(t,n,r,i,s=se.min(),o=se.min(),a=Vt.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new Si(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(t){this.ut=t}}function CV(e){const t=EV({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?yv(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(){this.on=new DV}addToCollectionParentIndex(t,n){return this.on.add(n),M.resolve()}getCollectionParents(t,n){return M.resolve(this.on.getEntries(n))}addFieldIndex(t,n){return M.resolve()}deleteFieldIndex(t,n){return M.resolve()}deleteAllFieldIndexes(t){return M.resolve()}createTargetIndexes(t,n){return M.resolve()}getDocumentsMatchingTarget(t,n){return M.resolve(null)}getIndexType(t,n){return M.resolve(0)}getFieldIndexes(t,n){return M.resolve([])}getNextCollectionGroupToUpdate(t){return M.resolve(null)}getMinOffset(t,n){return M.resolve(Ui.min())}getMinOffsetFromCollectionGroup(t,n){return M.resolve(Ui.min())}updateCollectionGroup(t,n,r){return M.resolve()}updateIndexEntries(t,n){return M.resolve()}}class DV{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Tt(Ne.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Tt(Ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new ta(0)}static Nn(){return new ta(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(){this.changes=new wa(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,xt.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&Cl(r.mutation,i,cn.empty(),We.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,ue()).next(()=>r))}getLocalViewOfDocuments(t,n,r=ue()){const i=gs();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=cl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=gs();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,ue()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=Yr();const o=Pl(),a=function(){return Pl()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Ji)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Cl(c.mutation,u,c.mutation.getFieldMask(),We.now())):o.set(u.key,cn.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new xV(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(t,n){const r=Pl();let i=new Ye((o,a)=>o-a),s=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||cn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||ue()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=pC();c.forEach(h=>{if(!s.has(h)){const f=EC(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,d))}return M.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(o){return Z.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):uC(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):M.resolve(gs());let a=-1,l=s;return o.next(u=>M.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?M.resolve():this.remoteDocumentCache.getEntry(t,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,l,u,ue())).next(c=>({batchId:a,changes:fC(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Z(n)).next(r=>{let i=cl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const s=n.collectionGroup;let o=cl();return this.indexManager.getCollectionParents(t,s).next(a=>M.forEach(a,l=>{const u=function(d,h){return new Zu(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(t,u,r,i).next(c=>{c.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,xt.newInvalidDocument(c)))});let a=cl();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&Cl(c.mutation,u,cn.empty(),We.now()),Vf(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,n){return M.resolve(this.ur.get(n))}saveBundleMetadata(t,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:cr(i.createTime)}}(n)),M.resolve()}getNamedQuery(t,n){return M.resolve(this.cr.get(n))}saveNamedQuery(t,n){return this.cr.set(n.name,function(i){return{name:i.name,query:CV(i.bundledQuery),readTime:cr(i.readTime)}}(n)),M.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(){this.overlays=new Ye(Z.comparator),this.lr=new Map}getOverlay(t,n){return M.resolve(this.overlays.get(n))}getOverlays(t,n){const r=gs();return M.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.lt(t,n,s)}),M.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),M.resolve()}getOverlaysForCollection(t,n,r){const i=gs(),s=n.length+1,o=new Z(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return M.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new Ye((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=gs(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=gs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return M.resolve(a)}lt(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new iV(n,r));let s=this.lr.get(n);s===void 0&&(s=ue(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(){this.hr=new Tt(ut.Pr),this.Ir=new Tt(ut.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,n){const r=new ut(t,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.dr(new ut(t,n))}Ar(t,n){t.forEach(r=>this.removeReference(r,n))}Rr(t){const n=new Z(new Ne([])),r=new ut(n,t),i=new ut(n,t+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const n=new Z(new Ne([])),r=new ut(n,t),i=new ut(n,t+1);let s=ue();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new ut(t,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class ut{constructor(t,n){this.key=t,this.gr=n}static Pr(t,n){return Z.comparator(t.key,n.key)||Se(t.gr,n.gr)}static Tr(t,n){return Se(t.gr,n.gr)||Z.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Tt(ut.Pr)}checkEmpty(t){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new rV(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new ut(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return M.resolve(o)}lookupMutationBatch(t,n){return M.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.Sr(r),s=i<0?0:i;return M.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(t){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new ut(n,0),i=new ut(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),M.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Tt(Se);return n.forEach(i=>{const s=new ut(i,0),o=new ut(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),M.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;Z.isDocumentKey(s)||(s=s.child(""));const o=new ut(new Z(s),0);let a=new Tt(Se);return this.yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.gr)),!0)},o),M.resolve(this.br(a))}br(t){const n=[];return t.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){$e(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return M.forEach(n.mutations,i=>{const s=new ut(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.yr=r})}Fn(t){}containsKey(t,n){const r=new ut(n,0),i=this.yr.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,M.resolve()}Dr(t,n){return this.Sr(t)}Sr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}wr(t){const n=this.Sr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(t){this.Cr=t,this.docs=function(){return new Ye(Z.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():xt.newInvalidDocument(n))}getEntries(t,n){let r=Yr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():xt.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=Yr();const o=n.path,a=new Z(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||SF(EF(c),r)<=0||(i.has(c.key)||Vf(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return M.resolve(s)}getAllFromCollectionGroup(t,n,r,i){ne()}vr(t,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new FV(this)}getSize(t){return M.resolve(this.size)}}class FV extends kV{constructor(t){super(),this._r=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(t,i)):this._r.removeEntry(r)}),M.waitFor(n)}getFromCache(t,n){return this._r.getEntry(t,n)}getAllFromCache(t,n){return this._r.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(t){this.persistence=t,this.Fr=new wa(n=>C_(n),b_),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.Mr=0,this.Or=new N_,this.targetCount=0,this.Nr=ta.On()}forEachTarget(t,n){return this.Fr.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(t){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return M.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),M.resolve()}kn(t){this.Fr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Nr=new ta(n),this.highestTargetId=n),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,n){return this.kn(n),this.targetCount+=1,M.resolve()}updateTargetData(t,n){return this.kn(n),M.resolve()}removeTargetData(t,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),M.waitFor(s).next(()=>i)}getTargetCount(t){return M.resolve(this.targetCount)}getTargetData(t,n){const r=this.Fr.get(n)||null;return M.resolve(r)}addMatchingKeys(t,n,r){return this.Or.Er(n,r),M.resolve()}removeMatchingKeys(t,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),M.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Or.Rr(n),M.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Or.mr(n);return M.resolve(r)}containsKey(t,n){return M.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(t,n){this.Br={},this.overlays={},this.Lr=new I_(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new VV(this),this.indexManager=new bV,this.remoteDocumentCache=function(i){return new LV(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new PV(n),this.Kr=new NV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new MV,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Br[t.toKey()];return r||(r=new $V(n,this.referenceDelegate),this.Br[t.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,n,r){Q("MemoryPersistence","Starting transaction:",t);const i=new UV(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(t,n){return M.or(Object.values(this.Br).map(r=>()=>r.containsKey(t,n)))}}class UV extends IF{constructor(t){super(),this.currentSequenceNumber=t}}class M_{constructor(t){this.persistence=t,this.Gr=new N_,this.zr=null}static jr(t){return new M_(t)}get Hr(){if(this.zr)return this.zr;throw ne()}addReference(t,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),M.resolve()}removeReference(t,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),M.resolve()}markPotentiallyOrphaned(t,n){return this.Hr.add(n.toString()),M.resolve()}removeTarget(t,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}$r(){this.zr=new Set}Ur(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Hr,r=>{const i=Z.fromPath(r);return this.Jr(t,i).next(s=>{s||n.removeEntry(i,se.min())})}).next(()=>(this.zr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Jr(t,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(t){return 0}Jr(t,n){return M.or([()=>M.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Wr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.ki=r,this.qi=i}static Qi(t,n){let r=ue(),i=ue();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new $_(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(t,n){this.Gi=t,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(t,n,r,i){const s={result:null};return this.zi(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(t,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new BV;return this.Hi(t,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(t,n,o,a.size)})}).next(()=>s.result)}Ji(t,n,r,i){return r.documentReadCount<this.Ui?(Ka()<=he.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",oo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),M.resolve()):(Ka()<=he.DEBUG&&Q("QueryEngine","Query:",oo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Ka()<=he.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",oo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ur(n))):M.resolve())}zi(t,n){if(DS(n))return M.resolve(null);let r=ur(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=yv(n,null,"F"),r=ur(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=ue(...s);return this.Gi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.Yi(n,a);return this.Zi(n,u,o,l.readTime)?this.zi(t,yv(n,null,"F")):this.Xi(t,u,n,l)}))})))}ji(t,n,r,i){return DS(n)||i.isEqual(se.min())?M.resolve(null):this.Gi.getDocuments(t,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?M.resolve(null):(Ka()<=he.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),oo(n)),this.Xi(t,o,n,wF(i,-1)).next(a=>a))})}Yi(t,n){let r=new Tt(dC(t));return n.forEach((i,s)=>{Vf(t,s)&&(r=r.add(s))}),r}Zi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(t,n,r){return Ka()<=he.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",oo(n)),this.Gi.getDocumentsMatchingQuery(t,n,Ui.min(),r)}Xi(t,n,r,i){return this.Gi.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(t,n,r,i){this.persistence=t,this.es=n,this.serializer=i,this.ts=new Ye(Se),this.ns=new wa(s=>C_(s),b_),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(r)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new OV(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ts))}}function HV(e,t,n,r){return new WV(e,t,n,r)}async function xC(e,t){const n=oe(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ue();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})}function YV(e,t){const n=oe(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,h=d.keys();let f=M.resolve();return h.forEach(m=>{f=f.next(()=>c.getEntry(l,m)).next(p=>{const y=u.docVersions.get(m);$e(y!==null),p.version.compareTo(y)<0&&(d.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ue();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function OC(e){const t=oe(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.qr.getLastRemoteSnapshotVersion(n))}function qV(e,t){const n=oe(e),r=t.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];t.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.qr.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.qr.addMatchingKeys(s,c.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(d)!==null?f=f.withResumeToken(Vt.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),function(p,y,g){return p.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(h,f,c)&&a.push(n.qr.updateTargetData(s,f))});let l=Yr(),u=ue();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(GV(s,o,t.documentUpdates).next(c=>{l=c.us,u=c.cs})),!r.isEqual(se.min())){const c=n.qr.getLastRemoteSnapshotVersion(s).next(d=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return M.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ts=i,s))}function GV(e,t,n){let r=ue(),i=ue();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=Yr();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(se.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):Q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{us:o,cs:i}})}function KV(e,t){const n=oe(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function QV(e,t){const n=oe(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,t).next(s=>s?(i=s,M.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new Si(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(t,r.targetId)),r})}async function Tv(e,t,n){const r=oe(e),i=r.ts.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ju(o))throw o;Q("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.ts=r.ts.remove(t),r.ns.delete(i.target)}function US(e,t,n){const r=oe(e);let i=se.min(),s=ue();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=oe(l),h=d.ns.get(c);return h!==void 0?M.resolve(d.ts.get(h)):d.qr.getTargetData(u,c)}(r,o,ur(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.es.getDocumentsMatchingQuery(o,t,n?i:se.min(),n?s:ue())).next(a=>(XV(r,UF(t),a),{documents:a,ls:s})))}function XV(e,t,n){let r=e.rs.get(t)||se.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.rs.set(t,r)}class BS{constructor(){this.activeTargetIds=qF()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class JV{constructor(){this.eo=new BS,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,n,r){this.no[t]=n}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new BS,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{ro(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){Q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ed=null;function Dm(){return ed===null?ed=function(){return 268435456+Math.round(2147483648*Math.random())}():ed++,"0x"+ed.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ej={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}onMessage(t){this.Eo=t}close(){this.lo()}send(t){this.co(t)}Ao(){this.Po()}Ro(t){this.To(t)}Vo(t){this.Eo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ct="WebChannelConnection";class nj extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=Dm(),l=this.So(n,r);Q("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,s,o),this.Do(n,l,u,i).then(c=>(Q("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Qo("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_a}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){const i=ej[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Do(t,n,r,i){const s=Dm();return new Promise((o,a)=>{const l=new uF;l.setWithCredentials(!0),l.listenOnce(oF.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Cm.NO_ERROR:const c=l.getResponseJson();Q(Ct,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(c)),o(c);break;case Cm.TIMEOUT:Q(Ct,`RPC '${t}' ${s} timed out`),a(new G(x.DEADLINE_EXCEEDED,"Request time out"));break;case Cm.HTTP_ERROR:const d=l.getStatus();if(Q(Ct,`RPC '${t}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const m=function(y){const g=y.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(g)>=0?g:x.UNKNOWN}(f.status);a(new G(m,f.message))}else a(new G(x.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new G(x.UNAVAILABLE,"Connection failed."));break;default:ne()}}finally{Q(Ct,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(i);Q(Ct,`RPC '${t}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}vo(t,n,r){const i=Dm(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=iF(),a=sF(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new lF({})),this.bo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");Q(Ct,`Creating RPC '${t}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let h=!1,f=!1;const m=new tj({co:y=>{f?Q(Ct,`Not sending because RPC '${t}' stream ${i} is closed:`,y):(h||(Q(Ct,`Opening RPC '${t}' stream ${i} transport.`),d.open(),h=!0),Q(Ct,`RPC '${t}' stream ${i} sending:`,y),d.send(y))},lo:()=>d.close()}),p=(y,g,v)=>{y.listen(g,w=>{try{v(w)}catch(E){setTimeout(()=>{throw E},0)}})};return p(d,Xc.EventType.OPEN,()=>{f||Q(Ct,`RPC '${t}' stream ${i} transport opened.`)}),p(d,Xc.EventType.CLOSE,()=>{f||(f=!0,Q(Ct,`RPC '${t}' stream ${i} transport closed`),m.Ro())}),p(d,Xc.EventType.ERROR,y=>{f||(f=!0,Qo(Ct,`RPC '${t}' stream ${i} transport errored:`,y),m.Ro(new G(x.UNAVAILABLE,"The operation could not be completed")))}),p(d,Xc.EventType.MESSAGE,y=>{var g;if(!f){const v=y.data[0];$e(!!v);const w=v,E=w.error||((g=w[0])===null||g===void 0?void 0:g.error);if(E){Q(Ct,`RPC '${t}' stream ${i} received error:`,E);const S=E.status;let T=function(k){const C=Ze[k];if(C!==void 0)return TC(C)}(S),I=E.message;T===void 0&&(T=x.INTERNAL,I="Unknown error status: "+S+" with message "+E.message),f=!0,m.Ro(new G(T,I)),d.close()}else Q(Ct,`RPC '${t}' stream ${i} received:`,v),m.Vo(v)}}),p(a,aF.STAT_EVENT,y=>{y.stat===_S.PROXY?Q(Ct,`RPC '${t}' stream ${i} detected buffering proxy`):y.stat===_S.NOPROXY&&Q(Ct,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.Ao()},0),m}}function km(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(e){return new fV(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(t,n,r=1e3,i=1.5,s=6e4){this.si=t,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&Q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(t,n,r,i,s,o,a,l){this.si=t,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new NC(t,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(t){this.t_(),this.stream.send(t)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(t,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,t!==4?this.zo.reset():n&&n.code===x.RESOURCE_EXHAUSTED?(Hr(n.toString()),Hr("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Io(n)}r_(){}auth(){this.state=1;const t=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{t(()=>{const i=new G(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(t,n){const r=this.i_(this.Uo);this.stream=this.__(t,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(t){return Q("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}i_(t){return n=>{this.si.enqueueAndForget(()=>this.Uo===t?n():(Q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rj extends MC{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(t,n){return this.connection.vo("Listen",t,n)}onMessage(t){this.zo.reset();const n=gV(this.serializer,t),r=function(s){if(!("targetChange"in s))return se.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?se.min():o.readTime?cr(o.readTime):se.min()}(t);return this.listener.a_(n,r)}u_(t){const n={};n.database=Sv(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=gv(l)?{documents:_V(s,l)}:{query:wV(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=RC(s,o.resumeToken);const u=_v(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(se.min())>0){a.readTime=Ch(s,o.snapshotVersion.toTimestamp());const u=_v(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,t);const r=SV(this.serializer,t);r&&(n.labels=r),this.e_(n)}c_(t){const n={};n.database=Sv(this.serializer),n.removeTarget=t,this.e_(n)}}class ij extends MC{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(t,n){return this.connection.vo("Write",t,n)}onMessage(t){if($e(!!t.streamToken),this.lastStreamToken=t.streamToken,this.l_){this.zo.reset();const n=yV(t.writeResults,t.commitTime),r=cr(t.commitTime);return this.listener.I_(r,n)}return $e(!t.writeResults||t.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const t={};t.database=Sv(this.serializer),this.e_(t)}P_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>vV(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new G(x.FAILED_PRECONDITION,"The client has already been terminated.")}wo(t,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(t,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new G(x.UNKNOWN,i.toString())})}Co(t,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(t,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(x.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class oj{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(t){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.p_("Offline")))}set(t){this.S_(),this.V_=0,t==="Online"&&(this.f_=!1),this.p_(t)}p_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}y_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Hr(n),this.f_=!1):Q("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{r.enqueueAndForget(async()=>{Xs(this)&&(Q("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=oe(l);u.C_.add(4),await nc(u),u.M_.set("Unknown"),u.C_.delete(4),await Wf(u)}(this))})}),this.M_=new oj(r,i)}}async function Wf(e){if(Xs(e))for(const t of e.v_)await t(!0)}async function nc(e){for(const t of e.v_)await t(!1)}function $C(e,t){const n=oe(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),V_(n)?F_(n):Ea(n).Ho()&&L_(n,t))}function LC(e,t){const n=oe(e),r=Ea(n);n.D_.delete(t),r.Ho()&&FC(n,t),n.D_.size===0&&(r.Ho()?r.Zo():Xs(n)&&n.M_.set("Unknown"))}function L_(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(se.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ea(e).u_(t)}function FC(e,t){e.x_.Oe(t),Ea(e).c_(t)}function F_(e){e.x_=new uV({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.D_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),Ea(e).start(),e.M_.g_()}function V_(e){return Xs(e)&&!Ea(e).jo()&&e.D_.size>0}function Xs(e){return oe(e).C_.size===0}function VC(e){e.x_=void 0}async function lj(e){e.D_.forEach((t,n)=>{L_(e,t)})}async function uj(e,t){VC(e),V_(e)?(e.M_.w_(t),F_(e)):e.M_.set("Unknown")}async function cj(e,t,n){if(e.M_.set("Online"),t instanceof AC&&t.state===2&&t.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.D_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.D_.delete(a),i.x_.removeTarget(a))}(e,t)}catch(r){Q("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await bh(e,r)}else if(t instanceof Td?e.x_.$e(t):t instanceof IC?e.x_.Je(t):e.x_.Ge(t),!n.isEqual(se.min()))try{const r=await OC(e.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.D_.get(u);c&&s.D_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.D_.get(l);if(!c)return;s.D_.set(l,c.withResumeToken(Vt.EMPTY_BYTE_STRING,c.snapshotVersion)),FC(s,l);const d=new Si(c.target,l,u,c.sequenceNumber);L_(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){Q("RemoteStore","Failed to raise snapshot:",r),await bh(e,r)}}async function bh(e,t,n){if(!Ju(t))throw t;e.C_.add(1),await nc(e),e.M_.set("Offline"),n||(n=()=>OC(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Q("RemoteStore","Retrying IndexedDB access"),await n(),e.C_.delete(1),await Wf(e)})}function jC(e,t){return t().catch(n=>bh(e,n,t))}async function Hf(e){const t=oe(e),n=zi(t);let r=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;dj(t);)try{const i=await KV(t.localStore,r);if(i===null){t.b_.length===0&&n.Zo();break}r=i.batchId,hj(t,i)}catch(i){await bh(t,i)}UC(t)&&BC(t)}function dj(e){return Xs(e)&&e.b_.length<10}function hj(e,t){e.b_.push(t);const n=zi(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function UC(e){return Xs(e)&&!zi(e).jo()&&e.b_.length>0}function BC(e){zi(e).start()}async function fj(e){zi(e).E_()}async function pj(e){const t=zi(e);for(const n of e.b_)t.P_(n.mutations)}async function mj(e,t,n){const r=e.b_.shift(),i=k_.from(r,t,n);await jC(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Hf(e)}async function gj(e,t){t&&zi(e).h_&&await async function(r,i){if(function(o){return oV(o)&&o!==x.ABORTED}(i.code)){const s=r.b_.shift();zi(r).Yo(),await jC(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Hf(r)}}(e,t),UC(e)&&BC(e)}async function WS(e,t){const n=oe(e);n.asyncQueue.verifyOperationInProgress(),Q("RemoteStore","RemoteStore received new credentials");const r=Xs(n);n.C_.add(3),await nc(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.C_.delete(3),await Wf(n)}async function vj(e,t){const n=oe(e);t?(n.C_.delete(2),await Wf(n)):t||(n.C_.add(2),await nc(n),n.M_.set("Unknown"))}function Ea(e){return e.O_||(e.O_=function(n,r,i){const s=oe(n);return s.A_(),new rj(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{ho:lj.bind(null,e),Io:uj.bind(null,e),a_:cj.bind(null,e)}),e.v_.push(async t=>{t?(e.O_.Yo(),V_(e)?F_(e):e.M_.set("Unknown")):(await e.O_.stop(),VC(e))})),e.O_}function zi(e){return e.N_||(e.N_=function(n,r,i){const s=oe(n);return s.A_(),new ij(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{ho:fj.bind(null,e),Io:gj.bind(null,e),T_:pj.bind(null,e),I_:mj.bind(null,e)}),e.v_.push(async t=>{t?(e.N_.Yo(),await Hf(e)):(await e.N_.stop(),e.b_.length>0&&(Q("RemoteStore",`Stopping write stream with ${e.b_.length} pending writes`),e.b_=[]))})),e.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new $r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new j_(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(x.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function U_(e,t){if(Hr("AsyncQueue",`${t}: ${e}`),Ju(e))return new G(x.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(t){this.comparator=t?(n,r)=>t(n,r)||Z.comparator(n.key,r.key):(n,r)=>Z.comparator(n.key,r.key),this.keyedMap=cl(),this.sortedSet=new Ye(this.comparator)}static emptySet(t){return new Mo(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Mo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Mo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(){this.B_=new Ye(Z.comparator)}track(t){const n=t.doc.key,r=this.B_.get(n);r?t.type!==0&&r.type===3?this.B_=this.B_.insert(n,t):t.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.B_=this.B_.remove(n):t.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):ne():this.B_=this.B_.insert(n,t)}L_(){const t=[];return this.B_.inorderTraversal((n,r)=>{t.push(r)}),t}}class na{constructor(t,n,r,i,s,o,a,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new na(t,n,Mo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ff(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(){this.k_=void 0,this.listeners=[]}}class _j{constructor(){this.queries=new wa(t=>cC(t),Ff),this.onlineState="Unknown",this.q_=new Set}}async function B_(e,t){const n=oe(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new yj),i)try{s.k_=await n.onListen(r)}catch(o){const a=U_(o,`Initialization of query '${oo(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,s),s.listeners.push(t),t.Q_(n.onlineState),s.k_&&t.K_(s.k_)&&W_(n)}async function z_(e,t){const n=oe(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function wj(e,t){const n=oe(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&W_(n)}function Ej(e,t,n){const r=oe(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function W_(e){e.q_.forEach(t=>{t.next()})}class H_{constructor(t,n,r){this.query=t,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new na(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.W_?this.z_(t)&&(this.U_.next(t),n=!0):this.j_(t,this.onlineState)&&(this.H_(t),n=!0),this.G_=t,n}onError(t){this.U_.error(t)}Q_(t){this.onlineState=t;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,t)&&(this.H_(this.G_),n=!0),n}j_(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}z_(t){if(t.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(t){t=na.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.W_=!0,this.U_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(t){this.key=t}}class WC{constructor(t){this.key=t}}class Sj{constructor(t,n){this.query=t,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ue(),this.mutatedKeys=ue(),this._a=dC(t),this.aa=new Mo(this._a)}get ua(){return this.ia}ca(t,n){const r=n?n.la:new HS,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,d)=>{const h=i.get(c),f=Vf(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),p=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?m!==p&&(r.track({type:3,doc:f}),y=!0):this.ha(h,f)||(r.track({type:2,doc:f}),y=!0,(l&&this._a(f,l)>0||u&&this._a(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(l||u)&&(a=!0)),y&&(f?(o=o.add(f),s=p?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r){const i=this.aa;this.aa=t.aa,this.mutatedKeys=t.mutatedKeys;const s=t.la.L_();s.sort((u,c)=>function(h,f){const m=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne()}};return m(h)-m(f)}(u.type,c.type)||this._a(u.doc,c.doc)),this.Pa(r);const o=n?this.Ia():[],a=this.oa.size===0&&this.current?1:0,l=a!==this.sa;return this.sa=a,s.length!==0||l?{snapshot:new na(this.query,t.aa,i,s,t.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new HS,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(t){return!this.ia.has(t)&&!!this.aa.has(t)&&!this.aa.get(t).hasLocalMutations}Pa(t){t&&(t.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=t.current)}Ia(){if(!this.current)return[];const t=this.oa;this.oa=ue(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return t.forEach(r=>{this.oa.has(r)||n.push(new WC(r))}),this.oa.forEach(r=>{t.has(r)||n.push(new zC(r))}),n}da(t){this.ia=t.ls,this.oa=ue();const n=this.ca(t.documents);return this.applyChanges(n,!0)}Aa(){return na.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class Tj{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class Ij{constructor(t){this.key=t,this.Ra=!1}}class Aj{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new wa(a=>cC(a),Ff),this.fa=new Map,this.ga=new Set,this.pa=new Ye(Z.comparator),this.ya=new Map,this.wa=new N_,this.Sa={},this.ba=new Map,this.Da=ta.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function Rj(e,t){const n=$j(e);let r,i;const s=n.ma.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=await QV(n.localStore,ur(t)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await Pj(n,t,r,a==="current",o.resumeToken),n.isPrimaryClient&&$C(n.remoteStore,o)}return i}async function Pj(e,t,n,r,i){e.va=(d,h,f)=>async function(p,y,g,v){let w=y.view.ca(g);w.Zi&&(w=await US(p.localStore,y.query,!1).then(({documents:T})=>y.view.ca(T,w)));const E=v&&v.targetChanges.get(y.targetId),S=y.view.applyChanges(w,p.isPrimaryClient,E);return qS(p,y.targetId,S.Ta),S.snapshot}(e,d,h,f);const s=await US(e.localStore,t,!0),o=new Sj(t,s.ls),a=o.ca(s.documents),l=tc.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=o.applyChanges(a,e.isPrimaryClient,l);qS(e,n,u.Ta);const c=new Tj(t,n,o);return e.ma.set(t,c),e.fa.has(n)?e.fa.get(n).push(t):e.fa.set(n,[t]),u.snapshot}async function Cj(e,t){const n=oe(e),r=n.ma.get(t),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!Ff(s,t))),void n.ma.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Tv(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),LC(n.remoteStore,r.targetId),Iv(n,r.targetId)}).catch(Xu)):(Iv(n,r.targetId),await Tv(n.localStore,r.targetId,!0))}async function bj(e,t,n){const r=Lj(e);try{const i=await function(o,a){const l=oe(o),u=We.now(),c=a.reduce((f,m)=>f.add(m.key),ue());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let m=Yr(),p=ue();return l.ss.getEntries(f,c).next(y=>{m=y,m.forEach((g,v)=>{v.isValidDocument()||(p=p.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,m)).next(y=>{d=y;const g=[];for(const v of a){const w=tV(v,d.get(v.key).overlayedDocument);w!=null&&g.push(new Ji(v.key,w,nC(w.value.mapValue),In.exists(!0)))}return l.mutationQueue.addMutationBatch(f,u,g,a)}).next(y=>{h=y;const g=y.applyToLocalDocumentSet(d,p);return l.documentOverlayCache.saveOverlays(f,y.batchId,g)})}).then(()=>({batchId:h.batchId,changes:fC(d)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Sa[o.currentUser.toKey()];u||(u=new Ye(Se)),u=u.insert(a,l),o.Sa[o.currentUser.toKey()]=u}(r,i.batchId,n),await rc(r,i.changes),await Hf(r.remoteStore)}catch(i){const s=U_(i,"Failed to persist write");n.reject(s)}}async function HC(e,t){const n=oe(e);try{const r=await qV(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&($e(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?$e(o.Ra):i.removedDocuments.size>0&&($e(o.Ra),o.Ra=!1))}),await rc(n,r,t)}catch(r){await Xu(r)}}function YS(e,t,n){const r=oe(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(t);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=oe(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.listeners)h.Q_(a)&&(u=!0)}),u&&W_(l)}(r.eventManager,t),i.length&&r.Va.a_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Dj(e,t,n){const r=oe(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.ya.get(t),s=i&&i.key;if(s){let o=new Ye(Z.comparator);o=o.insert(s,xt.newNoDocument(s,se.min()));const a=ue().add(s),l=new Bf(se.min(),new Map,new Ye(Se),o,a);await HC(r,l),r.pa=r.pa.remove(s),r.ya.delete(t),Y_(r)}else await Tv(r.localStore,t,!1).then(()=>Iv(r,t,n)).catch(Xu)}async function kj(e,t){const n=oe(e),r=t.batch.batchId;try{const i=await YV(n.localStore,t);qC(n,r,null),YC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await rc(n,i)}catch(i){await Xu(i)}}async function xj(e,t,n){const r=oe(e);try{const i=await function(o,a){const l=oe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>($e(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,t);qC(r,t,n),YC(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await rc(r,i)}catch(i){await Xu(i)}}function YC(e,t){(e.ba.get(t)||[]).forEach(n=>{n.resolve()}),e.ba.delete(t)}function qC(e,t,n){const r=oe(e);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.Sa[r.currentUser.toKey()]=i}}function Iv(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.fa.get(t))e.ma.delete(r),n&&e.Va.Fa(r,n);e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach(r=>{e.wa.containsKey(r)||GC(e,r)})}function GC(e,t){e.ga.delete(t.path.canonicalString());const n=e.pa.get(t);n!==null&&(LC(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),Y_(e))}function qS(e,t,n){for(const r of n)r instanceof zC?(e.wa.addReference(r.key,t),Oj(e,r)):r instanceof WC?(Q("SyncEngine","Document no longer in limbo: "+r.key),e.wa.removeReference(r.key,t),e.wa.containsKey(r.key)||GC(e,r.key)):ne()}function Oj(e,t){const n=t.key,r=n.path.canonicalString();e.pa.get(n)||e.ga.has(r)||(Q("SyncEngine","New document in limbo: "+n),e.ga.add(r),Y_(e))}function Y_(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){const t=e.ga.values().next().value;e.ga.delete(t);const n=new Z(Ne.fromString(t)),r=e.Da.next();e.ya.set(r,new Ij(n)),e.pa=e.pa.insert(n,r),$C(e.remoteStore,new Si(ur(Lf(n.path)),r,"TargetPurposeLimboResolution",I_._e))}}async function rc(e,t,n){const r=oe(e),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,l)=>{o.push(r.va(l,t,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=$_.Qi(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.Va.a_(i),await async function(l,u){const c=oe(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>M.forEach(u,h=>M.forEach(h.ki,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>M.forEach(h.qi,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Ju(d))throw d;Q("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const f=c.ts.get(h),m=f.snapshotVersion,p=f.withLastLimboFreeSnapshotVersion(m);c.ts=c.ts.insert(h,p)}}}(r.localStore,s))}async function Nj(e,t){const n=oe(e);if(!n.currentUser.isEqual(t)){Q("SyncEngine","User change. New user:",t.toKey());const r=await xC(n.localStore,t);n.currentUser=t,function(s,o){s.ba.forEach(a=>{a.forEach(l=>{l.reject(new G(x.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await rc(n,r._s)}}function Mj(e,t){const n=oe(e),r=n.ya.get(t);if(r&&r.Ra)return ue().add(r.key);{let i=ue();const s=n.fa.get(t);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function $j(e){const t=oe(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=HC.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Mj.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Dj.bind(null,t),t.Va.a_=wj.bind(null,t.eventManager),t.Va.Fa=Ej.bind(null,t.eventManager),t}function Lj(e){const t=oe(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=kj.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=xj.bind(null,t),t}class GS{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=zf(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return HV(this.persistence,new zV,t.initialUser,this.serializer)}createPersistence(t){return new jV(M_.jr,this.serializer)}createSharedClientState(t){return new JV}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Fj{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>YS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Nj.bind(null,this.syncEngine),await vj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new _j}()}createDatastore(t){const n=zf(t.databaseInfo.databaseId),r=function(s){return new nj(s)}(t.databaseInfo);return function(s,o,a,l){return new sj(s,o,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,s,o,a){return new aj(r,i,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>YS(this.syncEngine,n,0),function(){return zS.D()?new zS:new ZV}())}createSyncEngine(t,n){return function(i,s,o,a,l,u,c){const d=new Aj(i,s,o,a,l,u);return c&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=oe(n);Q("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await nc(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Oa(this.observer.next,t)}error(t){this.observer.error?this.Oa(this.observer.error,t):Hr("Uncaught Error in snapshot listener:",t.toString())}Na(){this.muted=!0}Oa(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Dt.UNAUTHENTICATED,this.clientId=ZP.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Q("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Q("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new G(x.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new $r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=U_(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function xm(e,t){e.asyncQueue.verifyOperationInProgress(),Q("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await xC(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function KS(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Uj(e);Q("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(i=>WS(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>WS(t.remoteStore,s)),e._onlineComponents=t}function jj(e){return e.name==="FirebaseError"?e.code===x.FAILED_PRECONDITION||e.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function Uj(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Q("FirestoreClient","Using user provided OfflineComponentProvider");try{await xm(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!jj(n))throw n;Qo("Error using user provided cache. Falling back to memory cache: "+n),await xm(e,new GS)}}else Q("FirestoreClient","Using default OfflineComponentProvider"),await xm(e,new GS);return e._offlineComponents}async function KC(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Q("FirestoreClient","Using user provided OnlineComponentProvider"),await KS(e,e._uninitializedComponentsProvider._online)):(Q("FirestoreClient","Using default OnlineComponentProvider"),await KS(e,new Fj))),e._onlineComponents}function Bj(e){return KC(e).then(t=>t.syncEngine)}async function Dh(e){const t=await KC(e),n=t.eventManager;return n.onListen=Rj.bind(null,t.syncEngine),n.onUnlisten=Cj.bind(null,t.syncEngine),n}function zj(e,t,n={}){const r=new $r;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new q_({next:h=>{o.enqueueAndForget(()=>z_(s,d));const f=h.docs.has(a);!f&&h.fromCache?u.reject(new G(x.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&l&&l.source==="server"?u.reject(new G(x.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new H_(Lf(a.path),c,{includeMetadataChanges:!0,J_:!0});return B_(s,d)}(await Dh(e),e.asyncQueue,t,n,r)),r.promise}function Wj(e,t,n={}){const r=new $r;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new q_({next:h=>{o.enqueueAndForget(()=>z_(s,d)),h.fromCache&&l.source==="server"?u.reject(new G(x.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new H_(a,c,{includeMetadataChanges:!0,J_:!0});return B_(s,d)}(await Dh(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(e,t,n){if(!n)throw new G(x.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Hj(e,t,n,r){if(t===!0&&r===!0)throw new G(x.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function XS(e){if(!Z.isDocumentKey(e))throw new G(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function JS(e){if(Z.isDocumentKey(e))throw new G(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Yf(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":ne()}function tn(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new G(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yf(e);throw new G(x.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new G(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new G(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Hj("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QC((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new G(x.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new G(x.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new G(x.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class qf{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ZS({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new G(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new G(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ZS(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new dF;switch(r.type){case"firstParty":return new mF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=QS.get(n);r&&(Q("ComponentProvider","Removing Datastore"),QS.delete(n),r.terminate())}(this),Promise.resolve()}}function Yj(e,t,n,r={}){var i;const s=(e=tn(e,qf))._getSettings(),o=`${t}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Dt.MOCK_USER;else{a=L$(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new G(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Dt(u)}e._authCredentials=new hF(new JP(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Js(this.firestore,t,this._query)}}class Mt{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Li(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Mt(this.firestore,t,this._key)}}class Li extends Js{constructor(t,n,r){super(t,n,Lf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Mt(this.firestore,null,new Z(t))}withConverter(t){return new Li(this.firestore,t,this._path)}}function ic(e,t,...n){if(e=lt(e),XC("collection","path",t),e instanceof qf){const r=Ne.fromString(t,...n);return JS(r),new Li(e,null,r)}{if(!(e instanceof Mt||e instanceof Li))throw new G(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Ne.fromString(t,...n));return JS(r),new Li(e.firestore,null,r)}}function Zs(e,t,...n){if(e=lt(e),arguments.length===1&&(t=ZP.newId()),XC("doc","path",t),e instanceof qf){const r=Ne.fromString(t,...n);return XS(r),new Mt(e,null,new Z(r))}{if(!(e instanceof Mt||e instanceof Li))throw new G(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Ne.fromString(t,...n));return XS(r),new Mt(e.firestore,e instanceof Li?e.converter:null,new Z(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new NC(this,"async_queue_retry"),this.iu=()=>{const n=km();n&&Q("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const t=km();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const n=km();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});const n=new $r;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(t){if(!Ju(t))throw t;Q("AsyncQueue","Operation failed with retryable error: "+t)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(t){const n=this.Ja.then(()=>(this.tu=!0,t().catch(r=>{this.eu=r,this.tu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Hr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(t,n,r){this.su(),this.ru.indexOf(t)>-1&&(n=0);const i=j_.createAndSchedule(this,t,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&ne()}verifyOperationInProgress(){}async uu(){let t;do t=this.Ja,await t;while(t!==this.Ja)}cu(t){for(const n of this.Xa)if(n.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){const n=this.Xa.indexOf(t);this.Xa.splice(n,1)}}function eT(e){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(e,["next","error","complete"])}class qr extends qf{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=function(){return new qj}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||JC(this),this._firestoreClient.terminate()}}function Gj(e,t){const n=typeof e=="object"?e:qR(),r=typeof e=="string"?e:t||"(default)",i=e_(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=M$("firestore");s&&Yj(i,...s)}return i}function Gf(e){return e._firestoreClient||JC(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function JC(e){var t,n,r;const i=e._freezeSettings(),s=function(a,l,u,c){return new PF(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,QC(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Vj(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ra(Vt.fromBase64String(t))}catch(n){throw new G(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ra(Vt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new G(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new G(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new G(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Se(this._lat,t._lat)||Se(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj=/^__.*__$/;class Qj{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Ji(t,this.data,this.fieldMask,n,this.fieldTransforms):new ec(t,this.data,n,this.fieldTransforms)}}class ZC{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new Ji(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function eb(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne()}}class Xf{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(t){return new Xf(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Tu({path:r,du:!1});return i.Au(t),i}Ru(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(t){return this.Tu({path:void 0,du:!0})}mu(t){return kh(t,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Au(this.path.get(t))}Au(t){if(t.length===0)throw this.mu("Document fields must not be empty");if(eb(this.Iu)&&Kj.test(t))throw this.mu('Document fields cannot begin and end with "__"')}}class Xj{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||zf(t)}pu(t,n,r,i=!1){return new Xf({Iu:t,methodName:n,gu:r,path:wt.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jf(e){const t=e._freezeSettings(),n=zf(e._databaseId);return new Xj(e._databaseId,!!t.ignoreUndefinedProperties,n)}function tb(e,t,n,r,i,s={}){const o=e.pu(s.merge||s.mergeFields?2:0,t,n,i);K_("Data must be an object, but it was:",o,r);const a=nb(r,o);let l,u;if(s.merge)l=new cn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=Av(t,d,n);if(!o.contains(h))throw new G(x.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);ib(c,h)||c.push(h)}l=new cn(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new Qj(new Qt(a),l,u)}class Zf extends Qf{_toFieldTransform(t){if(t.Iu!==2)throw t.Iu===1?t.mu(`${this._methodName}() can only appear at the top level of your update data`):t.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Zf}}function Jj(e,t,n){return new Xf({Iu:3,gu:t.settings.gu,methodName:e._methodName,du:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Zj extends Qf{constructor(t,n){super(t),this.yu=n}_toFieldTransform(t){const n=Jj(this,t,!0),r=this.yu.map(s=>Sa(s,n)),i=new ea(r);return new XF(t.path,i)}isEqual(t){return this===t}}function eU(e,t,n,r){const i=e.pu(1,t,n);K_("Data must be an object, but it was:",i,r);const s=[],o=Qt.empty();Qs(r,(l,u)=>{const c=Q_(t,l,n);u=lt(u);const d=i.Ru(c);if(u instanceof Zf)s.push(c);else{const h=Sa(u,d);h!=null&&(s.push(c),o.set(c,h))}});const a=new cn(s);return new ZC(o,a,i.fieldTransforms)}function tU(e,t,n,r,i,s){const o=e.pu(1,t,n),a=[Av(t,r,n)],l=[i];if(s.length%2!=0)throw new G(x.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Av(t,s[h])),l.push(s[h+1]);const u=[],c=Qt.empty();for(let h=a.length-1;h>=0;--h)if(!ib(u,a[h])){const f=a[h];let m=l[h];m=lt(m);const p=o.Ru(f);if(m instanceof Zf)u.push(f);else{const y=Sa(m,p);y!=null&&(u.push(f),c.set(f,y))}}const d=new cn(u);return new ZC(c,d,o.fieldTransforms)}function nU(e,t,n,r=!1){return Sa(n,e.pu(r?4:3,t))}function Sa(e,t){if(rb(e=lt(e)))return K_("Unsupported field value:",t,e),nb(e,t);if(e instanceof Qf)return function(r,i){if(!eb(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&t.Iu!==4)throw t.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Sa(a,i.Vu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(e,t)}return function(r,i){if((r=lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return GF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=We.fromDate(r);return{timestampValue:Ch(i.serializer,s)}}if(r instanceof We){const s=new We(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ch(i.serializer,s)}}if(r instanceof G_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ra)return{bytesValue:RC(i.serializer,r._byteString)};if(r instanceof Mt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:O_(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${Yf(r)}`)}(e,t)}function nb(e,t){const n={};return eC(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Qs(e,(r,i)=>{const s=Sa(i,t.Eu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function rb(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof We||e instanceof G_||e instanceof ra||e instanceof Mt||e instanceof Qf)}function K_(e,t,n){if(!rb(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Yf(n);throw r==="an object"?t.mu(e+" a custom object"):t.mu(e+" "+r)}}function Av(e,t,n){if((t=lt(t))instanceof Kf)return t._internalPath;if(typeof t=="string")return Q_(e,t);throw kh("Field path arguments must be of type string or ",e,!1,void 0,n)}const rU=new RegExp("[~\\*/\\[\\]]");function Q_(e,t,n){if(t.search(rU)>=0)throw kh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Kf(...t.split("."))._internalPath}catch{throw kh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function kh(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new G(x.INVALID_ARGUMENT,a+e+l)}function ib(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new iU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(X_("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iU extends sb{data(){return super.data()}}function X_(e,t){return typeof t=="string"?Q_(e,t):t instanceof Kf?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new G(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class J_{}class sU extends J_{}function oU(e,t,...n){let r=[];t instanceof J_&&r.push(t),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Z_).length,a=s.filter(l=>l instanceof ep).length;if(o>1||o>0&&a>0)throw new G(x.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class ep extends sU{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new ep(t,n,r)}_apply(t){const n=this._parse(t);return ab(t._query,n),new Js(t.firestore,t.converter,vv(t._query,n))}_parse(t){const n=Jf(t.firestore);return function(s,o,a,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new G(x.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){nT(d,c);const f=[];for(const m of d)f.push(tT(l,s,m));h={arrayValue:{values:f}}}else h=tT(l,s,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||nT(d,c),h=nU(a,o,d,c==="in"||c==="not-in");return nt.create(u,c,h)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function aU(e,t,n){const r=t,i=X_("where",e);return ep._create(i,r,n)}class Z_ extends J_{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Z_(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Wn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)ab(o,l),o=vv(o,l)}(t._query,n),new Js(t.firestore,t.converter,vv(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function tT(e,t,n){if(typeof(n=lt(n))=="string"){if(n==="")throw new G(x.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uC(t)&&n.indexOf("/")!==-1)throw new G(x.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Ne.fromString(n));if(!Z.isDocumentKey(r))throw new G(x.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return IS(e,new Z(r))}if(n instanceof Mt)return IS(e,n._key);throw new G(x.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yf(n)}.`)}function nT(e,t){if(!Array.isArray(e)||e.length===0)throw new G(x.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function ab(e,t){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new G(x.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new G(x.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class lU{convertValue(t,n="none"){switch(Ms(t)){case 0:return null;case 1:return t.booleanValue;case 2:return et(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ns(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw ne()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Qs(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(t){return new G_(et(t.latitude),et(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=R_(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(lu(t));default:return null}}convertTimestamp(t){const n=Bi(t);return new We(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Ne.fromString(t);$e(kC(r));const i=new uu(r.get(1),r.get(3)),s=new Z(r.popFirst(5));return i.isEqual(n)||Hr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ub extends sb{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Id(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(X_("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Id extends ub{data(t={}){return super.data(t)}}class cb{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new hl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Id(this._firestore,this._userDataWriter,r.key,r,new hl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Id(i._firestore,i._userDataWriter,a.doc.key,a.doc,new hl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Id(i._firestore,i._userDataWriter,a.doc.key,a.doc,new hl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:uU(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function uU(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cU(e){e=tn(e,Mt);const t=tn(e.firestore,qr);return zj(Gf(t),e._key).then(n=>fb(t,e,n))}class ew extends lU{constructor(t){super(),this.firestore=t}convertBytes(t){return new ra(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Mt(this.firestore,null,n)}}function db(e){e=tn(e,Js);const t=tn(e.firestore,qr),n=Gf(t),r=new ew(t);return ob(e._query),Wj(n,e._query).then(i=>new cb(t,r,e,i))}function dU(e,t,n){e=tn(e,Mt);const r=tn(e.firestore,qr),i=lb(e.converter,t,n);return tp(r,[tb(Jf(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,In.none())])}function tw(e,t,n,...r){e=tn(e,Mt);const i=tn(e.firestore,qr),s=Jf(i);let o;return o=typeof(t=lt(t))=="string"||t instanceof Kf?tU(s,"updateDoc",e._key,t,n,r):eU(s,"updateDoc",e._key,t),tp(i,[o.toMutation(e._key,In.exists(!0))])}function hU(e){return tp(tn(e.firestore,qr),[new D_(e._key,In.none())])}function hb(e,t){const n=tn(e.firestore,qr),r=Zs(e),i=lb(e.converter,t);return tp(n,[tb(Jf(e.firestore),"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,In.exists(!1))]).then(()=>r)}function fU(e,...t){var n,r,i;e=lt(e);let s={includeMetadataChanges:!1},o=0;typeof t[o]!="object"||eT(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(eT(t[o])){const d=t[o];t[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),t[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),t[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(e instanceof Mt)u=tn(e.firestore,qr),c=Lf(e._key.path),l={next:d=>{t[o]&&t[o](fb(u,e,d))},error:t[o+1],complete:t[o+2]};else{const d=tn(e,Js);u=tn(d.firestore,qr),c=d._query;const h=new ew(u);l={next:f=>{t[o]&&t[o](new cb(u,h,d,f))},error:t[o+1],complete:t[o+2]},ob(e._query)}return function(h,f,m,p){const y=new q_(p),g=new H_(f,y,m);return h.asyncQueue.enqueueAndForget(async()=>B_(await Dh(h),g)),()=>{y.Na(),h.asyncQueue.enqueueAndForget(async()=>z_(await Dh(h),g))}}(Gf(u),c,a,l)}function tp(e,t){return function(r,i){const s=new $r;return r.asyncQueue.enqueueAndForget(async()=>bj(await Bj(r),i,s)),s.promise}(Gf(e),t)}function fb(e,t,n){const r=n.docs.get(t._key),i=new ew(e);return new ub(e,i,t._key,r,new hl(n.hasPendingWrites,n.fromCache),t.converter)}function pb(...e){return new Zj("arrayUnion",e)}(function(t,n=!0){(function(i){_a=i})(ga),Go(new ks("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new qr(new fF(r.getProvider("auth-internal")),new vF(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new G(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uu(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),$i(wS,"4.3.2",t),$i(wS,"4.3.2","esm2017")})();function nw(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function mb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pU=mb,gb=new ju("auth","Firebase",mb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=new Jy("@firebase/auth");function mU(e,...t){xh.logLevel<=he.WARN&&xh.warn(`Auth (${ga}): ${e}`,...t)}function Ad(e,...t){xh.logLevel<=he.ERROR&&xh.error(`Auth (${ga}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(e,...t){throw rw(e,...t)}function dr(e,...t){return rw(e,...t)}function gU(e,t,n){const r=Object.assign(Object.assign({},pU()),{[t]:n});return new ju("auth","Firebase",r).create(t,{appName:e.name})}function rw(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return gb.create(e,...t)}function te(e,t,...n){if(!e)throw rw(t,...n)}function kr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Ad(t),new Error(t)}function Gr(e,t){e||kr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function vU(){return rT()==="http:"||rT()==="https:"}function rT(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vU()||V$()||"connection"in navigator)?navigator.onLine:!0}function _U(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(t,n){this.shortDelay=t,this.longDelay=n,Gr(n>t,"Short delay should be less than long delay!"),this.isMobile=F$()||j$()}get(){return yU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(e,t){Gr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EU=new sc(3e4,6e4);function ti(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function ni(e,t,n,r,i={}){return yb(e,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});const a=Uu(Object.assign({key:e.config.apiKey},o)).slice(1),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),vb.fetch()(_b(e,e.config.apiHost,n,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},s))})}async function yb(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},wU),t);try{const i=new TU(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw td(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw td(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw td(e,"email-already-in-use",o);if(l==="USER_DISABLED")throw td(e,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw gU(e,c,u);Hn(e,c)}}catch(i){if(i instanceof ei)throw i;Hn(e,"network-request-failed",{message:String(i)})}}async function oc(e,t,n,r,i={}){const s=await ni(e,t,n,r,i);return"mfaPendingCredential"in s&&Hn(e,"multi-factor-auth-required",{_serverResponse:s}),s}function _b(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?iw(e.config,i):`${e.config.apiScheme}://${i}`}function SU(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class TU{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(dr(this.auth,"network-request-failed")),EU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function td(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=dr(e,t,r);return i.customData._tokenResponse=n,i}function iT(e){return e!==void 0&&e.enterprise!==void 0}class IU{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return SU(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}}async function AU(e,t){return ni(e,"GET","/v2/recaptchaConfig",ti(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RU(e,t){return ni(e,"POST","/v1/accounts:delete",t)}async function PU(e,t){return ni(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function CU(e,t=!1){const n=lt(e),r=await n.getIdToken(t),i=sw(r);te(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:bl(Om(i.auth_time)),issuedAtTime:bl(Om(i.iat)),expirationTime:bl(Om(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Om(e){return Number(e)*1e3}function sw(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return Ad("JWT malformed, contained fewer than 3 sections"),null;try{const i=jR(n);return i?JSON.parse(i):(Ad("Failed to decode base64 JWT payload"),null)}catch(i){return Ad("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function bU(e){const t=sw(e);return te(t,"internal-error"),te(typeof t.exp<"u","internal-error"),te(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hu(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof ei&&DU(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function DU({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bl(this.lastLoginAt),this.creationTime=bl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oh(e){var t;const n=e.auth,r=await e.getIdToken(),i=await hu(e,PU(n,{idToken:r}));te(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?NU(s.providerUserInfo):[],a=OU(e.providerData,o),l=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new wb(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,d)}async function xU(e){const t=lt(e);await Oh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function OU(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function NU(e){return e.map(t=>{var{providerId:n}=t,r=nw(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MU(e,t){const n=await yb(e,{},async()=>{const r=Uu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=_b(e,i,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",vb.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function $U(e,t){return ni(e,"POST","/v2/accounts:revokeToken",ti(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){te(t.idToken,"internal-error"),te(typeof t.idToken<"u","internal-error"),te(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):bU(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return te(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await MU(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new fu;return r&&(te(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(te(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(te(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new fu,this.toJSON())}_performRefresh(){return kr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(e,t){te(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Es{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,s=nw(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new wb(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await hu(this,this.stsTokenManager.getToken(this.auth,t));return te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return CU(this,t)}reload(){return xU(this)}_assign(t){this!==t&&(te(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Es(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Oh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await hu(this,RU(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,p=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:w,emailVerified:E,isAnonymous:S,providerData:T,stsTokenManager:I}=n;te(w&&I,t,"internal-error");const P=fu.fromJSON(this.name,I);te(typeof w=="string",t,"internal-error"),ai(d,t.name),ai(h,t.name),te(typeof E=="boolean",t,"internal-error"),te(typeof S=="boolean",t,"internal-error"),ai(f,t.name),ai(m,t.name),ai(p,t.name),ai(y,t.name),ai(g,t.name),ai(v,t.name);const k=new Es({uid:w,auth:t,email:h,emailVerified:E,displayName:d,isAnonymous:S,photoURL:m,phoneNumber:f,tenantId:p,stsTokenManager:P,createdAt:g,lastLoginAt:v});return T&&Array.isArray(T)&&(k.providerData=T.map(C=>Object.assign({},C))),y&&(k._redirectEventId=y),k}static async _fromIdTokenResponse(t,n,r=!1){const i=new fu;i.updateFromServerResponse(n);const s=new Es({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await Oh(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=new Map;function xr(e){Gr(e instanceof Function,"Expected a class definition");let t=sT.get(e);return t?(Gr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,sT.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}Eb.type="NONE";const oT=Eb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(e,t,n){return`firebase:${e}:${t}:${n}`}class $o{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Rd(this.userKey,i.apiKey,s),this.fullPersistenceKey=Rd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Es._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new $o(xr(oT),t,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||xr(oT);const o=Rd(r,t.config.apiKey,t.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=Es._fromJSON(t,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new $o(s,t,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new $o(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ib(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Sb(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Rb(t))return"Blackberry";if(Pb(t))return"Webos";if(ow(t))return"Safari";if((t.includes("chrome/")||Tb(t))&&!t.includes("edge/"))return"Chrome";if(Ab(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Sb(e=Ft()){return/firefox\//i.test(e)}function ow(e=Ft()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Tb(e=Ft()){return/crios\//i.test(e)}function Ib(e=Ft()){return/iemobile/i.test(e)}function Ab(e=Ft()){return/android/i.test(e)}function Rb(e=Ft()){return/blackberry/i.test(e)}function Pb(e=Ft()){return/webos/i.test(e)}function np(e=Ft()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function LU(e=Ft()){var t;return np(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function FU(){return U$()&&document.documentMode===10}function Cb(e=Ft()){return np(e)||Ab(e)||Pb(e)||Rb(e)||/windows phone/i.test(e)||Ib(e)}function VU(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(e,t=[]){let n;switch(e){case"Browser":n=aT(Ft());break;case"Worker":n=`${aT(Ft())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${ga}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((o,a)=>{try{const l=t(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UU(e,t={}){return ni(e,"GET","/v2/passwordPolicy",ti(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BU=6;class zU{constructor(t){var n,r,i,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:BU,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lT(this),this.idTokenSubscription=new lT(this),this.beforeStateQueue=new jU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=xr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await $o.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(t);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Oh(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=_U()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?lt(t):null;return n&&te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&te(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(xr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await UU(this),n=new zU(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new ju("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await $U(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&xr(t)||this._popupRedirectResolver;te(n,this,"argument-error"),this.redirectPersistenceManager=await $o.create(this,[xr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(te(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=t.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=bb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&mU(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Zi(e){return lt(e)}class lT{constructor(t){this.auth=t,this.observer=null,this.addObserver=G$(n=>this.observer=n)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HU(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function Db(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const s=dr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",HU().appendChild(r)})}function YU(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const qU="https://www.google.com/recaptcha/enterprise.js?render=",GU="recaptcha-enterprise",KU="NO_RECAPTCHA";class QU{constructor(t){this.type=GU,this.auth=Zi(t)}async verify(t="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{AU(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new IU(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;iT(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:t}).then(u=>{o(u)}).catch(()=>{o(KU)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&iT(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}Db(qU+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function uT(e,t,n,r=!1){const i=new QU(e);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Nh(e,t,n,r){var i;if(!((i=e._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await uT(e,t,n,n==="getOobCode");return r(e,s)}else return r(e,t).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await uT(e,t,n,n==="getOobCode");return r(e,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XU(e,t){const n=e_(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ph(s,t??{}))return i;Hn(i,"already-initialized")}return n.initialize({options:t})}function JU(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(xr);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function ZU(e,t,n){const r=Zi(e);te(r._canInitEmulator,r,"emulator-config-failed"),te(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=kb(t),{host:o,port:a}=e4(t),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||t4()}function kb(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function e4(e){const t=kb(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:cT(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:cT(o)}}}function cT(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function t4(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return kr("not implemented")}_getIdTokenResponse(t){return kr("not implemented")}_linkToIdToken(t,n){return kr("not implemented")}_getReauthenticationResolver(t){return kr("not implemented")}}async function n4(e,t){return ni(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r4(e,t){return oc(e,"POST","/v1/accounts:signInWithPassword",ti(e,t))}async function xb(e,t){return ni(e,"POST","/v1/accounts:sendOobCode",ti(e,t))}async function i4(e,t){return xb(e,t)}async function s4(e,t){return xb(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o4(e,t){return oc(e,"POST","/v1/accounts:signInWithEmailLink",ti(e,t))}async function a4(e,t){return oc(e,"POST","/v1/accounts:signInWithEmailLink",ti(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends aw{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new pu(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new pu(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nh(t,n,"signInWithPassword",r4);case"emailLink":return o4(t,{email:this._email,oobCode:this._password});default:Hn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nh(t,r,"signUpPassword",n4);case"emailLink":return a4(t,{idToken:n,email:this._email,oobCode:this._password});default:Hn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lo(e,t){return oc(e,"POST","/v1/accounts:signInWithIdp",ti(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4="http://localhost";class $s extends aw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new $s(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Hn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,s=nw(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new $s(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return Lo(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Lo(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Lo(t,n)}buildRequest(){const t={requestUri:l4,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Uu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function c4(e){const t=ol(al(e)).link,n=t?ol(al(t)).deep_link_id:null,r=ol(al(e)).deep_link_id;return(r?ol(al(r)).link:null)||r||n||t||e}class lw{constructor(t){var n,r,i,s,o,a;const l=ol(al(t)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=u4((i=l.mode)!==null&&i!==void 0?i:null);te(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(t){const n=c4(t);try{return new lw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(){this.providerId=Ta.PROVIDER_ID}static credential(t,n){return pu._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=lw.parseLink(n);return te(r,"argument-error"),pu._fromEmailAndCode(t,r.code,r.tenantId)}}Ta.PROVIDER_ID="password";Ta.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ta.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac extends Ob{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends ac{constructor(){super("facebook.com")}static credential(t){return $s._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return mi.credentialFromTaggedObject(t)}static credentialFromError(t){return mi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return mi.credential(t.oauthAccessToken)}catch{return null}}}mi.FACEBOOK_SIGN_IN_METHOD="facebook.com";mi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends ac{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return $s._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return gi.credentialFromTaggedObject(t)}static credentialFromError(t){return gi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return gi.credential(n,r)}catch{return null}}}gi.GOOGLE_SIGN_IN_METHOD="google.com";gi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends ac{constructor(){super("github.com")}static credential(t){return $s._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return vi.credentialFromTaggedObject(t)}static credentialFromError(t){return vi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return vi.credential(t.oauthAccessToken)}catch{return null}}}vi.GITHUB_SIGN_IN_METHOD="github.com";vi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends ac{constructor(){super("twitter.com")}static credential(t,n){return $s._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return yi.credentialFromTaggedObject(t)}static credentialFromError(t){return yi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return yi.credential(n,r)}catch{return null}}}yi.TWITTER_SIGN_IN_METHOD="twitter.com";yi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d4(e,t){return oc(e,"POST","/v1/accounts:signUp",ti(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const s=await Es._fromIdTokenResponse(t,r,i),o=dT(r);return new Ls({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=dT(r);return new Ls({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function dT(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh extends ei{constructor(t,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Mh.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new Mh(t,n,r,i)}}function Nb(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Mh._fromErrorAndOperation(e,s,t,r):s})}async function h4(e,t,n=!1){const r=await hu(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ls._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f4(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const s=await hu(e,Nb(r,i,t,e),n);te(s.idToken,r,"internal-error");const o=sw(s.idToken);te(o,r,"internal-error");const{sub:a}=o;return te(e.uid===a,r,"user-mismatch"),Ls._forOperation(e,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Hn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mb(e,t,n=!1){const r="signIn",i=await Nb(e,r,t),s=await Ls._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function p4(e,t){return Mb(Zi(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(e,t,n){var r;te(((r=n.url)===null||r===void 0?void 0:r.length)>0,e,"invalid-continue-uri"),te(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(te(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(te(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lb(e){const t=Zi(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Fb(e,t,n){const r=Zi(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&$b(r,i,n),await Nh(r,i,"getOobCode",s4)}async function m4(e,t,n){const r=Zi(e),o=await Nh(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",d4).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Lb(e),l}),a=await Ls._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function g4(e,t,n){return p4(lt(e),Ta.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Lb(e),r})}async function Vb(e,t){const n=lt(e),i={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&$b(n.auth,i,t);const{email:s}=await i4(n.auth,i);s!==e.email&&await e.reload()}function v4(e,t,n,r){return lt(e).onIdTokenChanged(t,n,r)}function y4(e,t,n){return lt(e).beforeAuthStateChanged(t,n)}function _4(e,t,n,r){return lt(e).onAuthStateChanged(t,n,r)}const $h="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($h,"1"),this.storage.removeItem($h),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w4(){const e=Ft();return ow(e)||np(e)}const E4=1e3,S4=10;class Ub extends jb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=w4()&&VU(),this.fallbackToPolling=Cb(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(t.newValue!==o)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);FU()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,S4):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},E4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Ub.type="LOCAL";const T4=Ub;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb extends jb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Bb.type="SESSION";const zb=Bb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I4(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new rp(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await I4(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=uw("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(){return window}function R4(e){hr().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(){return typeof hr().WorkerGlobalScope<"u"&&typeof hr().importScripts=="function"}async function P4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function C4(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function b4(){return Wb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="firebaseLocalStorageDb",D4=1,Lh="firebaseLocalStorage",Yb="fbase_key";class lc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ip(e,t){return e.transaction([Lh],t?"readwrite":"readonly").objectStore(Lh)}function k4(){const e=indexedDB.deleteDatabase(Hb);return new lc(e).toPromise()}function Pv(){const e=indexedDB.open(Hb,D4);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(Lh,{keyPath:Yb})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(Lh)?t(r):(r.close(),await k4(),t(await Pv()))})})}async function hT(e,t,n){const r=ip(e,!0).put({[Yb]:t,value:n});return new lc(r).toPromise()}async function x4(e,t){const n=ip(e,!1).get(t),r=await new lc(n).toPromise();return r===void 0?null:r.value}function fT(e,t){const n=ip(e,!0).delete(t);return new lc(n).toPromise()}const O4=800,N4=3;class qb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pv(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>N4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Wb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rp._getInstance(b4()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await P4(),!this.activeServiceWorker)return;this.sender=new A4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||C4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Pv();return await hT(t,$h,"1"),await fT(t,$h),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>hT(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>x4(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>fT(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=ip(i,!1).getAll();return new lc(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),O4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qb.type="LOCAL";const M4=qb;new sc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $4(e,t){return t?xr(t):(te(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw extends aw{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Lo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Lo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Lo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function L4(e){return Mb(e.auth,new cw(e),e.bypassAuthState)}function F4(e){const{auth:t,user:n}=e;return te(n,t,"internal-error"),f4(n,new cw(e),e.bypassAuthState)}async function V4(e){const{auth:t,user:n}=e;return te(n,t,"internal-error"),h4(n,new cw(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return L4;case"linkViaPopup":case"linkViaRedirect":return V4;case"reauthViaPopup":case"reauthViaRedirect":return F4;default:Hn(this.auth,"internal-error")}}resolve(t){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4=new sc(2e3,1e4);class Ao extends Gb{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ao.currentPopupAction&&Ao.currentPopupAction.cancel(),Ao.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return te(t,this.auth,"internal-error"),t}async onExecution(){Gr(this.filter.length===1,"Popup operations only handle one event");const t=uw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(dr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(dr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ao.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(dr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,j4.get())};t()}}Ao.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4="pendingRedirect",Pd=new Map;class B4 extends Gb{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Pd.get(this.auth._key());if(!t){try{const r=await z4(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Pd.set(this.auth._key(),t)}return this.bypassAuthState||Pd.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function z4(e,t){const n=Y4(t),r=H4(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function W4(e,t){Pd.set(e._key(),t)}function H4(e){return xr(e._redirectPersistence)}function Y4(e){return Rd(U4,e.config.apiKey,e.name)}async function q4(e,t,n=!1){const r=Zi(e),i=$4(r,t),o=await new B4(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4=10*60*1e3;class K4{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Q4(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!Kb(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(dr(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=G4&&this.cachedEventUids.clear(),this.cachedEventUids.has(pT(t))}saveEventToCache(t){this.cachedEventUids.add(pT(t)),this.lastProcessedEventTime=Date.now()}}function pT(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function Kb({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Q4(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Kb(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X4(e,t={}){return ni(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Z4=/^https?/;async function e3(e){if(e.config.emulator)return;const{authorizedDomains:t}=await X4(e);for(const n of t)try{if(t3(n))return}catch{}Hn(e,"unauthorized-domain")}function t3(e){const t=Rv(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Z4.test(n))return!1;if(J4.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3=new sc(3e4,6e4);function mT(){const e=hr().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function r3(e){return new Promise((t,n)=>{var r,i,s;function o(){mT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{mT(),n(dr(e,"network-request-failed"))},timeout:n3.get()})}if(!((i=(r=hr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((s=hr().gapi)===null||s===void 0)&&s.load)o();else{const a=YU("iframefcb");return hr()[a]=()=>{gapi.load?o():n(dr(e,"network-request-failed"))},Db(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw Cd=null,t})}let Cd=null;function i3(e){return Cd=Cd||r3(e),Cd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3=new sc(5e3,15e3),o3="__/auth/iframe",a3="emulator/auth/iframe",l3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},u3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function c3(e){const t=e.config;te(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?iw(t,a3):`https://${e.config.authDomain}/${o3}`,r={apiKey:t.apiKey,appName:e.name,v:ga},i=u3.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Uu(r).slice(1)}`}async function d3(e){const t=await i3(e),n=hr().gapi;return te(n,e,"internal-error"),t.open({where:document.body,url:c3(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:l3,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=dr(e,"network-request-failed"),a=hr().setTimeout(()=>{s(o)},s3.get());function l(){hr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},f3=500,p3=600,m3="_blank",g3="http://localhost";class gT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function v3(e,t,n,r=f3,i=p3){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},h3),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Ft().toLowerCase();n&&(a=Tb(u)?m3:n),Sb(u)&&(t=t||g3,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[f,m])=>`${h}${f}=${m},`,"");if(LU(u)&&a!=="_self")return y3(t||"",a),new gT(null);const d=window.open(t||"",a,c);te(d,e,"popup-blocked");try{d.focus()}catch{}return new gT(d)}function y3(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3="__/auth/handler",w3="emulator/auth/handler",E3=encodeURIComponent("fac");async function vT(e,t,n,r,i,s){te(e.config.authDomain,e,"auth-domain-config-required"),te(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ga,eventId:i};if(t instanceof Ob){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",q$(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(t instanceof ac){const c=t.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await e._getAppCheckToken(),u=l?`#${E3}=${encodeURIComponent(l)}`:"";return`${S3(e)}?${Uu(a).slice(1)}${u}`}function S3({config:e}){return e.emulator?iw(e,w3):`https://${e.authDomain}/${_3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="webStorageSupport";class T3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zb,this._completeRedirectFn=q4,this._overrideRedirectResult=W4}async _openPopup(t,n,r,i){var s;Gr((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await vT(t,n,r,Rv(),i);return v3(t,o,uw())}async _openRedirect(t,n,r,i){await this._originValidation(t);const s=await vT(t,n,r,Rv(),i);return R4(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Gr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await d3(t),r=new K4(t);return n.register("authEvent",i=>(te(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Nm,{type:Nm},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Nm];o!==void 0&&n(!!o),Hn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=e3(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Cb()||ow()||np()}}const I3=T3;var yT="@firebase/auth",_T="1.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R3(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function P3(e){Go(new ks("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;te(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bb(e)},u=new WU(r,i,s,l);return JU(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Go(new ks("auth-internal",t=>{const n=Zi(t.getProvider("auth").getImmediate());return(r=>new A3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$i(yT,_T,R3(e)),$i(yT,_T,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3=5*60,b3=zR("authIdTokenMaxAge")||C3;let wT=null;const D3=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>b3)return;const i=n==null?void 0:n.token;wT!==i&&(wT=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Ss(e=qR()){const t=e_(e,"auth");if(t.isInitialized())return t.getImmediate();const n=XU(e,{popupRedirectResolver:I3,persistence:[M4,T4,zb]}),r=zR("authTokenSyncURL");if(r){const s=D3(r);y4(n,s,()=>s(n.currentUser)),v4(n,o=>s(o))}const i=UR("auth");return i&&ZU(n,`http://${i}`),n}P3("Browser");const k3={apiKey:"AIzaSyBdBh6oBgnUZJ6dROPNOp5Wwxyvrr8epLQ",authDomain:"mcgardens-bd0b1.firebaseapp.com",databaseURL:"https://mcgardens-bd0b1-default-rtdb.firebaseio.com/",projectId:"mcgardens-bd0b1",storageBucket:"mcgardens-bd0b1.appspot.com",messagingSenderId:"102086093090",appId:"1:102086093090:web:f8c4183ccf4594d6eedd7b",measurementId:"G-G642QLL9KX"};YR(k3);const Kn=Gj(),dw=Ss(),x3=async(e,t)=>{const n=Ss(),r=await g4(n,e,t);if(!r.user.emailVerified)throw new Error("Please verify your email before signing in.");return r},O3=async e=>{try{return await Fb(dw,e),console.log("Password reset email sent successfully."),{success:!0,message:"Password reset email sent successfully."}}catch(t){return console.error("Error sending password reset email:",t),{success:!1,message:t.message}}},N3=async(e,t)=>{const n=Ss(),r=await m4(n,e,t);return await Vb(r.user),console.log("Verification email sent."),r},M3=async e=>{const n=Ss().currentUser;return n&&!n.emailVerified?(await Vb(n),{success:!0,message:"Verification email sent successfully."}):{success:!1,message:"User not found or already verified."}},$3=async()=>{const e=ic(Kn,"threads");try{const n=(await db(e)).docs.map(r=>({...r.data(),id:r.id}));return n.sort((r,i)=>new Date(i.created_on)-new Date(r.created_on)),n.replies&&n.replies.sort((r,i)=>new Date(r.created_on)-new Date(i.created_on)),console.log("Threads from firebase: ",n),n}catch(t){throw console.error("Error fetching threads:",t),t}},L3=e=>{const t=ic(Kn,"threads"),n=fU(t,async r=>{const i=r.docs.map(s=>({...s.data(),id:s.id}));i.sort((s,o)=>new Date(o.created_on)-new Date(s.created_on)),i.replies&&i.replies.sort((s,o)=>new Date(s.created_on)-new Date(o.created_on)),e({threads:i})});return()=>{n()}},F3=async e=>{const t=ic(Kn,"threads");try{await hb(t,e),console.log("Thread added successfully:",e)}catch(n){throw console.error("Error adding thread:",n),n}},V3=async e=>{try{const t=Zs(Kn,"threads",e.threadId);await tw(t,{replies:pb(e)}),console.log("Thread updated with new reply.")}catch(t){throw console.error("Error adding reply:",t),t}},Qb=async e=>{const t=ic(Kn,"calendar"),n=oU(t,aU("user","==",e));try{const i=(await db(n)).docs.map(s=>{const o=s.data(),a=o.startDate.toDate(),l=o.endDate.toDate(),u=a.toISOString().slice(0,16),c=l.toISOString().slice(0,16),d=o.comments||[];return{...o,startDate:u,endDate:c,comments:d,docID:s.id}});return console.log("from back: ",i),i}catch(r){throw console.error("Error fetching events",r),r}},j3=async(e,t)=>{try{const n=Zs(Kn,"calendar",e);await tw(n,{comments:pb(t)}),console.log("Comment added successfully!")}catch(n){throw console.error("Error adding comment:",n),n}},U3=async e=>{try{const t=Zs(Kn,"calendar",e);await hU(t),console.log("Event deleted successfully:",e)}catch(t){throw console.error("Error deleting event:",t),t}},B3=async(e,t)=>{try{const n=Zs(Kn,"calendar",e),r=new Date(t.startDate),i=new Date(t.endDate);console.log("uE:",r),console.log("uE:",i);const s={user:t.user,title:t.title,startDate:We.fromDate(r),endDate:We.fromDate(i),comments:t.comments};await tw(n,s),console.log("Event updated in firebase")}catch(n){console.error("Error updating event in firebase",n)}},z3=async({username:e,title:t,start:n,end:r})=>{if(console.log("params passed:",e,t,n,r),!e||!t||!n||!r)throw new Error("Missing required parameters");const i=ic(Kn,"calendar"),s={user:e,title:t,startDate:We.fromDate(n),endDate:We.fromDate(r),comments:[]};try{const o=await hb(i,s);return console.log("Event added successfully:",s),console.log("Event has docId:",o.id),o.id}catch(o){throw console.error("Error adding event:",o),o}},Fh=()=>{const e=dw.currentUser;return e?e.email.split("@")[0]:null},W3=async e=>{const t=Zs(Kn,"users",e),n=await cU(t);return n.exists()?n.data().receiveEmails:!0},H3=async(e,t)=>{const n=Zs(Kn,"users",e);try{return await dU(n,{receiveEmails:t},{merge:!0}),t}catch(r){throw console.error("Error updating email preference:",r),r}},Y3=()=>{const[e,t]=A.useState([]),[n,r]=A.useState(!1),[i,s]=A.useState(""),[o,a]=A.useState(""),[l,u]=A.useState(""),[c,d]=A.useState("");A.useEffect(()=>{(async()=>{try{const v=await $3();t(v);const w=await Fh();console.log("Current User:",w),d(w)}catch(v){console.error("Error fetching data:",v)}})();const g=L3(({threads:v})=>{console.log("Listening..."),v&&t(v)});return()=>{g()}},[]);const h=()=>{r(!0)},f=async y=>{y.preventDefault();const g=new Date,v={id:BE(),title:i,text:o,author:c,created_on:g.toLocaleString()};try{await F3(v),console.log("New Thread added successfully:",v)}catch(w){console.error("Error adding thread:",w)}s(""),a(""),r(!1)},m=async(y,g)=>{y.preventDefault();const v=new Date,w={id:BE(),threadId:g.id,title:"RE:"+g.title,text:l,author:c,created_on:v.toLocaleString()};try{await V3(w),console.log("Reply successfully added to DB:",w),u("")}catch(E){console.error("Error adding reply:",E)}},p=()=>{s(""),a(""),r(!1)};return _.jsxs(_.Fragment,{children:[_.jsx("div",{className:"top-nav",children:_.jsx(Zr,{})}),_.jsxs("main",{className:"home",children:[!n&&_.jsx("button",{className:"create-thread-btn",onClick:h,children:"CREATE THREAD"}),n&&_.jsxs("form",{className:"create-thread-form",onSubmit:f,children:[_.jsx("h2",{className:"create-thread-header",children:"Create a Thread"}),_.jsxs("div",{className:"create-thread-container",children:[_.jsxs("div",{className:"create-thread-title-container",children:[_.jsx("label",{className:"create-thread-title-label",htmlFor:"threadTitle",children:"Title"}),_.jsx("input",{className:"create-thread-title-input",type:"text",id:"threadTitle",name:"threadTitle",required:!0,value:i,onChange:y=>s(y.target.value)})]}),_.jsxs("div",{className:"create-thread-text-container",children:[_.jsx("label",{className:"create-thread-text-label",htmlFor:"threadText",children:"Text"}),_.jsx("input",{className:"create-thread-text-input",type:"text",id:"threadText",name:"threadText",required:!0,value:o,onChange:y=>a(y.target.value)})]})]}),_.jsxs("div",{className:"create-thread-btn-container",children:[_.jsx("button",{className:"submit-btn",children:"SUBMIT THREAD"}),_.jsx("button",{className:"cancel-btn",onClick:p,children:"CANCEL POST"})]})]}),_.jsxs("div",{className:"thread-flex-container",children:[_.jsx("h2",{className:"home-title",children:"Check out these posts!"}),e.length===0?_.jsx("p",{className:"no-threads-text",children:"NO THREADS HAVE BEEN POSTED, BE THE FIRST!"}):e.map(y=>_.jsxs("div",{className:"thread-container",children:[_.jsxs("div",{className:"thread-contents",children:[_.jsxs("div",{className:"thread-info",children:[_.jsx("p",{className:"thread-title",children:y.title}),_.jsxs("div",{className:"post-details",children:[_.jsx("p",{className:"thread-author",children:y.author}),_.jsx("div",{className:"thread-date",children:_.jsxs("p",{className:"date",children:["Created On: ",y.created_on]})})]})]}),_.jsx("div",{className:"thread-text-container",children:_.jsx("p",{className:"thread-text",children:y.text})})]}),_.jsxs("div",{className:"replies-container",children:[_.jsx("div",{className:"reply-count",children:_.jsxs("p",{className:"reply-count-text",children:["Replies: ",y.replies?y.replies.length:0]})}),y.replies&&y.replies.length>0?y.replies.map(g=>_.jsx("div",{className:"reply-container",children:_.jsxs("div",{className:"reply-contents",children:[_.jsxs("div",{className:"reply-info",children:[_.jsx("p",{className:"reply-title",children:g.title}),_.jsxs("div",{className:"post-details",children:[_.jsx("p",{className:"reply-author",children:g.author}),_.jsx("div",{className:"reply-date",children:_.jsxs("p",{className:"date",children:["Created On: ",g.created_on]})})]})]}),_.jsx("div",{className:"reply-text-container",children:_.jsx("p",{className:"reply-text",children:g.text})})]})},g.id)):_.jsx("p",{className:"no-replies-text",children:"NO REPLIES YET! BE THE FIRST!"}),_.jsxs("form",{className:"create-reply-form",onSubmit:g=>m(g,y),children:[_.jsx("h2",{className:"create-reply-header",children:"Create a Reply"}),_.jsx("div",{className:"create-reply-container",children:_.jsxs("div",{className:"create-thread-text-container",children:[_.jsx("label",{className:"create-reply-text-label",htmlFor:`replyText-${y.id}`,children:"Text"}),_.jsx("input",{className:"create-reply-text-input",type:"text",id:`replyText-${y.id}`,name:"replyText",required:!0,value:l,onChange:g=>u(g.target.value)})]})}),_.jsx("button",{className:"submit-btn",children:"SUBMIT REPLY"})]})]})]},y.id))]})]})]})};function Xb(e,t){return function(){return e.apply(t,arguments)}}const{toString:q3}=Object.prototype,{getPrototypeOf:hw}=Object,sp=(e=>t=>{const n=q3.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),yr=e=>(e=e.toLowerCase(),t=>sp(t)===e),op=e=>t=>typeof t===e,{isArray:Ia}=Array,mu=op("undefined");function G3(e){return e!==null&&!mu(e)&&e.constructor!==null&&!mu(e.constructor)&&An(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Jb=yr("ArrayBuffer");function K3(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Jb(e.buffer),t}const Q3=op("string"),An=op("function"),Zb=op("number"),ap=e=>e!==null&&typeof e=="object",X3=e=>e===!0||e===!1,bd=e=>{if(sp(e)!=="object")return!1;const t=hw(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},J3=yr("Date"),Z3=yr("File"),eB=yr("Blob"),tB=yr("FileList"),nB=e=>ap(e)&&An(e.pipe),rB=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||An(e.append)&&((t=sp(e))==="formdata"||t==="object"&&An(e.toString)&&e.toString()==="[object FormData]"))},iB=yr("URLSearchParams"),sB=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function uc(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),Ia(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const s=n?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let a;for(r=0;r<o;r++)a=s[r],t.call(null,e[a],a,e)}}function eD(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const tD=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,nD=e=>!mu(e)&&e!==tD;function Cv(){const{caseless:e}=nD(this)&&this||{},t={},n=(r,i)=>{const s=e&&eD(t,i)||i;bd(t[s])&&bd(r)?t[s]=Cv(t[s],r):bd(r)?t[s]=Cv({},r):Ia(r)?t[s]=r.slice():t[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&uc(arguments[r],n);return t}const oB=(e,t,n,{allOwnKeys:r}={})=>(uc(t,(i,s)=>{n&&An(i)?e[s]=Xb(i,n):e[s]=i},{allOwnKeys:r}),e),aB=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),lB=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},uB=(e,t,n,r)=>{let i,s,o;const a={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)o=i[s],(!r||r(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=n!==!1&&hw(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},cB=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},dB=e=>{if(!e)return null;if(Ia(e))return e;let t=e.length;if(!Zb(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},hB=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&hw(Uint8Array)),fB=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=r.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},pB=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},mB=yr("HTMLFormElement"),gB=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),ET=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),vB=yr("RegExp"),rD=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};uc(n,(i,s)=>{let o;(o=t(i,s,e))!==!1&&(r[s]=o||i)}),Object.defineProperties(e,r)},yB=e=>{rD(e,(t,n)=>{if(An(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(An(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},_B=(e,t)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Ia(e)?r(e):r(String(e).split(t)),n},wB=()=>{},EB=(e,t)=>(e=+e,Number.isFinite(e)?e:t),Mm="abcdefghijklmnopqrstuvwxyz",ST="0123456789",iD={DIGIT:ST,ALPHA:Mm,ALPHA_DIGIT:Mm+Mm.toUpperCase()+ST},SB=(e=16,t=iD.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function TB(e){return!!(e&&An(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const IB=e=>{const t=new Array(10),n=(r,i)=>{if(ap(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[i]=r;const s=Ia(r)?[]:{};return uc(r,(o,a)=>{const l=n(o,i+1);!mu(l)&&(s[a]=l)}),t[i]=void 0,s}}return r};return n(e,0)},AB=yr("AsyncFunction"),RB=e=>e&&(ap(e)||An(e))&&An(e.then)&&An(e.catch),D={isArray:Ia,isArrayBuffer:Jb,isBuffer:G3,isFormData:rB,isArrayBufferView:K3,isString:Q3,isNumber:Zb,isBoolean:X3,isObject:ap,isPlainObject:bd,isUndefined:mu,isDate:J3,isFile:Z3,isBlob:eB,isRegExp:vB,isFunction:An,isStream:nB,isURLSearchParams:iB,isTypedArray:hB,isFileList:tB,forEach:uc,merge:Cv,extend:oB,trim:sB,stripBOM:aB,inherits:lB,toFlatObject:uB,kindOf:sp,kindOfTest:yr,endsWith:cB,toArray:dB,forEachEntry:fB,matchAll:pB,isHTMLForm:mB,hasOwnProperty:ET,hasOwnProp:ET,reduceDescriptors:rD,freezeMethods:yB,toObjectSet:_B,toCamelCase:gB,noop:wB,toFiniteNumber:EB,findKey:eD,global:tD,isContextDefined:nD,ALPHABET:iD,generateString:SB,isSpecCompliantForm:TB,toJSONObject:IB,isAsyncFn:AB,isThenable:RB};function me(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}D.inherits(me,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:D.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const sD=me.prototype,oD={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{oD[e]={value:e}});Object.defineProperties(me,oD);Object.defineProperty(sD,"isAxiosError",{value:!0});me.from=(e,t,n,r,i,s)=>{const o=Object.create(sD);return D.toFlatObject(e,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),me.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};const PB=null;function bv(e){return D.isPlainObject(e)||D.isArray(e)}function aD(e){return D.endsWith(e,"[]")?e.slice(0,-2):e}function TT(e,t,n){return e?e.concat(t).map(function(i,s){return i=aD(i),!n&&s?"["+i+"]":i}).join(n?".":""):t}function CB(e){return D.isArray(e)&&!e.some(bv)}const bB=D.toFlatObject(D,{},null,function(t){return/^is[A-Z]/.test(t)});function lp(e,t,n){if(!D.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=D.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,y){return!D.isUndefined(y[p])});const r=n.metaTokens,i=n.visitor||c,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&D.isSpecCompliantForm(t);if(!D.isFunction(i))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(D.isDate(m))return m.toISOString();if(!l&&D.isBlob(m))throw new me("Blob is not supported. Use a Buffer instead.");return D.isArrayBuffer(m)||D.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function c(m,p,y){let g=m;if(m&&!y&&typeof m=="object"){if(D.endsWith(p,"{}"))p=r?p:p.slice(0,-2),m=JSON.stringify(m);else if(D.isArray(m)&&CB(m)||(D.isFileList(m)||D.endsWith(p,"[]"))&&(g=D.toArray(m)))return p=aD(p),g.forEach(function(w,E){!(D.isUndefined(w)||w===null)&&t.append(o===!0?TT([p],E,s):o===null?p:p+"[]",u(w))}),!1}return bv(m)?!0:(t.append(TT(y,p,s),u(m)),!1)}const d=[],h=Object.assign(bB,{defaultVisitor:c,convertValue:u,isVisitable:bv});function f(m,p){if(!D.isUndefined(m)){if(d.indexOf(m)!==-1)throw Error("Circular reference detected in "+p.join("."));d.push(m),D.forEach(m,function(g,v){(!(D.isUndefined(g)||g===null)&&i.call(t,g,D.isString(v)?v.trim():v,p,h))===!0&&f(g,p?p.concat(v):[v])}),d.pop()}}if(!D.isObject(e))throw new TypeError("data must be an object");return f(e),t}function IT(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function fw(e,t){this._pairs=[],e&&lp(e,this,t)}const lD=fw.prototype;lD.append=function(t,n){this._pairs.push([t,n])};lD.toString=function(t){const n=t?function(r){return t.call(this,r,IT)}:IT;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function DB(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function uD(e,t,n){if(!t)return e;const r=n&&n.encode||DB,i=n&&n.serialize;let s;if(i?s=i(t,n):s=D.isURLSearchParams(t)?t.toString():new fw(t,n).toString(r),s){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class AT{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){D.forEach(this.handlers,function(r){r!==null&&t(r)})}}const cD={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},kB=typeof URLSearchParams<"u"?URLSearchParams:fw,xB=typeof FormData<"u"?FormData:null,OB=typeof Blob<"u"?Blob:null,NB={isBrowser:!0,classes:{URLSearchParams:kB,FormData:xB,Blob:OB},protocols:["http","https","file","blob","url","data"]},dD=typeof window<"u"&&typeof document<"u",MB=(e=>dD&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),$B=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",LB=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:dD,hasStandardBrowserEnv:MB,hasStandardBrowserWebWorkerEnv:$B},Symbol.toStringTag,{value:"Module"})),or={...LB,...NB};function FB(e,t){return lp(e,new or.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return or.isNode&&D.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function VB(e){return D.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function jB(e){const t={},n=Object.keys(e);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],t[s]=e[s];return t}function hD(e){function t(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&D.isArray(i)?i.length:o,l?(D.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!D.isObject(i[o]))&&(i[o]=[]),t(n,r,i[o],s)&&D.isArray(i[o])&&(i[o]=jB(i[o])),!a)}if(D.isFormData(e)&&D.isFunction(e.entries)){const n={};return D.forEachEntry(e,(r,i)=>{t(VB(r),i,n,0)}),n}return null}function UB(e,t,n){if(D.isString(e))try{return(t||JSON.parse)(e),D.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const pw={transitional:cD,adapter:["xhr","http"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=D.isObject(t);if(s&&D.isHTMLForm(t)&&(t=new FormData(t)),D.isFormData(t))return i?JSON.stringify(hD(t)):t;if(D.isArrayBuffer(t)||D.isBuffer(t)||D.isStream(t)||D.isFile(t)||D.isBlob(t))return t;if(D.isArrayBufferView(t))return t.buffer;if(D.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return FB(t,this.formSerializer).toString();if((a=D.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return lp(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),UB(t)):t}],transformResponse:[function(t){const n=this.transitional||pw.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(t&&D.isString(t)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?me.from(a,me.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:or.classes.FormData,Blob:or.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};D.forEach(["delete","get","head","post","put","patch"],e=>{pw.headers[e]={}});const mw=pw,BB=D.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),zB=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||t[n]&&BB[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},RT=Symbol("internals");function Qa(e){return e&&String(e).trim().toLowerCase()}function Dd(e){return e===!1||e==null?e:D.isArray(e)?e.map(Dd):String(e)}function WB(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const HB=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function $m(e,t,n,r,i){if(D.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!D.isString(t)){if(D.isString(r))return t.indexOf(r)!==-1;if(D.isRegExp(r))return r.test(t)}}function YB(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function qB(e,t){const n=D.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,s,o){return this[r].call(this,t,i,s,o)},configurable:!0})})}class up{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function s(a,l,u){const c=Qa(l);if(!c)throw new Error("header name must be a non-empty string");const d=D.findKey(i,c);(!d||i[d]===void 0||u===!0||u===void 0&&i[d]!==!1)&&(i[d||l]=Dd(a))}const o=(a,l)=>D.forEach(a,(u,c)=>s(u,c,l));return D.isPlainObject(t)||t instanceof this.constructor?o(t,n):D.isString(t)&&(t=t.trim())&&!HB(t)?o(zB(t),n):t!=null&&s(n,t,r),this}get(t,n){if(t=Qa(t),t){const r=D.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return WB(i);if(D.isFunction(n))return n.call(this,i,r);if(D.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Qa(t),t){const r=D.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||$m(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function s(o){if(o=Qa(o),o){const a=D.findKey(r,o);a&&(!n||$m(r,r[a],a,n))&&(delete r[a],i=!0)}}return D.isArray(t)?t.forEach(s):s(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!t||$m(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const n=this,r={};return D.forEach(this,(i,s)=>{const o=D.findKey(r,s);if(o){n[o]=Dd(i),delete n[s];return}const a=t?YB(s):String(s).trim();a!==s&&delete n[s],n[a]=Dd(i),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return D.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&D.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[RT]=this[RT]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Qa(o);r[a]||(qB(i,o),r[a]=!0)}return D.isArray(t)?t.forEach(s):s(t),this}}up.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);D.reduceDescriptors(up.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});D.freezeMethods(up);const Lr=up;function Lm(e,t){const n=this||mw,r=t||n,i=Lr.from(r.headers);let s=r.data;return D.forEach(e,function(a){s=a.call(n,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function fD(e){return!!(e&&e.__CANCEL__)}function cc(e,t,n){me.call(this,e??"canceled",me.ERR_CANCELED,t,n),this.name="CanceledError"}D.inherits(cc,me,{__CANCEL__:!0});function GB(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new me("Request failed with status code "+n.status,[me.ERR_BAD_REQUEST,me.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const KB=or.hasStandardBrowserEnv?{write(e,t,n,r,i,s){const o=[e+"="+encodeURIComponent(t)];D.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),D.isString(r)&&o.push("path="+r),D.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function QB(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function XB(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function pD(e,t){return e&&!QB(t)?XB(e,t):t}const JB=or.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return t&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=D.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function ZB(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function ez(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,s=0,o;return t=t!==void 0?t:1e3,function(l){const u=Date.now(),c=r[s];o||(o=u),n[i]=l,r[i]=u;let d=s,h=0;for(;d!==i;)h+=n[d++],d=d%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),u-o<t)return;const f=c&&u-c;return f?Math.round(h*1e3/f):void 0}}function PT(e,t){let n=0;const r=ez(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-n,l=r(a),u=s<=o;n=s;const c={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&u?(o-s)/l:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}const tz=typeof XMLHttpRequest<"u",nz=tz&&function(e){return new Promise(function(n,r){let i=e.data;const s=Lr.from(e.headers).normalize();let{responseType:o,withXSRFToken:a}=e,l;function u(){e.cancelToken&&e.cancelToken.unsubscribe(l),e.signal&&e.signal.removeEventListener("abort",l)}let c;if(D.isFormData(i)){if(or.hasStandardBrowserEnv||or.hasStandardBrowserWebWorkerEnv)s.setContentType(!1);else if((c=s.getContentType())!==!1){const[p,...y]=c?c.split(";").map(g=>g.trim()).filter(Boolean):[];s.setContentType([p||"multipart/form-data",...y].join("; "))}}let d=new XMLHttpRequest;if(e.auth){const p=e.auth.username||"",y=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";s.set("Authorization","Basic "+btoa(p+":"+y))}const h=pD(e.baseURL,e.url);d.open(e.method.toUpperCase(),uD(h,e.params,e.paramsSerializer),!0),d.timeout=e.timeout;function f(){if(!d)return;const p=Lr.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders()),g={data:!o||o==="text"||o==="json"?d.responseText:d.response,status:d.status,statusText:d.statusText,headers:p,config:e,request:d};GB(function(w){n(w),u()},function(w){r(w),u()},g),d=null}if("onloadend"in d?d.onloadend=f:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(f)},d.onabort=function(){d&&(r(new me("Request aborted",me.ECONNABORTED,e,d)),d=null)},d.onerror=function(){r(new me("Network Error",me.ERR_NETWORK,e,d)),d=null},d.ontimeout=function(){let y=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const g=e.transitional||cD;e.timeoutErrorMessage&&(y=e.timeoutErrorMessage),r(new me(y,g.clarifyTimeoutError?me.ETIMEDOUT:me.ECONNABORTED,e,d)),d=null},or.hasStandardBrowserEnv&&(a&&D.isFunction(a)&&(a=a(e)),a||a!==!1&&JB(h))){const p=e.xsrfHeaderName&&e.xsrfCookieName&&KB.read(e.xsrfCookieName);p&&s.set(e.xsrfHeaderName,p)}i===void 0&&s.setContentType(null),"setRequestHeader"in d&&D.forEach(s.toJSON(),function(y,g){d.setRequestHeader(g,y)}),D.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),o&&o!=="json"&&(d.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&d.addEventListener("progress",PT(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",PT(e.onUploadProgress)),(e.cancelToken||e.signal)&&(l=p=>{d&&(r(!p||p.type?new cc(null,e,d):p),d.abort(),d=null)},e.cancelToken&&e.cancelToken.subscribe(l),e.signal&&(e.signal.aborted?l():e.signal.addEventListener("abort",l)));const m=ZB(h);if(m&&or.protocols.indexOf(m)===-1){r(new me("Unsupported protocol "+m+":",me.ERR_BAD_REQUEST,e));return}d.send(i||null)})},Dv={http:PB,xhr:nz};D.forEach(Dv,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const CT=e=>`- ${e}`,rz=e=>D.isFunction(e)||e===null||e===!1,mD={getAdapter:e=>{e=D.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let s=0;s<t;s++){n=e[s];let o;if(r=n,!rz(n)&&(r=Dv[(o=String(n)).toLowerCase()],r===void 0))throw new me(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?s.length>1?`since :
`+s.map(CT).join(`
`):" "+CT(s[0]):"as no adapter specified";throw new me("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Dv};function Fm(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new cc(null,e)}function bT(e){return Fm(e),e.headers=Lr.from(e.headers),e.data=Lm.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),mD.getAdapter(e.adapter||mw.adapter)(e).then(function(r){return Fm(e),r.data=Lm.call(e,e.transformResponse,r),r.headers=Lr.from(r.headers),r},function(r){return fD(r)||(Fm(e),r&&r.response&&(r.response.data=Lm.call(e,e.transformResponse,r.response),r.response.headers=Lr.from(r.response.headers))),Promise.reject(r)})}const DT=e=>e instanceof Lr?{...e}:e;function ia(e,t){t=t||{};const n={};function r(u,c,d){return D.isPlainObject(u)&&D.isPlainObject(c)?D.merge.call({caseless:d},u,c):D.isPlainObject(c)?D.merge({},c):D.isArray(c)?c.slice():c}function i(u,c,d){if(D.isUndefined(c)){if(!D.isUndefined(u))return r(void 0,u,d)}else return r(u,c,d)}function s(u,c){if(!D.isUndefined(c))return r(void 0,c)}function o(u,c){if(D.isUndefined(c)){if(!D.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function a(u,c,d){if(d in t)return r(u,c);if(d in e)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c)=>i(DT(u),DT(c),!0)};return D.forEach(Object.keys(Object.assign({},e,t)),function(c){const d=l[c]||i,h=d(e[c],t[c],c);D.isUndefined(h)&&d!==a||(n[c]=h)}),n}const gD="1.6.8",gw={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{gw[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const kT={};gw.transitional=function(t,n,r){function i(s,o){return"[Axios v"+gD+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(t===!1)throw new me(i(o," has been removed"+(n?" in "+n:"")),me.ERR_DEPRECATED);return n&&!kT[o]&&(kT[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(s,o,a):!0}};function iz(e,t,n){if(typeof e!="object")throw new me("options must be an object",me.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],o=t[s];if(o){const a=e[s],l=a===void 0||o(a,s,e);if(l!==!0)throw new me("option "+s+" must be "+l,me.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new me("Unknown option "+s,me.ERR_BAD_OPTION)}}const kv={assertOptions:iz,validators:gw},li=kv.validators;class Vh{constructor(t){this.defaults=t,this.interceptors={request:new AT,response:new AT}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=ia(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&kv.assertOptions(r,{silentJSONParsing:li.transitional(li.boolean),forcedJSONParsing:li.transitional(li.boolean),clarifyTimeoutError:li.transitional(li.boolean)},!1),i!=null&&(D.isFunction(i)?n.paramsSerializer={serialize:i}:kv.assertOptions(i,{encode:li.function,serialize:li.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&D.merge(s.common,s[n.method]);s&&D.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),n.headers=Lr.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(n)===!1||(l=l&&p.synchronous,a.unshift(p.fulfilled,p.rejected))});const u=[];this.interceptors.response.forEach(function(p){u.push(p.fulfilled,p.rejected)});let c,d=0,h;if(!l){const m=[bT.bind(this),void 0];for(m.unshift.apply(m,a),m.push.apply(m,u),h=m.length,c=Promise.resolve(n);d<h;)c=c.then(m[d++],m[d++]);return c}h=a.length;let f=n;for(d=0;d<h;){const m=a[d++],p=a[d++];try{f=m(f)}catch(y){p.call(this,y);break}}try{c=bT.call(this,f)}catch(m){return Promise.reject(m)}for(d=0,h=u.length;d<h;)c=c.then(u[d++],u[d++]);return c}getUri(t){t=ia(this.defaults,t);const n=pD(t.baseURL,t.url);return uD(n,t.params,t.paramsSerializer)}}D.forEach(["delete","get","head","options"],function(t){Vh.prototype[t]=function(n,r){return this.request(ia(r||{},{method:t,url:n,data:(r||{}).data}))}});D.forEach(["post","put","patch"],function(t){function n(r){return function(s,o,a){return this.request(ia(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Vh.prototype[t]=n(),Vh.prototype[t+"Form"]=n(!0)});const kd=Vh;class vw{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},t(function(s,o,a){r.reason||(r.reason=new cc(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new vw(function(i){t=i}),cancel:t}}}const sz=vw;function oz(e){return function(n){return e.apply(null,n)}}function az(e){return D.isObject(e)&&e.isAxiosError===!0}const xv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(xv).forEach(([e,t])=>{xv[t]=e});const lz=xv;function vD(e){const t=new kd(e),n=Xb(kd.prototype.request,t);return D.extend(n,kd.prototype,t,{allOwnKeys:!0}),D.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return vD(ia(e,i))},n}const Qe=vD(mw);Qe.Axios=kd;Qe.CanceledError=cc;Qe.CancelToken=sz;Qe.isCancel=fD;Qe.VERSION=gD;Qe.toFormData=lp;Qe.AxiosError=me;Qe.Cancel=Qe.CanceledError;Qe.all=function(t){return Promise.all(t)};Qe.spread=oz;Qe.isAxiosError=az;Qe.mergeConfig=ia;Qe.AxiosHeaders=Lr;Qe.formToJSON=e=>hD(D.isHTMLForm(e)?new FormData(e):e);Qe.getAdapter=mD.getAdapter;Qe.HttpStatusCode=lz;Qe.default=Qe;const uz=()=>{const[e,t]=A.useState(""),[n,r]=A.useState([]),[i,s]=A.useState(!1),[o,a]=A.useState(""),l=ma(),u=h=>{t(h.target.value)},c=h=>{h.preventDefault(),s(!0),Qe.post("https://us-central1-mcgardens-bd0b1.cloudfunctions.net/askOptimalCrops/askOptimalCrops",{location:e}).then(f=>{if(s(!1),f.data&&f.data.crops){const m=f.data.crops.split(`
`).map(p=>p.trim());r(m.filter(p=>p!=="")),a(e),t("")}else r([]),console.error("No crops data found in response:",f.data)}).catch(f=>{console.error("Failed to fetch optimal plants:",f),s(!1),r([]),t("")})},d=h=>{const f=h.substring(h.indexOf(" ")+1);l(`/plant-details?query=${encodeURIComponent(f)}`)};return _.jsxs("div",{children:[_.jsx("div",{className:"top-nav",children:_.jsx(Zr,{})}),_.jsxs("div",{className:"optimal-plants-container",children:[_.jsxs("div",{className:"search-bar-container",children:[_.jsx("h2",{children:"Find Optimal Plants For Your Garden"}),_.jsx("form",{onSubmit:c,children:_.jsxs("div",{className:"search-bar-parameters-container",children:[_.jsx("label",{htmlFor:"locationInput",className:"enter-location",children:"Enter your location:"}),_.jsx("input",{type:"text",className:"location-input",id:"locationInput",value:e,onChange:u,placeholder:"E.g., Riverdale, Bronx, NY",required:!0}),_.jsx("button",{type:"submit",className:"search-location",children:"Search"})]})})]}),i?_.jsx("p",{className:"enter-location-text",children:"Generating Information..."}):n.length>0?_.jsxs(_.Fragment,{children:[_.jsxs("h2",{children:["Optimal plants for ",o,":"]}),_.jsxs("div",{className:"optimal-plants-list-container",children:[_.jsx("div",{className:"column",children:n.slice(0,10).map((h,f)=>_.jsx("div",{className:"plant-entry",onClick:()=>d(h),children:h},f))}),_.jsx("div",{className:"column",children:n.slice(10,20).map((h,f)=>_.jsx("div",{className:"plant-entry",onClick:()=>d(h),children:h},f))})]})]}):_.jsx("p",{className:"enter-location-text",children:"Enter location above to get list of plants."})]})]})},cz=()=>{const[e,t]=A.useState(null);return A.useEffect(()=>{const n=async()=>{try{const{geolocation:s}=navigator;if(!s){alert("Geolocation is not supported by your browser");return}const o=await new Promise((u,c)=>{s.getCurrentPosition(u,c)});console.log(o);const{latitude:a,longitude:l}=o.coords;localStorage.setItem("userLocation",JSON.stringify({latitude:a,longitude:l})),r(a,l)}catch(s){console.error("Error getting location:",s)}},r=async(s,o)=>{try{const l=await(await fetch(`https://api.openweathermap.org/data/2.5/forecast/daily?lat=${s}&lon=${o}&cnt=1&units=imperial&appid=c2a91f3cea984faeb2c4779182b5272e`)).json(),u=l.list[0];console.log(u),t({city:l.city.name,condition:u.weather[0].main,max:u.temp.max,min:u.temp.min,icon:u.weather[0].icon})}catch(a){console.error("Error fetching weather data:",a)}},i=JSON.parse(localStorage.getItem("userLocation"));if(i){const{latitude:s,longitude:o}=i;r(s,o)}else r(40.9039,-73.9142);n()},[]),_.jsxs("div",{className:"container",children:[_.jsx("div",{className:"top-nav",children:_.jsx(Zr,{})}),_.jsx("h1",{children:"Home Page"}),_.jsxs("div",{className:"giant-box",children:[_.jsx("h2",{children:"MC Farm"}),_.jsxs("div",{className:"flex-container",children:[_.jsx("div",{className:"square-box",children:_.jsx("a",{href:"/weather",style:{textDecoration:"none",color:"black",display:"inline-block",width:"100%"},children:_.jsxs("div",{className:"weather-preview",children:[_.jsx("h2",{children:"Weather"}),e?_.jsxs(_.Fragment,{children:[_.jsx("h3",{children:e.city}),_.jsx("p",{children:e.condition}),_.jsxs("p",{children:["High: ",Math.round(e.max),"F"]}),_.jsxs("p",{children:["Low: ",Math.round(e.min),"F"]})]}):_.jsx("p",{children:"Loading weather..."})]})})}),_.jsxs("div",{className:"square-box",style:{marginLeft:"10px"},children:[_.jsx("h3",{children:"Inventory"}),_.jsx("p",{children:"Corn: 188"}),_.jsx("p",{children:"Wheat: 238"}),_.jsx("p",{children:"Tomatoes: 327"})]})]}),_.jsx("a",{href:"/reminders",style:{textDecoration:"none",color:"black",display:"inline-block",width:"100%"},children:_.jsxs("div",{className:"rectangle",style:{margin:"0 auto"},children:[_.jsx("h3",{children:"Reminders"}),_.jsx("p",{children:"28 Days to harvest Corn 245"}),_.jsx("hr",{}),_.jsx("p",{children:"30 Days to sell Tomatoes"})]})})]})]})};function Kr(e){"@babel/helpers - typeof";return Kr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kr(e)}function dz(e,t){if(Kr(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Kr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yD(e){var t=dz(e,"string");return Kr(t)=="symbol"?t:t+""}function cs(e,t,n){return t=yD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xT(Object(n),!0).forEach(function(r){cs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cp(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function gr(e,t){if(e==null)return{};var n=cp(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function pt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yD(r.key),r)}}function mt(e,t,n){return t&&OT(e.prototype,t),n&&OT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function jh(e){return jh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jh(e)}function _D(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_D=function(){return!!e})()}function wD(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hz(e,t){if(t&&(Kr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wD(e)}function Yt(e,t,n){return t=jh(t),hz(e,_D()?Reflect.construct(t,n||[],jh(e).constructor):t.apply(e,n))}function Uh(e,t){return Uh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Uh(e,t)}function qt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uh(e,t)}function ED(e){if(Array.isArray(e))return e}function fz(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function Ov(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yw(e,t){if(e){if(typeof e=="string")return Ov(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ov(e,t)}}function SD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pr(e,t){return ED(e)||fz(e,t)||yw(e,t)||SD()}function Ge(){return Ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ge.apply(this,arguments)}var pz=function(e,t,n,r,i,s,o,a){if(!e){var l;if(t===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,s,o,a],c=0;l=new Error(t.replace(/%s/g,function(){return u[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},mz=pz;const gu=on(mz);var gz=function(){};function vz(e,t){var n={};return Object.keys(e).forEach(function(r){n[xd(r)]=gz}),n}function NT(e,t){return e[t]!==void 0}function xd(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function yz(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}function _z(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Uh(e,t)}function TD(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function ID(e){function t(n){var r=this.constructor.getDerivedStateFromProps(e,n);return r??null}this.setState(t.bind(this))}function AD(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}TD.__suppressDeprecationWarning=!0;ID.__suppressDeprecationWarning=!0;AD.__suppressDeprecationWarning=!0;function wz(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var n=null,r=null,i=null;if(typeof t.componentWillMount=="function"?n="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?i="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||r!==null||i!==null){var s=e.displayName||e.name,o=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+s+" uses "+o+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=TD,t.componentWillReceiveProps=ID),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=AD;var a=t.componentDidUpdate;t.componentDidUpdate=function(u,c,d){var h=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:d;a.call(this,u,c,h)}}return e}var Ez="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function RD(e,t,n){n===void 0&&(n=[]);var r=e.displayName||e.name||"Component",i=yz(e),s=Object.keys(t),o=s.map(xd);i||!n.length||gu(!1);var a=function(u){_z(c,u);function c(){for(var h,f=arguments.length,m=new Array(f),p=0;p<f;p++)m[p]=arguments[p];h=u.call.apply(u,[this].concat(m))||this,h.handlers=Object.create(null),s.forEach(function(g){var v=t[g],w=function(S){if(h.props[v]){var T;h._notifying=!0;for(var I=arguments.length,P=new Array(I>1?I-1:0),k=1;k<I;k++)P[k-1]=arguments[k];(T=h.props)[v].apply(T,[S].concat(P)),h._notifying=!1}h.unmounted||h.setState(function(C){var N,j=C.values;return{values:Ge(Object.create(null),j,(N={},N[g]=S,N))}})};h.handlers[v]=w}),n.length&&(h.attachRef=function(g){h.inner=g});var y=Object.create(null);return s.forEach(function(g){y[g]=h.props[xd(g)]}),h.state={values:y,prevProps:{}},h}var d=c.prototype;return d.shouldComponentUpdate=function(){return!this._notifying},c.getDerivedStateFromProps=function(f,m){var p=m.values,y=m.prevProps,g={values:Ge(Object.create(null),p),prevProps:{}};return s.forEach(function(v){g.prevProps[v]=f[v],!NT(f,v)&&NT(y,v)&&(g.values[v]=f[xd(v)])}),g},d.componentWillUnmount=function(){this.unmounted=!0},d.render=function(){var f=this,m=this.props,p=m.innerRef,y=cp(m,["innerRef"]);o.forEach(function(v){delete y[v]});var g={};return s.forEach(function(v){var w=f.props[v];g[v]=w!==void 0?w:f.state.values[v]}),R.createElement(e,Ge({},y,g,this.handlers,{ref:p||this.attachRef}))},c}(R.Component);wz(a),a.displayName="Uncontrolled("+r+")",a.propTypes=Ge({innerRef:function(){}},vz(t)),n.forEach(function(u){a.prototype[u]=function(){var d;return(d=this.inner)[u].apply(d,arguments)}});var l=a;return R.forwardRef&&(l=R.forwardRef(function(u,c){return R.createElement(a,Ge({},u,{innerRef:c,__source:{fileName:Ez,lineNumber:128},__self:this}))}),l.propTypes=a.propTypes),l.ControlledComponent=e,l.deferControlTo=function(u,c,d){return c===void 0&&(c={}),RD(u,Ge({},t,c),d)},l}function PD(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=PD(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function at(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=PD(e))&&(r&&(r+=" "),r+=t);return r}var CD={exports:{}},Sz="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Tz=Sz,Iz=Tz;function bD(){}function DD(){}DD.resetWarningCache=bD;var Az=function(){function e(r,i,s,o,a,l){if(l!==Iz){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:DD,resetWarningCache:bD};return n.PropTypes=n,n};CD.exports=Az();var Rz=CD.exports;const F=on(Rz);var Bh="milliseconds",vu="seconds",yu="minutes",_u="hours",Fs="day",sa="week",wu="month",Vs="year",js="decade",Us="century",kD={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},Pz={month:1,year:12,decade:10*12,century:100*12};function Cz(e){return[31,bz(e),31,30,31,30,31,31,30,31,30,31]}function bz(e){return e%4===0&&e%100!==0||e%400===0?29:28}function Yn(e,t,n){switch(e=new Date(e),n){case Bh:case vu:case yu:case _u:case Fs:case sa:return Dz(e,t*kD[n]);case wu:case Vs:case js:case Us:return kz(e,t*Pz[n])}throw new TypeError('Invalid units: "'+n+'"')}function Dz(e,t){var n=new Date(+e+t);return xz(e,n)}function kz(e,t){var n=e.getFullYear(),r=e.getMonth(),i=e.getDate(),s=n*12+r+t,o=Math.trunc(s/12),a=s%12,l=Math.min(i,Cz(o)[a]),u=new Date(e);return u.setFullYear(o),u.setDate(1),u.setMonth(a),u.setDate(l),u}function xz(e,t){var n=e.getTimezoneOffset(),r=t.getTimezoneOffset(),i=r-n;return new Date(+t+i*kD.minutes)}function Eu(e,t,n){return Yn(e,-t,n)}function At(e,t,n){switch(e=new Date(e),t){case Us:case js:case Vs:e=Wh(e,0);case wu:e=$D(e,1);case sa:case Fs:e=Iu(e,0);case _u:e=oa(e,0);case yu:e=Tu(e,0);case vu:e=Su(e,0)}return t===js&&(e=Eu(e,Bs(e)%10,"year")),t===Us&&(e=Eu(e,Bs(e)%100,"year")),t===sa&&(e=LD(e,0,n)),e}function zh(e,t,n){switch(e=new Date(e),e=At(e,t,n),t){case Us:case js:case Vs:case wu:case sa:e=Yn(e,1,t),e=Eu(e,1,Fs),e.setHours(23,59,59,999);break;case Fs:e.setHours(23,59,59,999);break;case _u:case yu:case vu:e=Yn(e,1,t),e=Eu(e,1,Bh)}return e}var dc=Ra(function(e,t){return e===t}),_w=Ra(function(e,t){return e!==t}),dp=Ra(function(e,t){return e>t}),hc=Ra(function(e,t){return e>=t}),ww=Ra(function(e,t){return e<t}),Aa=Ra(function(e,t){return e<=t});function xD(){return new Date(Math.min.apply(Math,arguments))}function OD(){return new Date(Math.max.apply(Math,arguments))}function ND(e,t,n,r){return r=r||"day",(!t||hc(e,t,r))&&(!n||Aa(e,n,r))}var Su=es("Milliseconds"),Tu=es("Seconds"),oa=es("Minutes"),Iu=es("Hours"),MD=es("Day"),$D=es("Date"),Wh=es("Month"),Bs=es("FullYear");function Oz(e,t){return t===void 0?Bs(At(e,js)):Yn(e,t+10,Vs)}function Nz(e,t){return t===void 0?Bs(At(e,Us)):Yn(e,t+100,Vs)}function LD(e,t,n){var r=(MD(e)+7-(n||0))%7;return t===void 0?r:Yn(e,t-r,Fs)}function Mz(e,t,n,r){var i,s,o;switch(n){case Bh:case vu:case yu:case _u:case Fs:case sa:i=t.getTime()-e.getTime();break;case wu:case Vs:case js:case Us:i=(Bs(t)-Bs(e))*12+Wh(t)-Wh(e);break;default:throw new TypeError('Invalid units: "'+n+'"')}switch(n){case Bh:s=1;break;case vu:s=1e3;break;case yu:s=1e3*60;break;case _u:s=1e3*60*60;break;case Fs:s=1e3*60*60*24;break;case sa:s=1e3*60*60*24*7;break;case wu:s=1;break;case Vs:s=12;break;case js:s=120;break;case Us:s=1200;break;default:throw new TypeError('Invalid units: "'+n+'"')}return o=i/s,r?o:Math.round(o)}function es(e){var t=function(n){switch(n){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(n,r){if(r===void 0)return n["get"+e]();var i=new Date(n);return i["set"+e](r),t&&i["get"+e]()!=r&&(e==="Hours"||r>=t&&i.getHours()-n.getHours()<Math.floor(r/t))&&i["set"+e](r+t),i}}function Ra(e){return function(t,n,r){return e(+At(t,r),+At(n,r))}}const MT=Object.freeze(Object.defineProperty({__proto__:null,add:Yn,century:Nz,date:$D,day:MD,decade:Oz,diff:Mz,endOf:zh,eq:dc,gt:dp,gte:hc,hours:Iu,inRange:ND,lt:ww,lte:Aa,max:OD,milliseconds:Su,min:xD,minutes:oa,month:Wh,neq:_w,seconds:Tu,startOf:At,subtract:Eu,weekday:LD,year:Bs},Symbol.toStringTag,{value:"Module"}));function $z(e){if(Array.isArray(e))return Ov(e)}function FD(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Lz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Od(e){return $z(e)||FD(e)||yw(e)||Lz()}function Fz(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(i);++r<i;)s[r]=e[r+t];return s}var VD=Fz;function Vz(e,t){return e===t||e!==e&&t!==t}var fc=Vz,jz=typeof Fn=="object"&&Fn&&Fn.Object===Object&&Fn,jD=jz,Uz=jD,Bz=typeof self=="object"&&self&&self.Object===Object&&self,zz=Uz||Bz||Function("return this")(),_r=zz,Wz=_r,Hz=Wz.Symbol,Pa=Hz,$T=Pa,UD=Object.prototype,Yz=UD.hasOwnProperty,qz=UD.toString,Xa=$T?$T.toStringTag:void 0;function Gz(e){var t=Yz.call(e,Xa),n=e[Xa];try{e[Xa]=void 0;var r=!0}catch{}var i=qz.call(e);return r&&(t?e[Xa]=n:delete e[Xa]),i}var Kz=Gz,Qz=Object.prototype,Xz=Qz.toString;function Jz(e){return Xz.call(e)}var Zz=Jz,LT=Pa,e9=Kz,t9=Zz,n9="[object Null]",r9="[object Undefined]",FT=LT?LT.toStringTag:void 0;function i9(e){return e==null?e===void 0?r9:n9:FT&&FT in Object(e)?e9(e):t9(e)}var Ca=i9;function s9(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ri=s9,o9=Ca,a9=ri,l9="[object AsyncFunction]",u9="[object Function]",c9="[object GeneratorFunction]",d9="[object Proxy]";function h9(e){if(!a9(e))return!1;var t=o9(e);return t==u9||t==c9||t==l9||t==d9}var Ew=h9,f9=9007199254740991;function p9(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=f9}var Sw=p9,m9=Ew,g9=Sw;function v9(e){return e!=null&&g9(e.length)&&!m9(e)}var pc=v9,y9=9007199254740991,_9=/^(?:0|[1-9]\d*)$/;function w9(e,t){var n=typeof e;return t=t??y9,!!t&&(n=="number"||n!="symbol"&&_9.test(e))&&e>-1&&e%1==0&&e<t}var Tw=w9,E9=fc,S9=pc,T9=Tw,I9=ri;function A9(e,t,n){if(!I9(n))return!1;var r=typeof t;return(r=="number"?S9(n)&&T9(t,n.length):r=="string"&&t in n)?E9(n[t],e):!1}var hp=A9,R9=/\s/;function P9(e){for(var t=e.length;t--&&R9.test(e.charAt(t)););return t}var C9=P9,b9=C9,D9=/^\s+/;function k9(e){return e&&e.slice(0,b9(e)+1).replace(D9,"")}var x9=k9;function O9(e){return e!=null&&typeof e=="object"}var ts=O9,N9=Ca,M9=ts,$9="[object Symbol]";function L9(e){return typeof e=="symbol"||M9(e)&&N9(e)==$9}var mc=L9,F9=x9,VT=ri,V9=mc,jT=NaN,j9=/^[-+]0x[0-9a-f]+$/i,U9=/^0b[01]+$/i,B9=/^0o[0-7]+$/i,z9=parseInt;function W9(e){if(typeof e=="number")return e;if(V9(e))return jT;if(VT(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=VT(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=F9(e);var n=U9.test(e);return n||B9.test(e)?z9(e.slice(2),n?2:8):j9.test(e)?jT:+e}var H9=W9,Y9=H9,UT=1/0,q9=17976931348623157e292;function G9(e){if(!e)return e===0?e:0;if(e=Y9(e),e===UT||e===-UT){var t=e<0?-1:1;return t*q9}return e===e?e:0}var BD=G9,K9=BD;function Q9(e){var t=K9(e),n=t%1;return t===t?n?t-n:t:0}var zD=Q9,X9=VD,J9=hp,Z9=zD,eW=Math.ceil,tW=Math.max;function nW(e,t,n){(n?J9(e,t,n):t===void 0)?t=1:t=tW(Z9(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var i=0,s=0,o=Array(eW(r/t));i<r;)o[s++]=X9(e,i,i+=t);return o}var rW=nW;const iW=on(rW);function gc(e){return e&&e.ownerDocument||document}function sW(e){var t=gc(e);return t&&t.defaultView||window}function oW(e,t){return sW(e).getComputedStyle(e,t)}var aW=/([A-Z])/g;function lW(e){return e.replace(aW,"-$1").toLowerCase()}var uW=/^ms-/;function nd(e){return lW(e).replace(uW,"-ms-")}var cW=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function dW(e){return!!(e&&cW.test(e))}function uo(e,t){var n="",r="";if(typeof t=="string")return e.style.getPropertyValue(nd(t))||oW(e).getPropertyValue(nd(t));Object.keys(t).forEach(function(i){var s=t[i];!s&&s!==0?e.style.removeProperty(nd(i)):dW(i)?r+=i+"("+s+") ":n+=nd(i)+": "+s+";"}),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n}function Au(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function hW(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}function Iw(e){return"window"in e&&e.window===e?e:hW(e)&&e.defaultView||!1}function WD(e){var t=e==="pageXOffset"?"scrollLeft":"scrollTop";function n(r,i){var s=Iw(r);if(i===void 0)return s?s[e]:r[t];s?s.scrollTo(s[e],i):r[t]=i}return n}const HD=WD("pageXOffset"),YD=WD("pageYOffset");function Ts(e){var t=gc(e),n={top:0,left:0,height:0,width:0},r=t&&t.documentElement;return!r||!Au(r,e)||(e.getBoundingClientRect!==void 0&&(n=e.getBoundingClientRect()),n={top:n.top+YD(r)-(r.clientTop||0),left:n.left+HD(r)-(r.clientLeft||0),width:n.width,height:n.height}),n}var fW=function(t){return!!t&&"offsetParent"in t};function pW(e){for(var t=gc(e),n=e&&e.offsetParent;fW(n)&&n.nodeName!=="HTML"&&uo(n,"position")==="static";)n=n.offsetParent;return n||t.documentElement}var mW=function(t){return t.nodeName&&t.nodeName.toLowerCase()};function qD(e,t){var n={top:0,left:0},r;if(uo(e,"position")==="fixed")r=e.getBoundingClientRect();else{var i=t||pW(e);r=Ts(e),mW(i)!=="html"&&(n=Ts(i));var s=String(uo(i,"borderTopWidth")||0);n.top+=parseInt(s,10)-YD(i)||0;var o=String(uo(i,"borderLeftWidth")||0);n.left+=parseInt(o,10)-HD(i)||0}var a=String(uo(e,"marginTop")||0),l=String(uo(e,"marginLeft")||0);return Ge({},r,{top:r.top-n.top-(parseInt(a,10)||0),left:r.left-n.left-(parseInt(l,10)||0)})}const Aw=!!(typeof window<"u"&&window.document&&window.document.createElement);var BT=new Date().getTime();function gW(e){var t=new Date().getTime(),n=Math.max(0,16-(t-BT)),r=setTimeout(e,n);return BT=t,r}var vW=["","webkit","moz","o","ms"],Nv="clearTimeout",Mv=gW,zT=function(t,n){return t+(t?n[0].toUpperCase()+n.substr(1):n)+"AnimationFrame"};Aw&&vW.some(function(e){var t=zT(e,"request");return t in window&&(Nv=zT(e,"cancel"),Mv=function(r){return window[t](r)}),!!Mv});var WT=function(t){typeof window[Nv]=="function"&&window[Nv](t)},GD=Mv,Vm;function yW(e,t){if(!Vm){var n=document.body,r=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;Vm=function(s,o){return r.call(s,o)}}return Vm(e,t)}var _W=Function.prototype.bind.call(Function.prototype.call,[].slice);function wW(e,t){return _W(e.querySelectorAll(t))}var $v=!1,Lv=!1;try{var jm={get passive(){return $v=!0},get once(){return Lv=$v=!0}};Aw&&(window.addEventListener("test",jm,jm),window.removeEventListener("test",jm,!0))}catch{}function EW(e,t,n,r){if(r&&typeof r!="boolean"&&!Lv){var i=r.once,s=r.capture,o=n;!Lv&&i&&(o=n.__once||function a(l){this.removeEventListener(t,a,s),n.call(this,l)},n.__once=o),e.addEventListener(t,o,$v?r:s)}e.addEventListener(t,n,r)}function SW(e){const t=A.useRef(e);return A.useEffect(()=>{t.current=e},[e]),t}function HT(e){const t=SW(e);return A.useCallback(function(...n){return t.current&&t.current(...n)},[t])}function YT(){return A.useState(null)}function TW(){const e=A.useRef(!0),t=A.useRef(()=>e.current);return A.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function IW(e){const t=TW();return[e[0],A.useCallback(n=>{if(t())return e[1](n)},[t,e[1]])]}var nn="top",Cn="bottom",bn="right",rn="left",Rw="auto",vc=[nn,Cn,bn,rn],aa="start",Ru="end",AW="clippingParents",KD="viewport",Ja="popper",RW="reference",qT=vc.reduce(function(e,t){return e.concat([t+"-"+aa,t+"-"+Ru])},[]),Pw=[].concat(vc,[Rw]).reduce(function(e,t){return e.concat([t,t+"-"+aa,t+"-"+Ru])},[]),PW="beforeRead",CW="read",bW="afterRead",DW="beforeMain",kW="main",xW="afterMain",OW="beforeWrite",NW="write",MW="afterWrite",$W=[PW,CW,bW,DW,kW,xW,OW,NW,MW];function fr(e){return e.split("-")[0]}function pn(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function zs(e){var t=pn(e).Element;return e instanceof t||e instanceof Element}function pr(e){var t=pn(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Cw(e){if(typeof ShadowRoot>"u")return!1;var t=pn(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var Is=Math.max,Hh=Math.min,la=Math.round;function Fv(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function QD(){return!/^((?!chrome|android).)*safari/i.test(Fv())}function ua(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),i=1,s=1;t&&pr(e)&&(i=e.offsetWidth>0&&la(r.width)/e.offsetWidth||1,s=e.offsetHeight>0&&la(r.height)/e.offsetHeight||1);var o=zs(e)?pn(e):window,a=o.visualViewport,l=!QD()&&n,u=(r.left+(l&&a?a.offsetLeft:0))/i,c=(r.top+(l&&a?a.offsetTop:0))/s,d=r.width/i,h=r.height/s;return{width:d,height:h,top:c,right:u+d,bottom:c+h,left:u,x:u,y:c}}function bw(e){var t=ua(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function XD(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Cw(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Wi(e){return e?(e.nodeName||"").toLowerCase():null}function Qr(e){return pn(e).getComputedStyle(e)}function LW(e){return["table","td","th"].indexOf(Wi(e))>=0}function ns(e){return((zs(e)?e.ownerDocument:e.document)||window.document).documentElement}function fp(e){return Wi(e)==="html"?e:e.assignedSlot||e.parentNode||(Cw(e)?e.host:null)||ns(e)}function GT(e){return!pr(e)||Qr(e).position==="fixed"?null:e.offsetParent}function FW(e){var t=/firefox/i.test(Fv()),n=/Trident/i.test(Fv());if(n&&pr(e)){var r=Qr(e);if(r.position==="fixed")return null}var i=fp(e);for(Cw(i)&&(i=i.host);pr(i)&&["html","body"].indexOf(Wi(i))<0;){var s=Qr(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function yc(e){for(var t=pn(e),n=GT(e);n&&LW(n)&&Qr(n).position==="static";)n=GT(n);return n&&(Wi(n)==="html"||Wi(n)==="body"&&Qr(n).position==="static")?t:n||FW(e)||t}function Dw(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Dl(e,t,n){return Is(e,Hh(t,n))}function VW(e,t,n){var r=Dl(e,t,n);return r>n?n:r}function JD(){return{top:0,right:0,bottom:0,left:0}}function ZD(e){return Object.assign({},JD(),e)}function ek(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var jW=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,ZD(typeof t!="number"?t:ek(t,vc))};function UW(e){var t,n=e.state,r=e.name,i=e.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=fr(n.placement),l=Dw(a),u=[rn,bn].indexOf(a)>=0,c=u?"height":"width";if(!(!s||!o)){var d=jW(i.padding,n),h=bw(s),f=l==="y"?nn:rn,m=l==="y"?Cn:bn,p=n.rects.reference[c]+n.rects.reference[l]-o[l]-n.rects.popper[c],y=o[l]-n.rects.reference[l],g=yc(s),v=g?l==="y"?g.clientHeight||0:g.clientWidth||0:0,w=p/2-y/2,E=d[f],S=v-h[c]-d[m],T=v/2-h[c]/2+w,I=Dl(E,T,S),P=l;n.modifiersData[r]=(t={},t[P]=I,t.centerOffset=I-T,t)}}function BW(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||XD(t.elements.popper,i)&&(t.elements.arrow=i))}const zW={name:"arrow",enabled:!0,phase:"main",fn:UW,effect:BW,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ca(e){return e.split("-")[1]}var WW={top:"auto",right:"auto",bottom:"auto",left:"auto"};function HW(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:la(n*i)/i||0,y:la(r*i)/i||0}}function KT(e){var t,n=e.popper,r=e.popperRect,i=e.placement,s=e.variation,o=e.offsets,a=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,d=e.isFixed,h=o.x,f=h===void 0?0:h,m=o.y,p=m===void 0?0:m,y=typeof c=="function"?c({x:f,y:p}):{x:f,y:p};f=y.x,p=y.y;var g=o.hasOwnProperty("x"),v=o.hasOwnProperty("y"),w=rn,E=nn,S=window;if(u){var T=yc(n),I="clientHeight",P="clientWidth";if(T===pn(n)&&(T=ns(n),Qr(T).position!=="static"&&a==="absolute"&&(I="scrollHeight",P="scrollWidth")),T=T,i===nn||(i===rn||i===bn)&&s===Ru){E=Cn;var k=d&&T===S&&S.visualViewport?S.visualViewport.height:T[I];p-=k-r.height,p*=l?1:-1}if(i===rn||(i===nn||i===Cn)&&s===Ru){w=bn;var C=d&&T===S&&S.visualViewport?S.visualViewport.width:T[P];f-=C-r.width,f*=l?1:-1}}var N=Object.assign({position:a},u&&WW),j=c===!0?HW({x:f,y:p},pn(n)):{x:f,y:p};if(f=j.x,p=j.y,l){var Y;return Object.assign({},N,(Y={},Y[E]=v?"0":"",Y[w]=g?"0":"",Y.transform=(S.devicePixelRatio||1)<=1?"translate("+f+"px, "+p+"px)":"translate3d("+f+"px, "+p+"px, 0)",Y))}return Object.assign({},N,(t={},t[E]=v?p+"px":"",t[w]=g?f+"px":"",t.transform="",t))}function YW(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:fr(t.placement),variation:ca(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,KT(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,KT(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const qW={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:YW,data:{}};var rd={passive:!0};function GW(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=pn(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&u.forEach(function(c){c.addEventListener("scroll",n.update,rd)}),a&&l.addEventListener("resize",n.update,rd),function(){s&&u.forEach(function(c){c.removeEventListener("scroll",n.update,rd)}),a&&l.removeEventListener("resize",n.update,rd)}}const KW={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:GW,data:{}};var QW={left:"right",right:"left",bottom:"top",top:"bottom"};function Nd(e){return e.replace(/left|right|bottom|top/g,function(t){return QW[t]})}var XW={start:"end",end:"start"};function QT(e){return e.replace(/start|end/g,function(t){return XW[t]})}function kw(e){var t=pn(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function xw(e){return ua(ns(e)).left+kw(e).scrollLeft}function JW(e,t){var n=pn(e),r=ns(e),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var u=QD();(u||!u&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+xw(e),y:l}}function ZW(e){var t,n=ns(e),r=kw(e),i=(t=e.ownerDocument)==null?void 0:t.body,s=Is(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Is(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+xw(e),l=-r.scrollTop;return Qr(i||n).direction==="rtl"&&(a+=Is(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function Ow(e){var t=Qr(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function tk(e){return["html","body","#document"].indexOf(Wi(e))>=0?e.ownerDocument.body:pr(e)&&Ow(e)?e:tk(fp(e))}function kl(e,t){var n;t===void 0&&(t=[]);var r=tk(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),s=pn(r),o=i?[s].concat(s.visualViewport||[],Ow(r)?r:[]):r,a=t.concat(o);return i?a:a.concat(kl(fp(o)))}function Vv(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function e6(e,t){var n=ua(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function XT(e,t,n){return t===KD?Vv(JW(e,n)):zs(t)?e6(t,n):Vv(ZW(ns(e)))}function t6(e){var t=kl(fp(e)),n=["absolute","fixed"].indexOf(Qr(e).position)>=0,r=n&&pr(e)?yc(e):e;return zs(r)?t.filter(function(i){return zs(i)&&XD(i,r)&&Wi(i)!=="body"}):[]}function n6(e,t,n,r){var i=t==="clippingParents"?t6(e):[].concat(t),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,u){var c=XT(e,u,r);return l.top=Is(c.top,l.top),l.right=Hh(c.right,l.right),l.bottom=Hh(c.bottom,l.bottom),l.left=Is(c.left,l.left),l},XT(e,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function nk(e){var t=e.reference,n=e.element,r=e.placement,i=r?fr(r):null,s=r?ca(r):null,o=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,l;switch(i){case nn:l={x:o,y:t.y-n.height};break;case Cn:l={x:o,y:t.y+t.height};break;case bn:l={x:t.x+t.width,y:a};break;case rn:l={x:t.x-n.width,y:a};break;default:l={x:t.x,y:t.y}}var u=i?Dw(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(s){case aa:l[u]=l[u]-(t[c]/2-n[c]/2);break;case Ru:l[u]=l[u]+(t[c]/2-n[c]/2);break}}return l}function Pu(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,s=n.strategy,o=s===void 0?e.strategy:s,a=n.boundary,l=a===void 0?AW:a,u=n.rootBoundary,c=u===void 0?KD:u,d=n.elementContext,h=d===void 0?Ja:d,f=n.altBoundary,m=f===void 0?!1:f,p=n.padding,y=p===void 0?0:p,g=ZD(typeof y!="number"?y:ek(y,vc)),v=h===Ja?RW:Ja,w=e.rects.popper,E=e.elements[m?v:h],S=n6(zs(E)?E:E.contextElement||ns(e.elements.popper),l,c,o),T=ua(e.elements.reference),I=nk({reference:T,element:w,strategy:"absolute",placement:i}),P=Vv(Object.assign({},w,I)),k=h===Ja?P:T,C={top:S.top-k.top+g.top,bottom:k.bottom-S.bottom+g.bottom,left:S.left-k.left+g.left,right:k.right-S.right+g.right},N=e.modifiersData.offset;if(h===Ja&&N){var j=N[i];Object.keys(C).forEach(function(Y){var ve=[bn,Cn].indexOf(Y)>=0?1:-1,_e=[nn,Cn].indexOf(Y)>=0?"y":"x";C[Y]+=j[_e]*ve})}return C}function r6(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?Pw:l,c=ca(r),d=c?a?qT:qT.filter(function(m){return ca(m)===c}):vc,h=d.filter(function(m){return u.indexOf(m)>=0});h.length===0&&(h=d);var f=h.reduce(function(m,p){return m[p]=Pu(e,{placement:p,boundary:i,rootBoundary:s,padding:o})[fr(p)],m},{});return Object.keys(f).sort(function(m,p){return f[m]-f[p]})}function i6(e){if(fr(e)===Rw)return[];var t=Nd(e);return[QT(e),t,QT(t)]}function s6(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,m=f===void 0?!0:f,p=n.allowedAutoPlacements,y=t.options.placement,g=fr(y),v=g===y,w=l||(v||!m?[Nd(y)]:i6(y)),E=[y].concat(w).reduce(function(W,K){return W.concat(fr(K)===Rw?r6(t,{placement:K,boundary:c,rootBoundary:d,padding:u,flipVariations:m,allowedAutoPlacements:p}):K)},[]),S=t.rects.reference,T=t.rects.popper,I=new Map,P=!0,k=E[0],C=0;C<E.length;C++){var N=E[C],j=fr(N),Y=ca(N)===aa,ve=[nn,Cn].indexOf(j)>=0,_e=ve?"width":"height",ie=Pu(t,{placement:N,boundary:c,rootBoundary:d,altBoundary:h,padding:u}),fe=ve?Y?bn:rn:Y?Cn:nn;S[_e]>T[_e]&&(fe=Nd(fe));var V=Nd(fe),X=[];if(s&&X.push(ie[j]<=0),a&&X.push(ie[fe]<=0,ie[V]<=0),X.every(function(W){return W})){k=N,P=!1;break}I.set(N,X)}if(P)for(var ee=m?3:1,b=function(K){var ae=E.find(function(Te){var Pe=I.get(Te);if(Pe)return Pe.slice(0,K).every(function(On){return On})});if(ae)return k=ae,"break"},O=ee;O>0;O--){var U=b(O);if(U==="break")break}t.placement!==k&&(t.modifiersData[r]._skip=!0,t.placement=k,t.reset=!0)}}const o6={name:"flip",enabled:!0,phase:"main",fn:s6,requiresIfExists:["offset"],data:{_skip:!1}};function JT(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function ZT(e){return[nn,bn,Cn,rn].some(function(t){return e[t]>=0})}function a6(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,s=t.modifiersData.preventOverflow,o=Pu(t,{elementContext:"reference"}),a=Pu(t,{altBoundary:!0}),l=JT(o,r),u=JT(a,i,s),c=ZT(l),d=ZT(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}const l6={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:a6};function u6(e,t,n){var r=fr(e),i=[rn,nn].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[rn,bn].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function c6(e){var t=e.state,n=e.options,r=e.name,i=n.offset,s=i===void 0?[0,0]:i,o=Pw.reduce(function(c,d){return c[d]=u6(d,t.rects,s),c},{}),a=o[t.placement],l=a.x,u=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=o}const d6={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:c6};function h6(e){var t=e.state,n=e.name;t.modifiersData[n]=nk({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const f6={name:"popperOffsets",enabled:!0,phase:"read",fn:h6,data:{}};function p6(e){return e==="x"?"y":"x"}function m6(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,h=n.tether,f=h===void 0?!0:h,m=n.tetherOffset,p=m===void 0?0:m,y=Pu(t,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),g=fr(t.placement),v=ca(t.placement),w=!v,E=Dw(g),S=p6(E),T=t.modifiersData.popperOffsets,I=t.rects.reference,P=t.rects.popper,k=typeof p=="function"?p(Object.assign({},t.rects,{placement:t.placement})):p,C=typeof k=="number"?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),N=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,j={x:0,y:0};if(T){if(s){var Y,ve=E==="y"?nn:rn,_e=E==="y"?Cn:bn,ie=E==="y"?"height":"width",fe=T[E],V=fe+y[ve],X=fe-y[_e],ee=f?-P[ie]/2:0,b=v===aa?I[ie]:P[ie],O=v===aa?-P[ie]:-I[ie],U=t.elements.arrow,W=f&&U?bw(U):{width:0,height:0},K=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:JD(),ae=K[ve],Te=K[_e],Pe=Dl(0,I[ie],W[ie]),On=w?I[ie]/2-ee-Pe-ae-C.mainAxis:b-Pe-ae-C.mainAxis,no=w?-I[ie]/2+ee+Pe+Te+C.mainAxis:O+Pe+Te+C.mainAxis,rs=t.elements.arrow&&yc(t.elements.arrow),Fa=rs?E==="y"?rs.clientTop||0:rs.clientLeft||0:0,Pc=(Y=N==null?void 0:N[E])!=null?Y:0,Up=fe+On-Pc-Fa,Kx=fe+no-Pc,I0=Dl(f?Hh(V,Up):V,fe,f?Is(X,Kx):X);T[E]=I0,j[E]=I0-fe}if(a){var A0,Qx=E==="x"?nn:rn,Xx=E==="x"?Cn:bn,is=T[S],Cc=S==="y"?"height":"width",R0=is+y[Qx],P0=is-y[Xx],Bp=[nn,rn].indexOf(g)!==-1,C0=(A0=N==null?void 0:N[S])!=null?A0:0,b0=Bp?R0:is-I[Cc]-P[Cc]-C0+C.altAxis,D0=Bp?is+I[Cc]+P[Cc]-C0-C.altAxis:P0,k0=f&&Bp?VW(b0,is,D0):Dl(f?b0:R0,is,f?D0:P0);T[S]=k0,j[S]=k0-is}t.modifiersData[r]=j}}const g6={name:"preventOverflow",enabled:!0,phase:"main",fn:m6,requiresIfExists:["offset"]};function v6(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function y6(e){return e===pn(e)||!pr(e)?kw(e):v6(e)}function _6(e){var t=e.getBoundingClientRect(),n=la(t.width)/e.offsetWidth||1,r=la(t.height)/e.offsetHeight||1;return n!==1||r!==1}function w6(e,t,n){n===void 0&&(n=!1);var r=pr(t),i=pr(t)&&_6(t),s=ns(t),o=ua(e,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Wi(t)!=="body"||Ow(s))&&(a=y6(t)),pr(t)?(l=ua(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=xw(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function E6(e){var t=new Map,n=new Set,r=[];e.forEach(function(s){t.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=t.get(a);l&&i(l)}}),r.push(s)}return e.forEach(function(s){n.has(s.name)||i(s)}),r}function S6(e){var t=E6(e);return $W.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function T6(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function I6(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var e1={placement:"bottom",modifiers:[],strategy:"absolute"};function t1(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function A6(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,s=i===void 0?e1:i;return function(a,l,u){u===void 0&&(u=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},e1,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],h=!1,f={state:c,setOptions:function(g){var v=typeof g=="function"?g(c.options):g;p(),c.options=Object.assign({},s,c.options,v),c.scrollParents={reference:zs(a)?kl(a):a.contextElement?kl(a.contextElement):[],popper:kl(l)};var w=S6(I6([].concat(r,c.options.modifiers)));return c.orderedModifiers=w.filter(function(E){return E.enabled}),m(),f.update()},forceUpdate:function(){if(!h){var g=c.elements,v=g.reference,w=g.popper;if(t1(v,w)){c.rects={reference:w6(v,yc(w),c.options.strategy==="fixed"),popper:bw(w)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(C){return c.modifiersData[C.name]=Object.assign({},C.data)});for(var E=0;E<c.orderedModifiers.length;E++){if(c.reset===!0){c.reset=!1,E=-1;continue}var S=c.orderedModifiers[E],T=S.fn,I=S.options,P=I===void 0?{}:I,k=S.name;typeof T=="function"&&(c=T({state:c,options:P,name:k,instance:f})||c)}}}},update:T6(function(){return new Promise(function(y){f.forceUpdate(),y(c)})}),destroy:function(){p(),h=!0}};if(!t1(a,l))return f;f.setOptions(u).then(function(y){!h&&u.onFirstUpdate&&u.onFirstUpdate(y)});function m(){c.orderedModifiers.forEach(function(y){var g=y.name,v=y.options,w=v===void 0?{}:v,E=y.effect;if(typeof E=="function"){var S=E({state:c,name:g,instance:f,options:w}),T=function(){};d.push(S||T)}})}function p(){d.forEach(function(y){return y()}),d=[]}return f}}var R6=A6({defaultModifiers:[l6,f6,qW,KW,d6,o6,g6,zW]}),n1=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},P6={name:"applyStyles",enabled:!1},C6={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var n=t.state;return function(){var r=n.elements,i=r.reference,s=r.popper;if("removeAttribute"in i){var o=(i.getAttribute("aria-describedby")||"").split(",").filter(function(a){return a.trim()!==s.id});o.length?i.setAttribute("aria-describedby",o.join(",")):i.removeAttribute("aria-describedby")}}},fn:function(t){var n,r=t.state,i=r.elements,s=i.popper,o=i.reference,a=(n=s.getAttribute("role"))==null?void 0:n.toLowerCase();if(s.id&&a==="tooltip"&&"setAttribute"in o){var l=o.getAttribute("aria-describedby");if(l&&l.split(",").indexOf(s.id)!==-1)return;o.setAttribute("aria-describedby",l?l+","+s.id:s.id)}}},b6=[];function D6(e,t,n){var r=n===void 0?{}:n,i=r.enabled,s=i===void 0?!0:i,o=r.placement,a=o===void 0?"bottom":o,l=r.strategy,u=l===void 0?"absolute":l,c=r.modifiers,d=c===void 0?b6:c,h=cp(r,["enabled","placement","strategy","modifiers"]),f=A.useRef(),m=A.useCallback(function(){var E;(E=f.current)==null||E.update()},[]),p=A.useCallback(function(){var E;(E=f.current)==null||E.forceUpdate()},[]),y=IW(A.useState({placement:a,update:m,forceUpdate:p,attributes:{},styles:{popper:n1(u),arrow:{}}})),g=y[0],v=y[1],w=A.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(S){var T=S.state,I={},P={};Object.keys(T.elements).forEach(function(k){I[k]=T.styles[k],P[k]=T.attributes[k]}),v({state:T,styles:I,attributes:P,update:m,forceUpdate:p,placement:T.placement})}}},[m,p,v]);return A.useEffect(function(){!f.current||!s||f.current.setOptions({placement:a,strategy:u,modifiers:[].concat(d,[w,P6])})},[u,a,w,s]),A.useEffect(function(){if(!(!s||e==null||t==null))return f.current=R6(e,t,Ge({},h,{placement:a,strategy:u,modifiers:[].concat(d,[C6,w])})),function(){f.current!=null&&(f.current.destroy(),f.current=void 0,v(function(E){return Ge({},E,{attributes:{},styles:{popper:n1(u)}})}))}},[s,e,t]),g}function k6(e,t,n,r){var i=r&&typeof r!="boolean"?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)}function fl(e,t,n,r){return EW(e,t,n,r),function(){k6(e,t,n,r)}}var x6=function(){},O6=x6;const N6=on(O6);function M6(e){return e&&"setState"in e?RR.findDOMNode(e):e??null}const $6=function(e){return gc(M6(e))};var L6=27,r1=function(){};function F6(e){return e.button===0}function V6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var i1=function(t){return t&&("current"in t?t.current:t)};function j6(e,t,n){var r=n===void 0?{}:n,i=r.disabled,s=r.clickTrigger,o=s===void 0?"click":s,a=A.useRef(!1),l=t||r1,u=A.useCallback(function(h){var f,m=i1(e);N6(!!m,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),a.current=!m||V6(h)||!F6(h)||!!Au(m,(f=h.composedPath==null?void 0:h.composedPath()[0])!=null?f:h.target)},[e]),c=HT(function(h){a.current||l(h)}),d=HT(function(h){h.keyCode===L6&&l(h)});A.useEffect(function(){if(!(i||e==null)){var h=window.event,f=$6(i1(e)),m=fl(f,o,u,!0),p=fl(f,o,function(v){if(v===h){h=void 0;return}c(v)}),y=fl(f,"keyup",function(v){if(v===h){h=void 0;return}d(v)}),g=[];return"ontouchstart"in f.documentElement&&(g=[].slice.call(f.body.children).map(function(v){return fl(v,"mousemove",r1)})),function(){m(),p(),y(),g.forEach(function(v){return v()})}}},[e,i,o,u,c,d])}function U6(e){var t={};return Array.isArray(e)?(e==null||e.forEach(function(n){t[n.name]=n}),t):e||t}function B6(e){return e===void 0&&(e={}),Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function z6(e){var t,n,r,i,s=e.enabled,o=e.enableEvents,a=e.placement,l=e.flip,u=e.offset,c=e.fixed,d=e.containerPadding,h=e.arrowElement,f=e.popperConfig,m=f===void 0?{}:f,p=U6(m.modifiers);return Ge({},m,{placement:a,enabled:s,strategy:c?"fixed":m.strategy,modifiers:B6(Ge({},p,{eventListeners:{enabled:o},preventOverflow:Ge({},p.preventOverflow,{options:d?Ge({padding:d},(t=p.preventOverflow)==null?void 0:t.options):(n=p.preventOverflow)==null?void 0:n.options}),offset:{options:Ge({offset:u},(r=p.offset)==null?void 0:r.options)},arrow:Ge({},p.arrow,{enabled:!!h,options:Ge({},(i=p.arrow)==null?void 0:i.options,{element:h})}),flip:Ge({enabled:!!l},p.flip)}))})}function W6(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function H6(e,t){e.classList?e.classList.add(t):W6(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function s1(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Y6(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=s1(e.className,t):e.setAttribute("class",s1(e.className&&e.className.baseVal||"",t))}var id;function rk(e){if((!id&&id!==0||e)&&Aw){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),id=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return id}var Um=function(t){var n;return typeof document>"u"?null:t==null?gc().body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(n=t)!=null&&n.nodeType&&t||null)};function o1(e,t){var n=A.useState(function(){return Um(e)}),r=n[0],i=n[1];if(!r){var s=Um(e);s&&i(s)}return A.useEffect(function(){t&&r&&t(r)},[t,r]),A.useEffect(function(){var o=Um(e);o!==r&&i(o)},[e,r]),r}const a1=e=>!e||typeof e=="function"?e:t=>{e.current=t};function q6(e,t){const n=a1(e),r=a1(t);return i=>{n&&n(i),r&&r(i)}}function G6(e,t){return A.useMemo(()=>q6(e,t),[e,t])}var Nw=R.forwardRef(function(e,t){var n=e.flip,r=e.offset,i=e.placement,s=e.containerPadding,o=s===void 0?5:s,a=e.popperConfig,l=a===void 0?{}:a,u=e.transition,c=YT(),d=c[0],h=c[1],f=YT(),m=f[0],p=f[1],y=G6(h,t),g=o1(e.container),v=o1(e.target),w=A.useState(!e.show),E=w[0],S=w[1],T=D6(v,d,z6({placement:i,enableEvents:!!e.show,containerPadding:o||5,flip:n,offset:r,arrowElement:m,popperConfig:l})),I=T.styles,P=T.attributes,k=cp(T,["styles","attributes"]);e.show?E&&S(!1):!e.transition&&!E&&S(!0);var C=function(){S(!0),e.onExited&&e.onExited.apply(e,arguments)},N=e.show||u&&!E;if(j6(d,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!N)return null;var j=e.children(Ge({},k,{show:!!e.show,props:Ge({},P.popper,{style:I.popper,ref:y}),arrowProps:Ge({},P.arrow,{style:I.arrow,ref:p})}));if(u){var Y=e.onExit,ve=e.onExiting,_e=e.onEnter,ie=e.onEntering,fe=e.onEntered;j=R.createElement(u,{in:e.show,appear:!0,onExit:Y,onExiting:ve,onExited:C,onEnter:_e,onEntering:ie,onEntered:fe},j)}return g?RR.createPortal(j,g):null});Nw.displayName="Overlay";Nw.propTypes={show:F.bool,placement:F.oneOf(Pw),target:F.any,container:F.any,flip:F.bool,children:F.func.isRequired,containerPadding:F.number,popperConfig:F.object,rootClose:F.bool,rootCloseEvent:F.oneOf(["click","mousedown"]),rootCloseDisabled:F.bool,onHide:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(t.rootClose){var s;return(s=F.func).isRequired.apply(s,[t].concat(r))}return F.func.apply(F,[t].concat(r))},transition:F.elementType,onEnter:F.func,onEntering:F.func,onEntered:F.func,onExit:F.func,onExiting:F.func,onExited:F.func};const K6=Nw;function Q6(){this.__data__=[],this.size=0}var X6=Q6,J6=fc;function Z6(e,t){for(var n=e.length;n--;)if(J6(e[n][0],t))return n;return-1}var pp=Z6,eH=pp,tH=Array.prototype,nH=tH.splice;function rH(e){var t=this.__data__,n=eH(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():nH.call(t,n,1),--this.size,!0}var iH=rH,sH=pp;function oH(e){var t=this.__data__,n=sH(t,e);return n<0?void 0:t[n][1]}var aH=oH,lH=pp;function uH(e){return lH(this.__data__,e)>-1}var cH=uH,dH=pp;function hH(e,t){var n=this.__data__,r=dH(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var fH=hH,pH=X6,mH=iH,gH=aH,vH=cH,yH=fH;function ba(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ba.prototype.clear=pH;ba.prototype.delete=mH;ba.prototype.get=gH;ba.prototype.has=vH;ba.prototype.set=yH;var mp=ba,_H=mp;function wH(){this.__data__=new _H,this.size=0}var EH=wH;function SH(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var TH=SH;function IH(e){return this.__data__.get(e)}var AH=IH;function RH(e){return this.__data__.has(e)}var PH=RH,CH=_r,bH=CH["__core-js_shared__"],DH=bH,Bm=DH,l1=function(){var e=/[^.]+$/.exec(Bm&&Bm.keys&&Bm.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function kH(e){return!!l1&&l1 in e}var xH=kH,OH=Function.prototype,NH=OH.toString;function MH(e){if(e!=null){try{return NH.call(e)}catch{}try{return e+""}catch{}}return""}var ik=MH,$H=Ew,LH=xH,FH=ri,VH=ik,jH=/[\\^$.*+?()[\]{}|]/g,UH=/^\[object .+?Constructor\]$/,BH=Function.prototype,zH=Object.prototype,WH=BH.toString,HH=zH.hasOwnProperty,YH=RegExp("^"+WH.call(HH).replace(jH,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function qH(e){if(!FH(e)||LH(e))return!1;var t=$H(e)?YH:UH;return t.test(VH(e))}var GH=qH;function KH(e,t){return e==null?void 0:e[t]}var QH=KH,XH=GH,JH=QH;function ZH(e,t){var n=JH(e,t);return XH(n)?n:void 0}var eo=ZH,e5=eo,t5=_r,n5=e5(t5,"Map"),Mw=n5,r5=eo,i5=r5(Object,"create"),gp=i5,u1=gp;function s5(){this.__data__=u1?u1(null):{},this.size=0}var o5=s5;function a5(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var l5=a5,u5=gp,c5="__lodash_hash_undefined__",d5=Object.prototype,h5=d5.hasOwnProperty;function f5(e){var t=this.__data__;if(u5){var n=t[e];return n===c5?void 0:n}return h5.call(t,e)?t[e]:void 0}var p5=f5,m5=gp,g5=Object.prototype,v5=g5.hasOwnProperty;function y5(e){var t=this.__data__;return m5?t[e]!==void 0:v5.call(t,e)}var _5=y5,w5=gp,E5="__lodash_hash_undefined__";function S5(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=w5&&t===void 0?E5:t,this}var T5=S5,I5=o5,A5=l5,R5=p5,P5=_5,C5=T5;function Da(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Da.prototype.clear=I5;Da.prototype.delete=A5;Da.prototype.get=R5;Da.prototype.has=P5;Da.prototype.set=C5;var b5=Da,c1=b5,D5=mp,k5=Mw;function x5(){this.size=0,this.__data__={hash:new c1,map:new(k5||D5),string:new c1}}var O5=x5;function N5(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var M5=N5,$5=M5;function L5(e,t){var n=e.__data__;return $5(t)?n[typeof t=="string"?"string":"hash"]:n.map}var vp=L5,F5=vp;function V5(e){var t=F5(this,e).delete(e);return this.size-=t?1:0,t}var j5=V5,U5=vp;function B5(e){return U5(this,e).get(e)}var z5=B5,W5=vp;function H5(e){return W5(this,e).has(e)}var Y5=H5,q5=vp;function G5(e,t){var n=q5(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var K5=G5,Q5=O5,X5=j5,J5=z5,Z5=Y5,eY=K5;function ka(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ka.prototype.clear=Q5;ka.prototype.delete=X5;ka.prototype.get=J5;ka.prototype.has=Z5;ka.prototype.set=eY;var $w=ka,tY=mp,nY=Mw,rY=$w,iY=200;function sY(e,t){var n=this.__data__;if(n instanceof tY){var r=n.__data__;if(!nY||r.length<iY-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new rY(r)}return n.set(e,t),this.size=n.size,this}var oY=sY,aY=mp,lY=EH,uY=TH,cY=AH,dY=PH,hY=oY;function xa(e){var t=this.__data__=new aY(e);this.size=t.size}xa.prototype.clear=lY;xa.prototype.delete=uY;xa.prototype.get=cY;xa.prototype.has=dY;xa.prototype.set=hY;var Lw=xa,fY="__lodash_hash_undefined__";function pY(e){return this.__data__.set(e,fY),this}var mY=pY;function gY(e){return this.__data__.has(e)}var vY=gY,yY=$w,_Y=mY,wY=vY;function Yh(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new yY;++t<n;)this.add(e[t])}Yh.prototype.add=Yh.prototype.push=_Y;Yh.prototype.has=wY;var EY=Yh;function SY(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var TY=SY;function IY(e,t){return e.has(t)}var AY=IY,RY=EY,PY=TY,CY=AY,bY=1,DY=2;function kY(e,t,n,r,i,s){var o=n&bY,a=e.length,l=t.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(e),c=s.get(t);if(u&&c)return u==t&&c==e;var d=-1,h=!0,f=n&DY?new RY:void 0;for(s.set(e,t),s.set(t,e);++d<a;){var m=e[d],p=t[d];if(r)var y=o?r(p,m,d,t,e,s):r(m,p,d,e,t,s);if(y!==void 0){if(y)continue;h=!1;break}if(f){if(!PY(t,function(g,v){if(!CY(f,v)&&(m===g||i(m,g,n,r,s)))return f.push(v)})){h=!1;break}}else if(!(m===p||i(m,p,n,r,s))){h=!1;break}}return s.delete(e),s.delete(t),h}var sk=kY,xY=_r,OY=xY.Uint8Array,ok=OY;function NY(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var MY=NY;function $Y(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var LY=$Y,d1=Pa,h1=ok,FY=fc,VY=sk,jY=MY,UY=LY,BY=1,zY=2,WY="[object Boolean]",HY="[object Date]",YY="[object Error]",qY="[object Map]",GY="[object Number]",KY="[object RegExp]",QY="[object Set]",XY="[object String]",JY="[object Symbol]",ZY="[object ArrayBuffer]",eq="[object DataView]",f1=d1?d1.prototype:void 0,zm=f1?f1.valueOf:void 0;function tq(e,t,n,r,i,s,o){switch(n){case eq:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ZY:return!(e.byteLength!=t.byteLength||!s(new h1(e),new h1(t)));case WY:case HY:case GY:return FY(+e,+t);case YY:return e.name==t.name&&e.message==t.message;case KY:case XY:return e==t+"";case qY:var a=jY;case QY:var l=r&BY;if(a||(a=UY),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;r|=zY,o.set(e,t);var c=VY(a(e),a(t),r,i,s,o);return o.delete(e),c;case JY:if(zm)return zm.call(e)==zm.call(t)}return!1}var nq=tq;function rq(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var Fw=rq,iq=Array.isArray,Dn=iq,sq=Fw,oq=Dn;function aq(e,t,n){var r=t(e);return oq(e)?r:sq(r,n(e))}var ak=aq;function lq(e,t){for(var n=-1,r=e==null?0:e.length,i=0,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[i++]=o)}return s}var uq=lq;function cq(){return[]}var lk=cq,dq=uq,hq=lk,fq=Object.prototype,pq=fq.propertyIsEnumerable,p1=Object.getOwnPropertySymbols,mq=p1?function(e){return e==null?[]:(e=Object(e),dq(p1(e),function(t){return pq.call(e,t)}))}:hq,Vw=mq;function gq(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var vq=gq,yq=Ca,_q=ts,wq="[object Arguments]";function Eq(e){return _q(e)&&yq(e)==wq}var Sq=Eq,m1=Sq,Tq=ts,uk=Object.prototype,Iq=uk.hasOwnProperty,Aq=uk.propertyIsEnumerable,Rq=m1(function(){return arguments}())?m1:function(e){return Tq(e)&&Iq.call(e,"callee")&&!Aq.call(e,"callee")},jw=Rq,qh={exports:{}};function Pq(){return!1}var Cq=Pq;qh.exports;(function(e,t){var n=_r,r=Cq,i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;e.exports=u})(qh,qh.exports);var yp=qh.exports,bq=Ca,Dq=Sw,kq=ts,xq="[object Arguments]",Oq="[object Array]",Nq="[object Boolean]",Mq="[object Date]",$q="[object Error]",Lq="[object Function]",Fq="[object Map]",Vq="[object Number]",jq="[object Object]",Uq="[object RegExp]",Bq="[object Set]",zq="[object String]",Wq="[object WeakMap]",Hq="[object ArrayBuffer]",Yq="[object DataView]",qq="[object Float32Array]",Gq="[object Float64Array]",Kq="[object Int8Array]",Qq="[object Int16Array]",Xq="[object Int32Array]",Jq="[object Uint8Array]",Zq="[object Uint8ClampedArray]",eG="[object Uint16Array]",tG="[object Uint32Array]",xe={};xe[qq]=xe[Gq]=xe[Kq]=xe[Qq]=xe[Xq]=xe[Jq]=xe[Zq]=xe[eG]=xe[tG]=!0;xe[xq]=xe[Oq]=xe[Hq]=xe[Nq]=xe[Yq]=xe[Mq]=xe[$q]=xe[Lq]=xe[Fq]=xe[Vq]=xe[jq]=xe[Uq]=xe[Bq]=xe[zq]=xe[Wq]=!1;function nG(e){return kq(e)&&Dq(e.length)&&!!xe[bq(e)]}var rG=nG;function iG(e){return function(t){return e(t)}}var _p=iG,Gh={exports:{}};Gh.exports;(function(e,t){var n=jD,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=a})(Gh,Gh.exports);var Uw=Gh.exports,sG=rG,oG=_p,g1=Uw,v1=g1&&g1.isTypedArray,aG=v1?oG(v1):sG,Bw=aG,lG=vq,uG=jw,cG=Dn,dG=yp,hG=Tw,fG=Bw,pG=Object.prototype,mG=pG.hasOwnProperty;function gG(e,t){var n=cG(e),r=!n&&uG(e),i=!n&&!r&&dG(e),s=!n&&!r&&!i&&fG(e),o=n||r||i||s,a=o?lG(e.length,String):[],l=a.length;for(var u in e)(t||mG.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||hG(u,l)))&&a.push(u);return a}var ck=gG,vG=Object.prototype;function yG(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||vG;return e===n}var zw=yG;function _G(e,t){return function(n){return e(t(n))}}var dk=_G,wG=dk,EG=wG(Object.keys,Object),SG=EG,TG=zw,IG=SG,AG=Object.prototype,RG=AG.hasOwnProperty;function PG(e){if(!TG(e))return IG(e);var t=[];for(var n in Object(e))RG.call(e,n)&&n!="constructor"&&t.push(n);return t}var CG=PG,bG=ck,DG=CG,kG=pc;function xG(e){return kG(e)?bG(e):DG(e)}var _c=xG,OG=ak,NG=Vw,MG=_c;function $G(e){return OG(e,MG,NG)}var hk=$G,y1=hk,LG=1,FG=Object.prototype,VG=FG.hasOwnProperty;function jG(e,t,n,r,i,s){var o=n&LG,a=y1(e),l=a.length,u=y1(t),c=u.length;if(l!=c&&!o)return!1;for(var d=l;d--;){var h=a[d];if(!(o?h in t:VG.call(t,h)))return!1}var f=s.get(e),m=s.get(t);if(f&&m)return f==t&&m==e;var p=!0;s.set(e,t),s.set(t,e);for(var y=o;++d<l;){h=a[d];var g=e[h],v=t[h];if(r)var w=o?r(v,g,h,t,e,s):r(g,v,h,e,t,s);if(!(w===void 0?g===v||i(g,v,n,r,s):w)){p=!1;break}y||(y=h=="constructor")}if(p&&!y){var E=e.constructor,S=t.constructor;E!=S&&"constructor"in e&&"constructor"in t&&!(typeof E=="function"&&E instanceof E&&typeof S=="function"&&S instanceof S)&&(p=!1)}return s.delete(e),s.delete(t),p}var UG=jG,BG=eo,zG=_r,WG=BG(zG,"DataView"),HG=WG,YG=eo,qG=_r,GG=YG(qG,"Promise"),KG=GG,QG=eo,XG=_r,JG=QG(XG,"Set"),ZG=JG,e8=eo,t8=_r,n8=e8(t8,"WeakMap"),r8=n8,jv=HG,Uv=Mw,Bv=KG,zv=ZG,Wv=r8,fk=Ca,Oa=ik,_1="[object Map]",i8="[object Object]",w1="[object Promise]",E1="[object Set]",S1="[object WeakMap]",T1="[object DataView]",s8=Oa(jv),o8=Oa(Uv),a8=Oa(Bv),l8=Oa(zv),u8=Oa(Wv),us=fk;(jv&&us(new jv(new ArrayBuffer(1)))!=T1||Uv&&us(new Uv)!=_1||Bv&&us(Bv.resolve())!=w1||zv&&us(new zv)!=E1||Wv&&us(new Wv)!=S1)&&(us=function(e){var t=fk(e),n=t==i8?e.constructor:void 0,r=n?Oa(n):"";if(r)switch(r){case s8:return T1;case o8:return _1;case a8:return w1;case l8:return E1;case u8:return S1}return t});var wp=us,Wm=Lw,c8=sk,d8=nq,h8=UG,I1=wp,A1=Dn,R1=yp,f8=Bw,p8=1,P1="[object Arguments]",C1="[object Array]",sd="[object Object]",m8=Object.prototype,b1=m8.hasOwnProperty;function g8(e,t,n,r,i,s){var o=A1(e),a=A1(t),l=o?C1:I1(e),u=a?C1:I1(t);l=l==P1?sd:l,u=u==P1?sd:u;var c=l==sd,d=u==sd,h=l==u;if(h&&R1(e)){if(!R1(t))return!1;o=!0,c=!1}if(h&&!c)return s||(s=new Wm),o||f8(e)?c8(e,t,n,r,i,s):d8(e,t,l,n,r,i,s);if(!(n&p8)){var f=c&&b1.call(e,"__wrapped__"),m=d&&b1.call(t,"__wrapped__");if(f||m){var p=f?e.value():e,y=m?t.value():t;return s||(s=new Wm),i(p,y,n,r,s)}}return h?(s||(s=new Wm),h8(e,t,n,r,i,s)):!1}var v8=g8,y8=v8,D1=ts;function pk(e,t,n,r,i){return e===t?!0:e==null||t==null||!D1(e)&&!D1(t)?e!==e&&t!==t:y8(e,t,n,r,pk,i)}var Ww=pk,_8=Ww;function w8(e,t){return _8(e,t)}var E8=w8;const S8=on(E8);function Hm(e,t){var n=Iw(e);return n?n.innerHeight:t?e.clientHeight:Ts(e).height}function mk(e,t,n){e.closest&&!n&&e.closest(t);var r=e;do{if(yW(r,t))return r;r=r.parentElement}while(r&&r!==n&&r.nodeType===document.ELEMENT_NODE);return null}function T8(e,t,n,r){for(var i=e.length,s=n+(r?1:-1);r?s--:++s<i;)if(t(e[s],s,e))return s;return-1}var I8=T8,A8=Lw,R8=Ww,P8=1,C8=2;function b8(e,t,n,r){var i=n.length,s=i,o=!r;if(e==null)return!s;for(e=Object(e);i--;){var a=n[i];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<s;){a=n[i];var l=a[0],u=e[l],c=a[1];if(o&&a[2]){if(u===void 0&&!(l in e))return!1}else{var d=new A8;if(r)var h=r(u,c,l,e,t,d);if(!(h===void 0?R8(c,u,P8|C8,r,d):h))return!1}}return!0}var D8=b8,k8=ri;function x8(e){return e===e&&!k8(e)}var gk=x8,O8=gk,N8=_c;function M8(e){for(var t=N8(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,O8(i)]}return t}var $8=M8;function L8(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var vk=L8,F8=D8,V8=$8,j8=vk;function U8(e){var t=V8(e);return t.length==1&&t[0][2]?j8(t[0][0],t[0][1]):function(n){return n===e||F8(n,e,t)}}var B8=U8,z8=Dn,W8=mc,H8=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Y8=/^\w*$/;function q8(e,t){if(z8(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||W8(e)?!0:Y8.test(e)||!H8.test(e)||t!=null&&e in Object(t)}var Hw=q8,yk=$w,G8="Expected a function";function Yw(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(G8);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=e.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(Yw.Cache||yk),n}Yw.Cache=yk;var K8=Yw,Q8=K8,X8=500;function J8(e){var t=Q8(e,function(r){return n.size===X8&&n.clear(),r}),n=t.cache;return t}var Z8=J8,e7=Z8,t7=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n7=/\\(\\)?/g,r7=e7(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(t7,function(n,r,i,s){t.push(i?s.replace(n7,"$1"):r||n)}),t}),i7=r7;function s7(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var qw=s7,k1=Pa,o7=qw,a7=Dn,l7=mc,u7=1/0,x1=k1?k1.prototype:void 0,O1=x1?x1.toString:void 0;function _k(e){if(typeof e=="string")return e;if(a7(e))return o7(e,_k)+"";if(l7(e))return O1?O1.call(e):"";var t=e+"";return t=="0"&&1/e==-u7?"-0":t}var c7=_k,d7=c7;function h7(e){return e==null?"":d7(e)}var f7=h7,p7=Dn,m7=Hw,g7=i7,v7=f7;function y7(e,t){return p7(e)?e:m7(e,t)?[e]:g7(v7(e))}var Ep=y7,_7=mc,w7=1/0;function E7(e){if(typeof e=="string"||_7(e))return e;var t=e+"";return t=="0"&&1/e==-w7?"-0":t}var wc=E7,S7=Ep,T7=wc;function I7(e,t){t=S7(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[T7(t[n++])];return n&&n==r?e:void 0}var Sp=I7,A7=Sp;function R7(e,t,n){var r=e==null?void 0:A7(e,t);return r===void 0?n:r}var P7=R7;function C7(e,t){return e!=null&&t in Object(e)}var b7=C7,D7=Ep,k7=jw,x7=Dn,O7=Tw,N7=Sw,M7=wc;function $7(e,t,n){t=D7(t,e);for(var r=-1,i=t.length,s=!1;++r<i;){var o=M7(t[r]);if(!(s=e!=null&&n(e,o)))break;e=e[o]}return s||++r!=i?s:(i=e==null?0:e.length,!!i&&N7(i)&&O7(o,i)&&(x7(e)||k7(e)))}var L7=$7,F7=b7,V7=L7;function j7(e,t){return e!=null&&V7(e,t,F7)}var U7=j7,B7=Ww,z7=P7,W7=U7,H7=Hw,Y7=gk,q7=vk,G7=wc,K7=1,Q7=2;function X7(e,t){return H7(e)&&Y7(t)?q7(G7(e),t):function(n){var r=z7(n,e);return r===void 0&&r===t?W7(n,e):B7(t,r,K7|Q7)}}var J7=X7;function Z7(e){return e}var Tp=Z7;function eK(e){return function(t){return t==null?void 0:t[e]}}var tK=eK,nK=Sp;function rK(e){return function(t){return nK(t,e)}}var iK=rK,sK=tK,oK=iK,aK=Hw,lK=wc;function uK(e){return aK(e)?sK(lK(e)):oK(e)}var cK=uK,dK=B8,hK=J7,fK=Tp,pK=Dn,mK=cK;function gK(e){return typeof e=="function"?e:e==null?fK:typeof e=="object"?pK(e)?hK(e[0],e[1]):dK(e):mK(e)}var Ip=gK,vK=I8,yK=Ip,_K=zD,wK=Math.max;function EK(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=n==null?0:_K(n);return i<0&&(i=wK(r+i,0)),vK(e,yK(t),i)}var SK=EK;const TK=on(SK);var IK=Math.ceil,AK=Math.max;function RK(e,t,n,r){for(var i=-1,s=AK(IK((t-e)/(n||1)),0),o=Array(s);s--;)o[r?s:++i]=e,e+=n;return o}var PK=RK,CK=PK,bK=hp,Ym=BD;function DK(e){return function(t,n,r){return r&&typeof r!="number"&&bK(t,n,r)&&(n=r=void 0),t=Ym(t),n===void 0?(n=t,t=0):n=Ym(n),r=r===void 0?t<n?1:-1:Ym(r),CK(t,n,r,e)}}var kK=DK,xK=kK,OK=xK(),NK=OK;const MK=on(NK);var N1=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function $K(e,t){return!!(e===t||N1(e)&&N1(t))}function LK(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!$K(e[n],t[n]))return!1;return!0}function wk(e,t){t===void 0&&(t=LK);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;var o=e.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}var M1=Pa,FK=jw,VK=Dn,$1=M1?M1.isConcatSpreadable:void 0;function jK(e){return VK(e)||FK(e)||!!($1&&e&&e[$1])}var UK=jK,BK=Fw,zK=UK;function Ek(e,t,n,r,i){var s=-1,o=e.length;for(n||(n=zK),i||(i=[]);++s<o;){var a=e[s];t>0&&n(a)?t>1?Ek(a,t-1,n,r,i):BK(i,a):r||(i[i.length]=a)}return i}var Sk=Ek;function WK(e){return function(t,n,r){for(var i=-1,s=Object(t),o=r(t),a=o.length;a--;){var l=o[e?a:++i];if(n(s[l],l,s)===!1)break}return t}}var HK=WK,YK=HK,qK=YK(),GK=qK,KK=GK,QK=_c;function XK(e,t){return e&&KK(e,t,QK)}var Gw=XK,JK=pc;function ZK(e,t){return function(n,r){if(n==null)return n;if(!JK(n))return e(n,r);for(var i=n.length,s=t?i:-1,o=Object(n);(t?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var eQ=ZK,tQ=Gw,nQ=eQ,rQ=nQ(tQ),iQ=rQ,sQ=iQ,oQ=pc;function aQ(e,t){var n=-1,r=oQ(e)?Array(e.length):[];return sQ(e,function(i,s,o){r[++n]=t(i,s,o)}),r}var lQ=aQ;function uQ(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var cQ=uQ,L1=mc;function dQ(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=e===e,s=L1(e),o=t!==void 0,a=t===null,l=t===t,u=L1(t);if(!a&&!u&&!s&&e>t||s&&o&&l&&!a&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!s&&!u&&e<t||u&&n&&i&&!r&&!s||a&&n&&i||!o&&i||!l)return-1}return 0}var hQ=dQ,fQ=hQ;function pQ(e,t,n){for(var r=-1,i=e.criteria,s=t.criteria,o=i.length,a=n.length;++r<o;){var l=fQ(i[r],s[r]);if(l){if(r>=a)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return e.index-t.index}var mQ=pQ,qm=qw,gQ=Sp,vQ=Ip,yQ=lQ,_Q=cQ,wQ=_p,EQ=mQ,SQ=Tp,TQ=Dn;function IQ(e,t,n){t.length?t=qm(t,function(s){return TQ(s)?function(o){return gQ(o,s.length===1?s[0]:s)}:s}):t=[SQ];var r=-1;t=qm(t,wQ(vQ));var i=yQ(e,function(s,o,a){var l=qm(t,function(u){return u(s)});return{criteria:l,index:++r,value:s}});return _Q(i,function(s,o){return EQ(s,o,n)})}var AQ=IQ;function RQ(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var PQ=RQ,CQ=PQ,F1=Math.max;function bQ(e,t,n){return t=F1(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,s=F1(r.length-t,0),o=Array(s);++i<s;)o[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=n(o),CQ(e,this,a)}}var Tk=bQ;function DQ(e){return function(){return e}}var kQ=DQ,xQ=eo,OQ=function(){try{var e=xQ(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Ik=OQ,NQ=kQ,V1=Ik,MQ=Tp,$Q=V1?function(e,t){return V1(e,"toString",{configurable:!0,enumerable:!1,value:NQ(t),writable:!0})}:MQ,LQ=$Q,FQ=800,VQ=16,jQ=Date.now;function UQ(e){var t=0,n=0;return function(){var r=jQ(),i=VQ-(r-n);if(n=r,i>0){if(++t>=FQ)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var BQ=UQ,zQ=LQ,WQ=BQ,HQ=WQ(zQ),Ak=HQ,YQ=Tp,qQ=Tk,GQ=Ak;function KQ(e,t){return GQ(qQ(e,t,YQ),e+"")}var Rk=KQ,QQ=Sk,XQ=AQ,JQ=Rk,j1=hp,ZQ=JQ(function(e,t){if(e==null)return[];var n=t.length;return n>1&&j1(e,t[0],t[1])?t=[]:n>2&&j1(t[0],t[1],t[2])&&(t=[t[0]]),XQ(e,QQ(t,1),[])}),eX=ZQ;const tX=on(eX);function Hv(e,t){var n=Iw(e);return n?n.innerWidth:t?e.clientWidth:Ts(e).width}function Pk(e){return ED(e)||FD(e)||yw(e)||SD()}function nX(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var Ck=nX,U1=Ik;function rX(e,t,n){t=="__proto__"&&U1?U1(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Kw=rX,iX=Kw,sX=fc,oX=Object.prototype,aX=oX.hasOwnProperty;function lX(e,t,n){var r=e[t];(!(aX.call(e,t)&&sX(r,n))||n===void 0&&!(t in e))&&iX(e,t,n)}var bk=lX,uX=bk,cX=Kw;function dX(e,t,n,r){var i=!n;n||(n={});for(var s=-1,o=t.length;++s<o;){var a=t[s],l=r?r(n[a],e[a],a,n,e):void 0;l===void 0&&(l=e[a]),i?cX(n,a,l):uX(n,a,l)}return n}var Ec=dX,hX=Ec,fX=_c;function pX(e,t){return e&&hX(t,fX(t),e)}var mX=pX;function gX(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var vX=gX,yX=ri,_X=zw,wX=vX,EX=Object.prototype,SX=EX.hasOwnProperty;function TX(e){if(!yX(e))return wX(e);var t=_X(e),n=[];for(var r in e)r=="constructor"&&(t||!SX.call(e,r))||n.push(r);return n}var IX=TX,AX=ck,RX=IX,PX=pc;function CX(e){return PX(e)?AX(e,!0):RX(e)}var Ap=CX,bX=Ec,DX=Ap;function kX(e,t){return e&&bX(t,DX(t),e)}var xX=kX,Kh={exports:{}};Kh.exports;(function(e,t){var n=_r,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===r,o=s?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var d=u.length,h=a?a(d):new u.constructor(d);return u.copy(h),h}e.exports=l})(Kh,Kh.exports);var OX=Kh.exports;function NX(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var MX=NX,$X=Ec,LX=Vw;function FX(e,t){return $X(e,LX(e),t)}var VX=FX,jX=dk,UX=jX(Object.getPrototypeOf,Object),Rp=UX,BX=Fw,zX=Rp,WX=Vw,HX=lk,YX=Object.getOwnPropertySymbols,qX=YX?function(e){for(var t=[];e;)BX(t,WX(e)),e=zX(e);return t}:HX,Dk=qX,GX=Ec,KX=Dk;function QX(e,t){return GX(e,KX(e),t)}var XX=QX,JX=ak,ZX=Dk,eJ=Ap;function tJ(e){return JX(e,eJ,ZX)}var kk=tJ,nJ=Object.prototype,rJ=nJ.hasOwnProperty;function iJ(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&rJ.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var sJ=iJ,B1=ok;function oJ(e){var t=new e.constructor(e.byteLength);return new B1(t).set(new B1(e)),t}var Qw=oJ,aJ=Qw;function lJ(e,t){var n=t?aJ(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var uJ=lJ,cJ=/\w*$/;function dJ(e){var t=new e.constructor(e.source,cJ.exec(e));return t.lastIndex=e.lastIndex,t}var hJ=dJ,z1=Pa,W1=z1?z1.prototype:void 0,H1=W1?W1.valueOf:void 0;function fJ(e){return H1?Object(H1.call(e)):{}}var pJ=fJ,mJ=Qw;function gJ(e,t){var n=t?mJ(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var vJ=gJ,yJ=Qw,_J=uJ,wJ=hJ,EJ=pJ,SJ=vJ,TJ="[object Boolean]",IJ="[object Date]",AJ="[object Map]",RJ="[object Number]",PJ="[object RegExp]",CJ="[object Set]",bJ="[object String]",DJ="[object Symbol]",kJ="[object ArrayBuffer]",xJ="[object DataView]",OJ="[object Float32Array]",NJ="[object Float64Array]",MJ="[object Int8Array]",$J="[object Int16Array]",LJ="[object Int32Array]",FJ="[object Uint8Array]",VJ="[object Uint8ClampedArray]",jJ="[object Uint16Array]",UJ="[object Uint32Array]";function BJ(e,t,n){var r=e.constructor;switch(t){case kJ:return yJ(e);case TJ:case IJ:return new r(+e);case xJ:return _J(e,n);case OJ:case NJ:case MJ:case $J:case LJ:case FJ:case VJ:case jJ:case UJ:return SJ(e,n);case AJ:return new r;case RJ:case bJ:return new r(e);case PJ:return wJ(e);case CJ:return new r;case DJ:return EJ(e)}}var zJ=BJ,WJ=ri,Y1=Object.create,HJ=function(){function e(){}return function(t){if(!WJ(t))return{};if(Y1)return Y1(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),xk=HJ,YJ=xk,qJ=Rp,GJ=zw;function KJ(e){return typeof e.constructor=="function"&&!GJ(e)?YJ(qJ(e)):{}}var QJ=KJ,XJ=wp,JJ=ts,ZJ="[object Map]";function eZ(e){return JJ(e)&&XJ(e)==ZJ}var tZ=eZ,nZ=tZ,rZ=_p,q1=Uw,G1=q1&&q1.isMap,iZ=G1?rZ(G1):nZ,sZ=iZ,oZ=wp,aZ=ts,lZ="[object Set]";function uZ(e){return aZ(e)&&oZ(e)==lZ}var cZ=uZ,dZ=cZ,hZ=_p,K1=Uw,Q1=K1&&K1.isSet,fZ=Q1?hZ(Q1):dZ,pZ=fZ,mZ=Lw,gZ=Ck,vZ=bk,yZ=mX,_Z=xX,wZ=OX,EZ=MX,SZ=VX,TZ=XX,IZ=hk,AZ=kk,RZ=wp,PZ=sJ,CZ=zJ,bZ=QJ,DZ=Dn,kZ=yp,xZ=sZ,OZ=ri,NZ=pZ,MZ=_c,$Z=Ap,LZ=1,FZ=2,VZ=4,Ok="[object Arguments]",jZ="[object Array]",UZ="[object Boolean]",BZ="[object Date]",zZ="[object Error]",Nk="[object Function]",WZ="[object GeneratorFunction]",HZ="[object Map]",YZ="[object Number]",Mk="[object Object]",qZ="[object RegExp]",GZ="[object Set]",KZ="[object String]",QZ="[object Symbol]",XZ="[object WeakMap]",JZ="[object ArrayBuffer]",ZZ="[object DataView]",eee="[object Float32Array]",tee="[object Float64Array]",nee="[object Int8Array]",ree="[object Int16Array]",iee="[object Int32Array]",see="[object Uint8Array]",oee="[object Uint8ClampedArray]",aee="[object Uint16Array]",lee="[object Uint32Array]",be={};be[Ok]=be[jZ]=be[JZ]=be[ZZ]=be[UZ]=be[BZ]=be[eee]=be[tee]=be[nee]=be[ree]=be[iee]=be[HZ]=be[YZ]=be[Mk]=be[qZ]=be[GZ]=be[KZ]=be[QZ]=be[see]=be[oee]=be[aee]=be[lee]=!0;be[zZ]=be[Nk]=be[XZ]=!1;function Md(e,t,n,r,i,s){var o,a=t&LZ,l=t&FZ,u=t&VZ;if(n&&(o=i?n(e,r,i,s):n(e)),o!==void 0)return o;if(!OZ(e))return e;var c=DZ(e);if(c){if(o=PZ(e),!a)return EZ(e,o)}else{var d=RZ(e),h=d==Nk||d==WZ;if(kZ(e))return wZ(e,a);if(d==Mk||d==Ok||h&&!i){if(o=l||h?{}:bZ(e),!a)return l?TZ(e,_Z(o,e)):SZ(e,yZ(o,e))}else{if(!be[d])return i?e:{};o=CZ(e,d,a)}}s||(s=new mZ);var f=s.get(e);if(f)return f;s.set(e,o),NZ(e)?e.forEach(function(y){o.add(Md(y,t,n,y,e,s))}):xZ(e)&&e.forEach(function(y,g){o.set(g,Md(y,t,n,g,e,s))});var m=u?l?AZ:IZ:l?$Z:MZ,p=c?void 0:m(e);return gZ(p||e,function(y,g){p&&(g=y,y=e[g]),vZ(o,g,Md(y,t,n,g,e,s))}),o}var uee=Md;function cee(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var dee=cee,hee=Sp,fee=VD;function pee(e,t){return t.length<2?e:hee(e,fee(t,0,-1))}var mee=pee,gee=Ep,vee=dee,yee=mee,_ee=wc;function wee(e,t){return t=gee(t,e),e=yee(e,t),e==null||delete e[_ee(vee(t))]}var Eee=wee,See=Ca,Tee=Rp,Iee=ts,Aee="[object Object]",Ree=Function.prototype,Pee=Object.prototype,$k=Ree.toString,Cee=Pee.hasOwnProperty,bee=$k.call(Object);function Dee(e){if(!Iee(e)||See(e)!=Aee)return!1;var t=Tee(e);if(t===null)return!0;var n=Cee.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&$k.call(n)==bee}var kee=Dee,xee=kee;function Oee(e){return xee(e)?void 0:e}var Nee=Oee,Mee=Sk;function $ee(e){var t=e==null?0:e.length;return t?Mee(e,1):[]}var Lee=$ee,Fee=Lee,Vee=Tk,jee=Ak;function Uee(e){return jee(Vee(e,void 0,Fee),e+"")}var Bee=Uee,zee=qw,Wee=uee,Hee=Eee,Yee=Ep,qee=Ec,Gee=Nee,Kee=Bee,Qee=kk,Xee=1,Jee=2,Zee=4,ete=Kee(function(e,t){var n={};if(e==null)return n;var r=!1;t=zee(t,function(s){return s=Yee(s,e),r||(r=s.length>1),s}),qee(e,Qee(e),n),r&&(n=Wee(n,Xee|Jee|Zee,Gee));for(var i=t.length;i--;)Hee(n,t[i]);return n}),tte=ete;const nte=on(tte);var rte=Rk,ite=fc,ste=hp,ote=Ap,Lk=Object.prototype,ate=Lk.hasOwnProperty,lte=rte(function(e,t){e=Object(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&ste(t[0],t[1],i)&&(r=1);++n<r;)for(var s=t[n],o=ote(s),a=-1,l=o.length;++a<l;){var u=o[a],c=e[u];(c===void 0||ite(c,Lk[u])&&!ate.call(e,u))&&(e[u]=s[u])}return e}),ute=lte;const cte=on(ute);var dte=Ck,hte=xk,fte=Gw,pte=Ip,mte=Rp,gte=Dn,vte=yp,yte=Ew,_te=ri,wte=Bw;function Ete(e,t,n){var r=gte(e),i=r||vte(e)||wte(e);if(t=pte(t),n==null){var s=e&&e.constructor;i?n=r?new s:[]:_te(e)?n=yte(s)?hte(mte(e)):{}:n={}}return(i?dte:fte)(e,function(o,a,l){return t(n,o,a,l)}),n}var Ste=Ete;const Tte=on(Ste);var Ite=Kw,Ate=Gw,Rte=Ip;function Pte(e,t){var n={};return t=Rte(t),Ate(e,function(r,i,s){Ite(n,i,t(r,i,s))}),n}var Cte=Pte;const bte=on(Cte);var Dte={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Fn,function(){return function(n,r,i){r.prototype.isBetween=function(s,o,a,l){var u=i(s),c=i(o),d=(l=l||"()")[0]==="(",h=l[1]===")";return(d?this.isAfter(u,a):!this.isBefore(u,a))&&(h?this.isBefore(c,a):!this.isAfter(c,a))||(d?this.isBefore(u,a):!this.isAfter(u,a))&&(h?this.isAfter(c,a):!this.isBefore(c,a))}}})})(Dte);var kte={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Fn,function(){return function(n,r){r.prototype.isSameOrAfter=function(i,s){return this.isSame(i,s)||this.isAfter(i,s)}}})})(kte);var xte={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Fn,function(){return function(n,r){r.prototype.isSameOrBefore=function(i,s){return this.isSame(i,s)||this.isBefore(i,s)}}})})(xte);var Ote={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Fn,function(){return function(n,r,i){var s=r.prototype,o=function(d){return d&&(d.indexOf?d:d.s)},a=function(d,h,f,m,p){var y=d.name?d:d.$locale(),g=o(y[h]),v=o(y[f]),w=g||v.map(function(S){return S.slice(0,m)});if(!p)return w;var E=y.weekStart;return w.map(function(S,T){return w[(T+(E||0))%7]})},l=function(){return i.Ls[i.locale()]},u=function(d,h){return d.formats[h]||function(f){return f.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(m,p,y){return p||y.slice(1)})}(d.formats[h.toUpperCase()])},c=function(){var d=this;return{months:function(h){return h?h.format("MMMM"):a(d,"months")},monthsShort:function(h){return h?h.format("MMM"):a(d,"monthsShort","months",3)},firstDayOfWeek:function(){return d.$locale().weekStart||0},weekdays:function(h){return h?h.format("dddd"):a(d,"weekdays")},weekdaysMin:function(h){return h?h.format("dd"):a(d,"weekdaysMin","weekdays",2)},weekdaysShort:function(h){return h?h.format("ddd"):a(d,"weekdaysShort","weekdays",3)},longDateFormat:function(h){return u(d.$locale(),h)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};s.localeData=function(){return c.bind(this)()},i.localeData=function(){var d=l();return{firstDayOfWeek:function(){return d.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(h){return u(d,h)},meridiem:d.meridiem,ordinal:d.ordinal}},i.months=function(){return a(l(),"months")},i.monthsShort=function(){return a(l(),"monthsShort","months",3)},i.weekdays=function(d){return a(l(),"weekdays",null,null,d)},i.weekdaysShort=function(d){return a(l(),"weekdaysShort","weekdays",3,d)},i.weekdaysMin=function(d){return a(l(),"weekdaysMin","weekdays",2,d)}}})})(Ote);var Nte={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Fn,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,i,s){var o=i.prototype,a=o.format;s.en.formats=n,o.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var u=this.$locale().formats,c=function(d,h){return d.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(f,m,p){var y=p&&p.toUpperCase();return m||h[p]||n[p]||h[y].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(g,v,w){return v||w.slice(1)})})}(l,u===void 0?{}:u);return a.call(this,c)}}})})(Nte);var Mte={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Fn,function(){return function(n,r,i){var s=function(o,a){if(!a||!a.length||a.length===1&&!a[0]||a.length===1&&Array.isArray(a[0])&&!a[0].length)return null;var l;a.length===1&&a[0].length>0&&(a=a[0]),l=(a=a.filter(function(c){return c}))[0];for(var u=1;u<a.length;u+=1)a[u].isValid()&&!a[u][o](l)||(l=a[u]);return l};i.max=function(){var o=[].slice.call(arguments,0);return s("isAfter",o)},i.min=function(){var o=[].slice.call(arguments,0);return s("isBefore",o)}}})})(Mte);var $te={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Fn,function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(s,o,a){var l=o.prototype;a.utc=function(p){var y={date:p,utc:!0,args:arguments};return new o(y)},l.utc=function(p){var y=a(this.toDate(),{locale:this.$L,utc:!0});return p?y.add(this.utcOffset(),n):y},l.local=function(){return a(this.toDate(),{locale:this.$L,utc:!1})};var u=l.parse;l.parse=function(p){p.utc&&(this.$u=!0),this.$utils().u(p.$offset)||(this.$offset=p.$offset),u.call(this,p)};var c=l.init;l.init=function(){if(this.$u){var p=this.$d;this.$y=p.getUTCFullYear(),this.$M=p.getUTCMonth(),this.$D=p.getUTCDate(),this.$W=p.getUTCDay(),this.$H=p.getUTCHours(),this.$m=p.getUTCMinutes(),this.$s=p.getUTCSeconds(),this.$ms=p.getUTCMilliseconds()}else c.call(this)};var d=l.utcOffset;l.utcOffset=function(p,y){var g=this.$utils().u;if(g(p))return this.$u?0:g(this.$offset)?d.call(this):this.$offset;if(typeof p=="string"&&(p=function(S){S===void 0&&(S="");var T=S.match(r);if(!T)return null;var I=(""+T[0]).match(i)||["-",0,0],P=I[0],k=60*+I[1]+ +I[2];return k===0?0:P==="+"?k:-k}(p),p===null))return this;var v=Math.abs(p)<=16?60*p:p,w=this;if(y)return w.$offset=v,w.$u=p===0,w;if(p!==0){var E=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(w=this.local().add(v+E,n)).$offset=v,w.$x.$localOffset=E}else w=this.utc();return w};var h=l.format;l.format=function(p){var y=p||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return h.call(this,y)},l.valueOf=function(){var p=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*p},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var f=l.toDate;l.toDate=function(p){return p==="s"&&this.$offset?a(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():f.call(this)};var m=l.diff;l.diff=function(p,y,g){if(p&&this.$u===p.$u)return m.call(this,p,y,g);var v=this.local(),w=a(p).local();return m.call(v,w,y,g)}}})})($te);function Ir(e){return e.children}var sn={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},Ut={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},X1=Object.keys(Ut).map(function(e){return Ut[e]});F.oneOfType([F.string,F.func]);F.any;F.func;F.oneOfType([F.arrayOf(F.oneOf(X1)),F.objectOf(function(e,t){var n=X1.indexOf(t)!==-1&&typeof e[t]=="boolean";if(n)return null;for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];return F.elementType.apply(F,[e,t].concat(i))})]);F.oneOfType([F.oneOf(["overlap","no-overlap"]),F.func]);function je(e,t){e&&e.apply(null,[].concat(t))}var J1={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function Fk(e,t){var n=At(e,"month");return At(n,"week",t.startOfWeek())}function Vk(e,t){var n=zh(e,"month");return zh(n,"week",t.startOfWeek())}function Lte(e,t){for(var n=Fk(e,t),r=Vk(e,t),i=[];Aa(n,r,"day");)i.push(n),n=Yn(n,1,"day");return i}function Fte(e,t){var n=At(e,t);return dc(n,e)?n:Yn(n,1,t)}function Vte(e,t){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",r=e,i=[];Aa(r,t,n);)i.push(r),r=Yn(r,1,n);return i}function jte(e,t){return t==null&&e==null?null:(t==null&&(t=new Date),e==null&&(e=new Date),e=At(e,"day"),e=Iu(e,Iu(t)),e=oa(e,oa(t)),e=Tu(e,Tu(t)),Su(e,Su(t)))}function Z1(e){return Iu(e)===0&&oa(e)===0&&Tu(e)===0&&Su(e)===0}function Ute(e,t,n,r){return n==="day"&&(n="date"),Math.abs(MT[n](e,void 0,r)-MT[n](t,void 0,r))}function Xw(e,t,n){return!n||n==="milliseconds"?Math.abs(+e-+t):Math.round(Math.abs(+At(e,n)/J1[n]-+At(t,n)/J1[n]))}var Bte=F.oneOfType([F.string,F.func]);function zte(e,t,n,r,i){var s=typeof r=="function"?r(n,i,e):t.call(e,n,r,i);return gu(s==null||typeof s=="string","`localizer format(..)` must return a string, null, or undefined"),s}function Wte(e,t,n){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+n,0,0)}function Jw(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function Hte(e,t){return Xw(e,t,"minutes")+Jw(e,t)}function Yte(e){var t=At(e,"day");return Xw(t,e,"minutes")+Jw(t,e)}function qte(e,t){return ww(e,t,"day")}function Gte(e,t,n){var r=dc(e,t,"minutes");return r?hc(t,n,"minutes"):dp(t,n,"minutes")}function Yv(e,t){return Ute(e,t,"day")}function Kte(e){var t=e.evtA,n=t.start,r=t.end,i=t.allDay,s=e.evtB,o=s.start,a=s.end,l=s.allDay,u=+At(n,"day")-+At(o,"day"),c=Yv(n,r),d=Yv(o,a);return u||d-c||!!l-!!i||+n-+o||+r-+a}function Qte(e){var t=e.event,n=t.start,r=t.end,i=e.range,s=i.start,o=i.end,a=At(n,"day"),l=Aa(a,o,"day"),u=_w(a,r,"minutes"),c=u?dp(r,s,"minutes"):hc(r,s,"minutes");return l&&c}function Xte(e,t){return dc(e,t,"day")}function Jte(e,t){return Z1(e)&&Z1(t)}var Zte=mt(function e(t){var n=this;pt(this,e),gu(typeof t.format=="function","date localizer `format(..)` must be a function"),gu(typeof t.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||Bte,this.formats=t.formats,this.format=function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return zte.apply(void 0,[n,t.format].concat(i))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||jte,this.inRange=t.inRange||ND,this.lt=t.lt||ww,this.lte=t.lte||Aa,this.gt=t.gt||dp,this.gte=t.gte||hc,this.eq=t.eq||dc,this.neq=t.neq||_w,this.startOf=t.startOf||At,this.endOf=t.endOf||zh,this.add=t.add||Yn,this.range=t.range||Vte,this.diff=t.diff||Xw,this.ceil=t.ceil||Fte,this.min=t.min||xD,this.max=t.max||OD,this.minutes=t.minutes||oa,this.daySpan=t.daySpan||Yv,this.firstVisibleDay=t.firstVisibleDay||Fk,this.lastVisibleDay=t.lastVisibleDay||Vk,this.visibleDays=t.visibleDays||Lte,this.getSlotDate=t.getSlotDate||Wte,this.getTimezoneOffset=t.getTimezoneOffset||function(r){return r.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||Jw,this.getTotalMin=t.getTotalMin||Hte,this.getMinutesFromMidnight=t.getMinutesFromMidnight||Yte,this.continuesPrior=t.continuesPrior||qte,this.continuesAfter=t.continuesAfter||Gte,this.sortEvents=t.sortEvents||Kte,this.inEventRange=t.inEventRange||Qte,this.isSameDate=t.isSameDate||Xte,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||Jte,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function ene(e,t,n,r){var i=Ce(Ce({},e.formats),n);return Ce(Ce({},e),{},{messages:r,startOfWeek:function(){return e.startOfWeek(t)},format:function(o,a){return e.format(o,i[a]||a,t)}})}var tne={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(t){return"+".concat(t," more")}};function nne(e){return Ce(Ce({},tne),e)}function rne(e){var t=e.ref,n=e.callback;A.useEffect(function(){var r=function(s){t.current&&!t.current.contains(s.target)&&n()};return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[t,n])}var ine=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],jk=function(e){qt(t,e);function t(){return pt(this,t),Yt(this,t,arguments)}return mt(t,[{key:"render",value:function(){var r=this.props,i=r.style,s=r.className,o=r.event,a=r.selected,l=r.isAllDay,u=r.onSelect,c=r.onDoubleClick,d=r.onKeyPress,h=r.localizer,f=r.continuesPrior,m=r.continuesAfter,p=r.accessors,y=r.getters,g=r.children,v=r.components,w=v.event,E=v.eventWrapper,S=r.slotStart,T=r.slotEnd,I=gr(r,ine);delete I.resizable;var P=p.title(o),k=p.tooltip(o),C=p.end(o),N=p.start(o),j=p.allDay(o),Y=l||j||h.diff(N,h.ceil(C,"day"),"day")>1,ve=y.eventProp(o,N,C,a),_e=R.createElement("div",{className:"rbc-event-content",title:k||void 0},w?R.createElement(w,{event:o,continuesPrior:f,continuesAfter:m,title:P,isAllDay:j,localizer:h,slotStart:S,slotEnd:T}):P);return R.createElement(E,Object.assign({},this.props,{type:"date"}),R.createElement("div",Object.assign({},I,{style:Ce(Ce({},ve.style),i),className:at("rbc-event",s,ve.className,{"rbc-selected":a,"rbc-event-allday":Y,"rbc-event-continues-prior":f,"rbc-event-continues-after":m}),onClick:function(fe){return u&&u(o,fe)},onDoubleClick:function(fe){return c&&c(o,fe)},onKeyDown:function(fe){return d&&d(o,fe)}}),typeof g=="function"?g(_e):_e))}}]),t}(R.Component);function Pp(e,t){return!e||t==null?!1:S8(e,t)}function Uk(e,t){var n=e.right-e.left,r=n/t;return r}function Bk(e,t,n,r){var i=Uk(e,r);return n?r-1-Math.floor((t-e.left)/i):Math.floor((t-e.left)/i)}function sne(e,t){var n=t.x,r=t.y;return r>=e.top&&r<=e.bottom&&n>=e.left&&n<=e.right}function one(e,t,n,r,i){var s=-1,o=-1,a=r-1,l=Uk(t,r),u=Bk(t,n.x,i,r),c=t.top<n.y&&t.bottom>n.y,d=t.top<e.y&&t.bottom>e.y,h=e.y>t.bottom,f=t.top>e.y,m=n.top<t.top&&n.bottom>t.bottom;return m&&(s=0,o=a),c&&(f?(s=0,o=u):h&&(s=u,o=a)),d&&(s=o=i?a-Math.floor((e.x-t.left)/l):Math.floor((e.x-t.left)/l),c?u<s?s=u:o=u:e.y<n.y?o=a:s=0),{startIdx:s,endIdx:o}}function ane(e){var t=e.target,n=e.offset,r=e.container,i=e.box,s=Ts(t),o=s.top,a=s.left,l=s.width,u=s.height,c=Ts(r),d=c.top,h=c.left,f=c.width,m=c.height,p=Ts(i),y=p.width,g=p.height,v=d+m,w=h+f,E=o+g,S=a+y,T=n.x,I=n.y,P=E>v?o-g-I:o+I+u,k=S>w?a+T-y+l:a+T;return{topOffset:P,leftOffset:k}}function lne(e){var t=e.containerRef,n=e.accessors,r=e.getters,i=e.selected,s=e.components,o=e.localizer,a=e.position,l=e.show,u=e.events,c=e.slotStart,d=e.slotEnd,h=e.onSelect,f=e.onDoubleClick,m=e.onKeyPress,p=e.handleDragStart,y=e.popperRef,g=e.target,v=e.offset;rne({ref:y,callback:l}),A.useLayoutEffect(function(){var S=ane({target:g,offset:v,container:t.current,box:y.current}),T=S.topOffset,I=S.leftOffset;y.current.style.top="".concat(T,"px"),y.current.style.left="".concat(I,"px")},[v.x,v.y,g]);var w=a.width,E={minWidth:w+w/2};return R.createElement("div",{style:E,className:"rbc-overlay",ref:y},R.createElement("div",{className:"rbc-overlay-header"},o.format(c,"dayHeaderFormat")),u.map(function(S,T){return R.createElement(jk,{key:T,type:"popup",localizer:o,event:S,getters:r,onSelect:h,accessors:n,components:s,onDoubleClick:f,onKeyPress:m,continuesPrior:o.lt(n.end(S),c,"day"),continuesAfter:o.gte(n.start(S),d,"day"),slotStart:c,slotEnd:d,selected:Pp(S,i),draggable:!0,onDragStart:function(){return p(S)},onDragEnd:function(){return l()}})}))}var zk=R.forwardRef(function(e,t){return R.createElement(lne,Object.assign({},e,{popperRef:t}))});zk.propTypes={accessors:F.object.isRequired,getters:F.object.isRequired,selected:F.object,components:F.object.isRequired,localizer:F.object.isRequired,position:F.object.isRequired,show:F.func.isRequired,events:F.array.isRequired,slotStart:F.instanceOf(Date).isRequired,slotEnd:F.instanceOf(Date),onSelect:F.func,onDoubleClick:F.func,onKeyPress:F.func,handleDragStart:F.func,style:F.object,offset:F.shape({x:F.number,y:F.number})};function une(e){var t=e.containerRef,n=e.popupOffset,r=n===void 0?5:n,i=e.overlay,s=e.accessors,o=e.localizer,a=e.components,l=e.getters,u=e.selected,c=e.handleSelectEvent,d=e.handleDoubleClickEvent,h=e.handleKeyPressEvent,f=e.handleDragStart,m=e.onHide,p=e.overlayDisplay,y=A.useRef(null);if(!i.position)return null;var g=r;isNaN(r)||(g={x:r,y:r});var v=i.position,w=i.events,E=i.date,S=i.end;return R.createElement(K6,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:m,target:i.target},function(T){var I=T.props;return R.createElement(zk,Object.assign({},I,{containerRef:t,ref:y,target:i.target,offset:g,accessors:s,getters:l,selected:u,components:a,localizer:o,position:v,show:p,events:w,slotStart:E,slotEnd:S,onSelect:c,onDoubleClick:d,onKeyPress:h,handleDragStart:f}))})}var Zw=R.forwardRef(function(e,t){return R.createElement(une,Object.assign({},e,{containerRef:t}))});Zw.propTypes={popupOffset:F.oneOfType([F.number,F.shape({x:F.number,y:F.number})]),overlay:F.shape({position:F.object,events:F.array,date:F.instanceOf(Date),end:F.instanceOf(Date)}),accessors:F.object.isRequired,localizer:F.object.isRequired,components:F.object.isRequired,getters:F.object.isRequired,selected:F.object,handleSelectEvent:F.func,handleDoubleClickEvent:F.func,handleKeyPressEvent:F.func,handleDragStart:F.func,onHide:F.func,overlayDisplay:F.func};function bt(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return fl(n,e,t,{passive:!1})}function cne(e,t,n){return!e||Au(e,document.elementFromPoint(t,n))}function dne(e,t){var n=t.clientX,r=t.clientY,i=document.elementFromPoint(n,r);return mk(i,".rbc-event",e)}function hne(e,t){var n=t.clientX,r=t.clientY,i=document.elementFromPoint(n,r);return mk(i,".rbc-show-more",e)}function Qh(e,t){return!!dne(e,t)}function fne(e,t){return!!hne(e,t)}function Za(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var eI=5,pne=250,Wk=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.global,i=r===void 0?!1:r,s=n.longPressThreshold,o=s===void 0?250:s,a=n.validContainers,l=a===void 0?[]:a;pt(this,e),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=t,this.globalMouse=!t||i,this.longPressThreshold=o,this.validContainers=l,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=bt("touchmove",function(){},window),this._removeKeyDownListener=bt("keydown",this._keyListener),this._removeKeyUpListener=bt("keyup",this._keyListener),this._removeDropFromOutsideListener=bt("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=bt("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return mt(e,[{key:"on",value:function(n,r){var i=this._listeners[n]||(this._listeners[n]=[]);return i.push(r),{remove:function(){var o=i.indexOf(r);o!==-1&&i.splice(o,1)}}}},{key:"emit",value:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];var o,a=this._listeners[n]||[];return a.forEach(function(l){o===void 0&&(o=l.apply(void 0,i))}),o}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(n){var r=this._selectRect;return!r||!this.selecting?!1:tI(r,Ws(n))}},{key:"filter",value:function(n){var r=this._selectRect;return!r||!this.selecting?[]:n.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(n,r){var i=this,s=null,o=null,a=null,l=function(h){s=setTimeout(function(){c(),n(h)},i.longPressThreshold),o=bt("touchmove",function(){return c()}),a=bt("touchend",function(){return c()})},u=bt("touchstart",l),c=function(){s&&clearTimeout(s),o&&o(),a&&a(),s=null,o=null,a=null};return r&&l(r),function(){c(),u()}}},{key:"_addInitialEventListener",value:function(){var n=this,r=bt("mousedown",function(s){n._removeInitialEventListener(),n._handleInitialEvent(s),n._removeInitialEventListener=bt("mousedown",n._handleInitialEvent)}),i=bt("touchstart",function(s){n._removeInitialEventListener(),n._removeInitialEventListener=n._addLongPressListener(n._handleInitialEvent,s)});this._removeInitialEventListener=function(){r(),i()}}},{key:"_dropFromOutsideListener",value:function(n){var r=Za(n),i=r.pageX,s=r.pageY,o=r.clientX,a=r.clientY;this.emit("dropFromOutside",{x:i,y:s,clientX:o,clientY:a}),n.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(n){var r=Za(n),i=r.pageX,s=r.pageY,o=r.clientX,a=r.clientY;this.emit("dragOverFromOutside",{x:i,y:s,clientX:o,clientY:a}),n.preventDefault()}},{key:"_handleInitialEvent",value:function(n){if(this._initialEvent=n,!this.isDetached){var r=Za(n),i=r.clientX,s=r.clientY,o=r.pageX,a=r.pageY,l=this.container(),u,c;if(!(n.which===3||n.button===2||!cne(l,i,s))){if(!this.globalMouse&&l&&!Au(l,n.target)){var d=mne(0),h=d.top,f=d.left,m=d.bottom,p=d.right;if(c=Ws(l),u=tI({top:c.top-h,left:c.left-f,bottom:c.bottom+m,right:c.right+p},{top:a,left:o}),!u)return}var y=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(n.type),x:o,y:a,clientX:i,clientY:s});if(y!==!1)switch(n.type){case"mousedown":this._removeEndListener=bt("mouseup",this._handleTerminatingEvent),this._onEscListener=bt("keydown",this._handleTerminatingEvent),this._removeMoveListener=bt("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(n),this._removeEndListener=bt("touchend",this._handleTerminatingEvent),this._removeMoveListener=bt("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(n){var r=n.target,i=this.validContainers;return!i||!i.length||!r?!0:i.some(function(s){return!!r.closest(s)})}},{key:"_handleTerminatingEvent",value:function(n){var r=this.selecting,i=this._selectRect;if(!r&&n.type.includes("key")&&(n=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,this._lastClickData=null,!!n){var s=!this.container||Au(this.container(),n.target),o=this._isWithinValidContainer(n);return n.key==="Escape"||!o?this.emit("reset"):!r&&s?this._handleClickEvent(n):r?this.emit("select",i):this.emit("reset")}}},{key:"_handleClickEvent",value:function(n){var r=Za(n),i=r.pageX,s=r.pageY,o=r.clientX,a=r.clientY,l=new Date().getTime();return this._lastClickData&&l-this._lastClickData.timestamp<pne?(this._lastClickData=null,this.emit("doubleClick",{x:i,y:s,clientX:o,clientY:a})):(this._lastClickData={timestamp:l},this.emit("click",{x:i,y:s,clientX:o,clientY:a}))}},{key:"_handleMoveEvent",value:function(n){if(!(this._initialEventData===null||this.isDetached)){var r=this._initialEventData,i=r.x,s=r.y,o=Za(n),a=o.pageX,l=o.pageY,u=Math.abs(i-a),c=Math.abs(s-l),d=Math.min(a,i),h=Math.min(l,s),f=this.selecting,m=this.isClick(a,l);m&&!f&&!(u||c)||(!f&&!m&&this.emit("selectStart",this._initialEventData),m||(this.selecting=!0,this._selectRect={top:h,left:d,x:a,y:l,right:d+u,bottom:h+c},this.emit("selecting",this._selectRect)),n.preventDefault())}}},{key:"_keyListener",value:function(n){this.ctrl=n.metaKey||n.ctrlKey}},{key:"isClick",value:function(n,r){var i=this._initialEventData,s=i.x,o=i.y,a=i.isTouch;return!a&&Math.abs(n-s)<=eI&&Math.abs(r-o)<=eI}}]),e}();function mne(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return Kr(e)!=="object"&&(e={top:e,left:e,right:e,bottom:e}),e}function tI(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=Ws(e),i=r.top,s=r.left,o=r.right,a=o===void 0?s:o,l=r.bottom,u=l===void 0?i:l,c=Ws(t),d=c.top,h=c.left,f=c.right,m=f===void 0?h:f,p=c.bottom,y=p===void 0?d:p;return!(u-n<d||i+n>y||a-n<h||s+n>m)}function Ws(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),n=t.left+nI("left"),r=t.top+nI("top");return{top:r,left:n,right:(e.offsetWidth||0)+n,bottom:(e.offsetHeight||0)+r}}function nI(e){if(e==="left")return window.pageXOffset||document.body.scrollLeft||0;if(e==="top")return window.pageYOffset||document.body.scrollTop||0}var gne=function(e){qt(t,e);function t(n,r){var i;return pt(this,t),i=Yt(this,t,[n,r]),i.state={selecting:!1},i.containerRef=A.createRef(),i}return mt(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(r){!r.selectable&&this.props.selectable&&this._selectable(),r.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var r=this.props,i=r.range,s=r.getNow,o=r.getters,a=r.date,l=r.components.dateCellWrapper,u=r.localizer,c=this.state,d=c.selecting,h=c.startIdx,f=c.endIdx,m=s();return R.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},i.map(function(p,y){var g=d&&y>=h&&y<=f,v=o.dayProp(p),w=v.className,E=v.style;return R.createElement(l,{key:y,value:p,range:i},R.createElement("div",{style:E,className:at("rbc-day-bg",w,g&&"rbc-selected-cell",u.isSameDate(p,m)&&"rbc-today",a&&u.neq(a,p,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var r=this,i=this.containerRef.current,s=this._selector=new Wk(this.props.container,{longPressThreshold:this.props.longPressThreshold}),o=function(l,u){if(!Qh(i,l)&&!fne(i,l)){var c=Ws(i),d=r.props,h=d.range,f=d.rtl;if(sne(c,l)){var m=Bk(c,l.x,f,h.length);r._selectSlot({startIdx:m,endIdx:m,action:u,box:l})}}r._initial={},r.setState({selecting:!1})};s.on("selecting",function(a){var l=r.props,u=l.range,c=l.rtl,d=-1,h=-1;if(r.state.selecting||(je(r.props.onSelectStart,[a]),r._initial={x:a.x,y:a.y}),s.isSelected(i)){var f=Ws(i),m=one(r._initial,f,a,u.length,c);d=m.startIdx,h=m.endIdx}r.setState({selecting:!0,startIdx:d,endIdx:h})}),s.on("beforeSelect",function(a){if(r.props.selectable==="ignoreEvents")return!Qh(r.containerRef.current,a)}),s.on("click",function(a){return o(a,"click")}),s.on("doubleClick",function(a){return o(a,"doubleClick")}),s.on("select",function(a){r._selectSlot(Ce(Ce({},r.state),{},{action:"select",bounds:a})),r._initial={},r.setState({selecting:!1}),je(r.props.onSelectEnd,[r.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(r){var i=r.endIdx,s=r.startIdx,o=r.action,a=r.bounds,l=r.box;i!==-1&&s!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:s,end:i,action:o,bounds:a,box:l,resourceId:this.props.resourceId})}}]),t}(R.Component),nr={propTypes:{slotMetrics:F.object.isRequired,selected:F.object,isAllDay:F.bool,accessors:F.object.isRequired,localizer:F.object.isRequired,components:F.object.isRequired,getters:F.object.isRequired,onSelect:F.func,onDoubleClick:F.func,onKeyPress:F.func},defaultProps:{segments:[],selected:{}},renderEvent:function(t,n){var r=t.selected;t.isAllDay;var i=t.accessors,s=t.getters,o=t.onSelect,a=t.onDoubleClick,l=t.onKeyPress,u=t.localizer,c=t.slotMetrics,d=t.components,h=t.resizable,f=c.continuesPrior(n),m=c.continuesAfter(n);return R.createElement(jk,{event:n,getters:s,localizer:u,accessors:i,components:d,onSelect:o,onDoubleClick:a,onKeyPress:l,continuesPrior:f,continuesAfter:m,slotStart:c.first,slotEnd:c.last,selected:Pp(n,r),resizable:h})},renderSpan:function(t,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",s=Math.abs(n)/t*100+"%";return R.createElement("div",{key:r,className:"rbc-row-segment",style:{WebkitFlexBasis:s,flexBasis:s,maxWidth:s}},i)}},Hk=function(e){qt(t,e);function t(){return pt(this,t),Yt(this,t,arguments)}return mt(t,[{key:"render",value:function(){var r=this,i=this.props,s=i.segments,o=i.slotMetrics.slots,a=i.className,l=1;return R.createElement("div",{className:at(a,"rbc-row")},s.reduce(function(u,c,d){var h=c.event,f=c.left,m=c.right,p=c.span,y="_lvl_"+d,g=f-l,v=nr.renderEvent(r.props,h);return g&&u.push(nr.renderSpan(o,g,"".concat(y,"_gap"))),u.push(nr.renderSpan(o,p,y,v)),l=m+1,u},[]))}}]),t}(R.Component);Hk.defaultProps=Ce({},nr.defaultProps);function Yk(e){var t=e.dateRange,n=e.unit,r=n===void 0?"day":n,i=e.localizer;return{first:t[0],last:i.add(t[t.length-1],1,r)}}function vne(e,t,n,r){var i=Yk({dateRange:t,localizer:r}),s=i.first,o=i.last,a=r.diff(s,o,"day"),l=r.max(r.startOf(n.start(e),"day"),s),u=r.min(r.ceil(n.end(e),"day"),o),c=TK(t,function(h){return r.isSameDate(h,l)}),d=r.diff(l,u,"day");return d=Math.min(d,a),d=Math.max(d-r.segmentOffset,1),{event:e,span:d,left:c+1,right:Math.max(c+d,1)}}function qk(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,n,r,i,s=[],o=[];for(n=0;n<e.length;n++){for(i=e[n],r=0;r<s.length&&yne(i,s[r]);r++);r>=t?o.push(i):(s[r]||(s[r]=[])).push(i)}for(n=0;n<s.length;n++)s[n].sort(function(a,l){return a.left-l.left});return{levels:s,extra:o}}function Cu(e,t,n,r,i){var s={start:r.start(e),end:r.end(e)},o={start:t,end:n};return i.inEventRange({event:s,range:o})}function yne(e,t){return t.some(function(n){return n.left<=e.right&&n.right>=e.left})}function _ne(e,t,n){var r=Od(e),i=[],s=[];r.forEach(function(l){var u=t.start(l),c=t.end(l);n.daySpan(u,c)>1?i.push(l):s.push(l)});var o=i.sort(function(l,u){return qv(l,u,t,n)}),a=s.sort(function(l,u){return qv(l,u,t,n)});return[].concat(Od(o),Od(a))}function qv(e,t,n,r){var i={start:n.start(e),end:n.end(e),allDay:n.allDay(e)},s={start:n.start(t),end:n.end(t),allDay:n.allDay(t)};return r.sortEvents({evtA:i,evtB:s})}var Gk=function(t,n){return t.left<=n&&t.right>=n},rI=function(t,n){return t.filter(function(r){return Gk(r,n)}).map(function(r){return r.event})},Kk=function(e){qt(t,e);function t(){return pt(this,t),Yt(this,t,arguments)}return mt(t,[{key:"render",value:function(){for(var r=this.props,i=r.segments,s=r.slotMetrics.slots,o=qk(i).levels[0],a=1,l=1,u=[];a<=s;){var c="_lvl_"+a,d=o.filter(function(v){return Gk(v,a)})[0]||{},h=d.event,f=d.left,m=d.right,p=d.span;if(!h){a++;continue}var y=Math.max(0,f-l);if(this.canRenderSlotEvent(f,p)){var g=nr.renderEvent(this.props,h);y&&u.push(nr.renderSpan(s,y,c+"_gap")),u.push(nr.renderSpan(s,p,c,g)),l=a=m+1}else y&&u.push(nr.renderSpan(s,y,c+"_gap")),u.push(nr.renderSpan(s,1,c,this.renderShowMore(i,a))),l=a=a+1}return R.createElement("div",{className:"rbc-row"},u)}},{key:"canRenderSlotEvent",value:function(r,i){var s=this.props.segments;return MK(r,r+i).every(function(o){var a=rI(s,o).length;return a===1})}},{key:"renderShowMore",value:function(r,i){var s=this,o=this.props,a=o.localizer,l=o.slotMetrics,u=l.getEventsForSlot(i),c=rI(r,i),d=c.length;return d?R.createElement("button",{type:"button",key:"sm_"+i,className:at("rbc-button-link","rbc-show-more"),onClick:function(f){return s.showMore(i,f)}},a.messages.showMore(d,c,u)):!1}},{key:"showMore",value:function(r,i){i.preventDefault(),i.stopPropagation(),this.props.onShowMore(r,i.target)}}]),t}(R.Component);Kk.defaultProps=Ce({},nr.defaultProps);var wne=function(t){var n=t.children;return R.createElement("div",{className:"rbc-row-content-scroll-container"},n)},Ene=function(t,n){return t.left<=n&&t.right>=n},Sne=function(t,n){return t[0].range===n[0].range&&t[0].events===n[0].events};function Qk(){return wk(function(e){for(var t=e.range,n=e.events,r=e.maxRows,i=e.minRows,s=e.accessors,o=e.localizer,a=Yk({dateRange:t,localizer:o}),l=a.first,u=a.last,c=n.map(function(p){return vne(p,t,s,o)}),d=qk(c,Math.max(r-1,1)),h=d.levels,f=d.extra,m=f.length>0?i-1:i;h.length<m;)h.push([]);return{first:l,last:u,levels:h,extra:f,range:t,slots:t.length,clone:function(y){var g=Qk();return g(Ce(Ce({},e),y))},getDateForSlot:function(y){return t[y]},getSlotForDate:function(y){return t.find(function(g){return o.isSameDate(g,y)})},getEventsForSlot:function(y){return c.filter(function(g){return Ene(g,y)}).map(function(g){return g.event})},continuesPrior:function(y){return o.continuesPrior(s.start(y),l)},continuesAfter:function(y){var g=s.start(y),v=s.end(y);return o.continuesAfter(g,v,u)}}},Sne)}var Xh=function(e){qt(t,e);function t(){var n;pt(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Yt(this,t,[].concat(i)),n.handleSelectSlot=function(o){var a=n.props,l=a.range,u=a.onSelectSlot;u(l.slice(o.start,o.end+1),o)},n.handleShowMore=function(o,a){var l=n.props,u=l.range,c=l.onShowMore,d=n.slotMetrics(n.props),h=wW(n.containerRef.current,".rbc-row-bg")[0],f;h&&(f=h.children[o-1]);var m=d.getEventsForSlot(o);c(m,u[o-1],f,o,a)},n.getContainer=function(){var o=n.props.container;return o?o():n.containerRef.current},n.renderHeadingCell=function(o,a){var l=n.props,u=l.renderHeader,c=l.getNow,d=l.localizer;return u({date:o,key:"header_".concat(a),className:at("rbc-date-cell",d.isSameDate(o,c())&&"rbc-now")})},n.renderDummy=function(){var o=n.props,a=o.className,l=o.range,u=o.renderHeader,c=o.showAllEvents;return R.createElement("div",{className:a,ref:n.containerRef},R.createElement("div",{className:at("rbc-row-content",c&&"rbc-row-content-scrollable")},u&&R.createElement("div",{className:"rbc-row",ref:n.headingRowRef},l.map(n.renderHeadingCell)),R.createElement("div",{className:"rbc-row",ref:n.eventRowRef},R.createElement("div",{className:"rbc-row-segment"},R.createElement("div",{className:"rbc-event"},R.createElement("div",{className:"rbc-event-content"},""))))))},n.containerRef=A.createRef(),n.headingRowRef=A.createRef(),n.eventRowRef=A.createRef(),n.slotMetrics=Qk(),n}return mt(t,[{key:"getRowLimit",value:function(){var r,i=Hm(this.eventRowRef.current),s=(r=this.headingRowRef)!==null&&r!==void 0&&r.current?Hm(this.headingRowRef.current):0,o=Hm(this.containerRef.current)-s;return Math.max(Math.floor(o/i),1)}},{key:"render",value:function(){var r=this.props,i=r.date,s=r.rtl,o=r.range,a=r.className,l=r.selected,u=r.selectable,c=r.renderForMeasure,d=r.accessors,h=r.getters,f=r.components,m=r.getNow,p=r.renderHeader,y=r.onSelect,g=r.localizer,v=r.onSelectStart,w=r.onSelectEnd,E=r.onDoubleClick,S=r.onKeyPress,T=r.resourceId,I=r.longPressThreshold,P=r.isAllDay,k=r.resizable,C=r.showAllEvents;if(c)return this.renderDummy();var N=this.slotMetrics(this.props),j=N.levels,Y=N.extra,ve=C?wne:Ir,_e=f.weekWrapper,ie={selected:l,accessors:d,getters:h,localizer:g,components:f,onSelect:y,onDoubleClick:E,onKeyPress:S,resourceId:T,slotMetrics:N,resizable:k};return R.createElement("div",{className:a,role:"rowgroup",ref:this.containerRef},R.createElement(gne,{localizer:g,date:i,getNow:m,rtl:s,range:o,selectable:u,container:this.getContainer,getters:h,onSelectStart:v,onSelectEnd:w,onSelectSlot:this.handleSelectSlot,components:f,longPressThreshold:I,resourceId:T}),R.createElement("div",{className:at("rbc-row-content",C&&"rbc-row-content-scrollable"),role:"row"},p&&R.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},o.map(this.renderHeadingCell)),R.createElement(ve,null,R.createElement(_e,Object.assign({isAllDay:P},ie,{rtl:this.props.rtl}),j.map(function(fe,V){return R.createElement(Hk,Object.assign({key:V,segments:fe},ie))}),!!Y.length&&R.createElement(Kk,Object.assign({segments:Y,onShowMore:this.handleShowMore},ie))))))}}]),t}(R.Component);Xh.defaultProps={minRows:0,maxRows:1/0};var Xk=function(t){var n=t.label;return R.createElement("span",{role:"columnheader","aria-sort":"none"},n)},Tne=function(t){var n=t.label,r=t.drilldownView,i=t.onDrillDown;return r?R.createElement("button",{type:"button",className:"rbc-button-link",onClick:i,role:"cell"},n):R.createElement("span",null,n)},Ine=["date","className"],Ane=function(t,n,r,i,s){return t.filter(function(o){return Cu(o,n,r,i,s)})},Cp=function(e){qt(t,e);function t(){var n;pt(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Yt(this,t,[].concat(i)),n.getContainer=function(){return n.containerRef.current},n.renderWeek=function(o,a){var l=n.props,u=l.events,c=l.components,d=l.selectable,h=l.getNow,f=l.selected,m=l.date,p=l.localizer,y=l.longPressThreshold,g=l.accessors,v=l.getters,w=l.showAllEvents,E=n.state,S=E.needLimitMeasure,T=E.rowLimit,I=Ane(Od(u),o[0],o[o.length-1],g,p),P=_ne(I,g,p);return R.createElement(Xh,{key:a,ref:a===0?n.slotRowRef:void 0,container:n.getContainer,className:"rbc-month-row",getNow:h,date:m,range:o,events:P,maxRows:w?1/0:T,selected:f,selectable:d,components:c,accessors:g,getters:v,localizer:p,renderHeader:n.readerDateHeading,renderForMeasure:S,onShowMore:n.handleShowMore,onSelect:n.handleSelectEvent,onDoubleClick:n.handleDoubleClickEvent,onKeyPress:n.handleKeyPressEvent,onSelectSlot:n.handleSelectSlot,longPressThreshold:y,rtl:n.props.rtl,resizable:n.props.resizable,showAllEvents:w})},n.readerDateHeading=function(o){var a=o.date,l=o.className,u=gr(o,Ine),c=n.props,d=c.date,h=c.getDrilldownView,f=c.localizer,m=f.neq(a,d,"month"),p=f.isSameDate(a,d),y=h(a),g=f.format(a,"dateFormat"),v=n.props.components.dateHeader||Tne;return R.createElement("div",Object.assign({},u,{className:at(l,m&&"rbc-off-range",p&&"rbc-current"),role:"cell"}),R.createElement(v,{label:g,date:a,drilldownView:y,isOffRange:m,onDrillDown:function(E){return n.handleHeadingClick(a,y,E)}}))},n.handleSelectSlot=function(o,a){n._pendingSelection=n._pendingSelection.concat(o),clearTimeout(n._selectTimer),n._selectTimer=setTimeout(function(){return n.selectDates(a)})},n.handleHeadingClick=function(o,a,l){l.preventDefault(),n.clearSelection(),je(n.props.onDrillDown,[o,a])},n.handleSelectEvent=function(){n.clearSelection();for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];je(n.props.onSelectEvent,a)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];je(n.props.onDoubleClickEvent,a)},n.handleKeyPressEvent=function(){n.clearSelection();for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];je(n.props.onKeyPressEvent,a)},n.handleShowMore=function(o,a,l,u,c){var d=n.props,h=d.popup,f=d.onDrillDown,m=d.onShowMore,p=d.getDrilldownView,y=d.doShowMoreDrillDown;if(n.clearSelection(),h){var g=qD(l,n.containerRef.current);n.setState({overlay:{date:a,events:o,position:g,target:c}})}else y&&je(f,[a,p(a)||Ut.DAY]);je(m,[o,a,u])},n.overlayDisplay=function(){n.setState({overlay:null})},n.state={rowLimit:5,needLimitMeasure:!0,date:null},n.containerRef=A.createRef(),n.slotRowRef=A.createRef(),n._bgRows=[],n._pendingSelection=[],n}return mt(t,[{key:"componentDidMount",value:function(){var r=this,i;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){i||GD(function(){i=!1,r.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var r=this.props,i=r.date,s=r.localizer,o=r.className,a=s.visibleDays(i,s),l=iW(a,7);return this._weekCount=l.length,R.createElement("div",{className:at("rbc-month-view",o),role:"table","aria-label":"Month View",ref:this.containerRef},R.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(l[0])),l.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(r){var i=this.props,s=i.localizer,o=i.components,a=r[0],l=r[r.length-1],u=o.header||Xk;return s.range(a,l,"day").map(function(c,d){return R.createElement("div",{key:"header_"+d,className:"rbc-header"},R.createElement(u,{date:c,localizer:s,label:s.format(c,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var r,i,s=this,o=(r=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&r!==void 0?r:{},a=this.props,l=a.accessors,u=a.localizer,c=a.components,d=a.getters,h=a.selected,f=a.popupOffset,m=a.handleDragStart,p=function(){return s.setState({overlay:null})};return R.createElement(Zw,{overlay:o,accessors:l,localizer:u,components:c,getters:d,selected:h,popupOffset:f,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:m,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:p})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(r){var i=this._pendingSelection.slice();this._pendingSelection=[],i.sort(function(a,l){return+a-+l});var s=new Date(i[0]),o=new Date(i[i.length-1]);o.setDate(i[i.length-1].getDate()+1),je(this.props.onSelectSlot,{slots:i,start:s,end:o,action:r.action,bounds:r.bounds,box:r.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(r,i){var s=r.date,o=r.localizer;return{date:s,needLimitMeasure:o.neq(s,i.date,"month")}}}]),t}(R.Component);Cp.range=function(e,t){var n=t.localizer,r=n.firstVisibleDay(e,n),i=n.lastVisibleDay(e,n);return{start:r,end:i}};Cp.navigate=function(e,t,n){var r=n.localizer;switch(t){case sn.PREVIOUS:return r.add(e,-1,"month");case sn.NEXT:return r.add(e,1,"month");default:return e}};Cp.title=function(e,t){var n=t.localizer;return n.format(e,"monthHeaderFormat")};var iI=function(t){var n=t.min,r=t.max,i=t.step,s=t.slots,o=t.localizer;return"".concat(+o.startOf(n,"minutes"))+"".concat(+o.startOf(r,"minutes"))+"".concat(i,"-").concat(s)};function e0(e){for(var t=e.min,n=e.max,r=e.step,i=e.timeslots,s=e.localizer,o=iI({start:t,end:n,step:r,timeslots:i,localizer:s}),a=1+s.getTotalMin(t,n),l=s.getMinutesFromMidnight(t),u=Math.ceil((a-1)/(r*i)),c=u*i,d=new Array(u),h=new Array(c),f=0;f<u;f++){d[f]=new Array(i);for(var m=0;m<i;m++){var p=f*i+m,y=p*r;h[p]=d[f][m]=s.getSlotDate(t,l,y)}}var g=h.length*r;h.push(s.getSlotDate(t,l,g));function v(w){var E=s.diff(t,w,"minutes")+s.getDstOffset(t,w);return Math.min(E,a)}return{groups:d,update:function(E){return iI(E)!==o?e0(E):this},dateIsInGroup:function(E,S){var T=d[S+1];return s.inRange(E,d[S][0],T?T[0]:n,"minutes")},nextSlot:function(E){var S=h[Math.min(h.findIndex(function(T){return T===E||s.eq(T,E)})+1,h.length-1)];return s.eq(S,E)&&(S=s.add(E,r,"minutes")),S},closestSlotToPosition:function(E){var S=Math.min(h.length-1,Math.max(0,Math.floor(E*c)));return h[S]},closestSlotFromPoint:function(E,S){var T=Math.abs(S.top-S.bottom);return this.closestSlotToPosition((E.y-S.top)/T)},closestSlotFromDate:function(E){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(s.lt(E,t,"minutes"))return h[0];if(s.gt(E,n,"minutes"))return h[h.length-1];var T=s.diff(t,E,"minutes");return h[(T-T%r)/r+S]},startsBeforeDay:function(E){return s.lt(E,t,"day")},startsAfterDay:function(E){return s.gt(E,n,"day")},startsBefore:function(E){return s.lt(s.merge(t,E),t,"minutes")},startsAfter:function(E){return s.gt(s.merge(n,E),n,"minutes")},getRange:function(E,S,T,I){T||(E=s.min(n,s.max(t,E))),I||(S=s.min(n,s.max(t,S)));var P=v(E),k=v(S),C=k>r*c&&!s.eq(n,S)?(P-r)/(r*c)*100:P/(r*c)*100;return{top:C,height:k/(r*c)*100-C,start:v(E),startDate:E,end:v(S),endDate:S}},getCurrentTimePosition:function(E){var S=v(E),T=S/(r*c)*100;return T}}}var Rne=function(){function e(t,n){var r=n.accessors,i=n.slotMetrics;pt(this,e);var s=i.getRange(r.start(t),r.end(t)),o=s.start,a=s.startDate,l=s.end,u=s.endDate,c=s.top,d=s.height;this.start=o,this.end=l,this.startMs=+a,this.endMs=+u,this.top=c,this.height=d,this.data=t}return mt(e,[{key:"_width",get:function(){if(this.rows){var n=this.rows.reduce(function(i,s){return Math.max(i,s.leaves.length+1)},0)+1;return 100/n}if(this.leaves){var r=100-this.container._width;return r/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var n=this._width,r=Math.min(100,this._width*1.7);if(this.rows)return r;if(this.leaves)return this.leaves.length>0?r:n;var i=this.row.leaves,s=i.indexOf(this);return s===i.length-1?n:r}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var n=this.row,r=n.leaves,i=n.xOffset,s=n._width,o=r.indexOf(this)+1;return i+o*s}}]),e}();function Pne(e,t,n){return Math.abs(t.start-e.start)<n||t.start>e.start&&t.start<e.end}function Cne(e){for(var t=tX(e,["startMs",function(a){return-a.endMs}]),n=[];t.length>0;){var r=t.shift();n.push(r);for(var i=0;i<t.length;i++){var s=t[i];if(!(r.endMs>s.startMs)){if(i>0){var o=t.splice(i,1)[0];n.push(o)}break}}}return n}function Jk(e){for(var t=e.events,n=e.minimumStartDifference,r=e.slotMetrics,i=e.accessors,s=t.map(function(c){return new Rne(c,{slotMetrics:r,accessors:i})}),o=Cne(s),a=[],l=function(){var d=o[u],h=a.find(function(p){return p.end>d.start||Math.abs(d.start-p.start)<n});if(!h)return d.rows=[],a.push(d),1;d.container=h;for(var f=null,m=h.rows.length-1;!f&&m>=0;m--)Pne(h.rows[m],d,n)&&(f=h.rows[m]);f?(f.leaves.push(d),d.row=f):(d.leaves=[],h.rows.push(d))},u=0;u<o.length;u++)l();return o.map(function(c){return{event:c.data,style:{top:c.top,height:c.height,width:c.width,xOffset:Math.max(0,c.xOffset)}}})}function Zk(e,t,n){for(var r=0;r<e.friends.length;++r)if(!(n.indexOf(e.friends[r])>-1)){t=t>e.friends[r].idx?t:e.friends[r].idx,n.push(e.friends[r]);var i=Zk(e.friends[r],t,n);t=t>i?t:i}return t}function bne(e){var t=e.events,n=e.minimumStartDifference,r=e.slotMetrics,i=e.accessors,s=Jk({events:t,minimumStartDifference:n,slotMetrics:r,accessors:i});s.sort(function(_e,ie){return _e=_e.style,ie=ie.style,_e.top!==ie.top?_e.top>ie.top?1:-1:_e.height!==ie.height?_e.top+_e.height<ie.top+ie.height?1:-1:0});for(var o=0;o<s.length;++o)s[o].friends=[],delete s[o].style.left,delete s[o].style.left,delete s[o].idx,delete s[o].size;for(var a=0;a<s.length-1;++a)for(var l=s[a],u=l.style.top,c=l.style.top+l.style.height,d=a+1;d<s.length;++d){var h=s[d],f=h.style.top,m=h.style.top+h.style.height;(f>=u&&m<=c||m>u&&m<=c||f>=u&&f<c)&&(l.friends.push(h),h.friends.push(l))}for(var p=0;p<s.length;++p){for(var y=s[p],g=[],v=0;v<100;++v)g.push(1);for(var w=0;w<y.friends.length;++w)y.friends[w].idx!==void 0&&(g[y.friends[w].idx]=0);y.idx=g.indexOf(1)}for(var E=0;E<s.length;++E){var S=0;if(!s[E].size){var T=[],I=Zk(s[E],0,T);S=100/(I+1),s[E].size=S;for(var P=0;P<T.length;++P)T[P].size=S}}for(var k=0;k<s.length;++k){var C=s[k];C.style.left=C.idx*C.size;for(var N=0,j=0;j<C.friends.length;++j){var Y=C.friends[j].idx;N=N>Y?N:Y}N<=C.idx&&(C.size=100-C.idx*C.size);var ve=C.idx===0?0:3;C.style.width="calc(".concat(C.size,"% - ").concat(ve,"px)"),C.style.height="calc(".concat(C.style.height,"% - 2px)"),C.style.xOffset="calc(".concat(C.style.left,"% + ").concat(ve,"px)")}return s}var sI={overlap:Jk,"no-overlap":bne};function Dne(e){return!!(e&&e.constructor&&e.call&&e.apply)}function kne(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t=e.dayLayoutAlgorithm,n=t;return t in sI&&(n=sI[t]),Dne(n)?n.apply(this,arguments):[]}var ex=function(e){qt(t,e);function t(){return pt(this,t),Yt(this,t,arguments)}return mt(t,[{key:"render",value:function(){var r=this.props,i=r.renderSlot,s=r.resource,o=r.group,a=r.getters,l=r.components,u=l===void 0?{}:l,c=u.timeSlotWrapper,d=c===void 0?Ir:c,h=a?a.slotGroupProp(o):{};return R.createElement("div",Object.assign({className:"rbc-timeslot-group"},h),o.map(function(f,m){var p=a?a.slotProp(f,s):{};return R.createElement(d,{key:m,value:f,resource:s},R.createElement("div",Object.assign({},p,{className:at("rbc-time-slot",p.className)}),i&&i(f,m)))}))}}]),t}(A.Component);function od(e){return typeof e=="string"?e:e+"%"}function xne(e){var t=e.style,n=e.className,r=e.event,i=e.accessors,s=e.rtl,o=e.selected,a=e.label,l=e.continuesPrior,u=e.continuesAfter,c=e.getters,d=e.onClick,h=e.onDoubleClick,f=e.isBackgroundEvent,m=e.onKeyPress,p=e.components,y=p.event,g=p.eventWrapper,v=i.title(r),w=i.tooltip(r),E=i.end(r),S=i.start(r),T=c.eventProp(r,S,E,o),I=[R.createElement("div",{key:"1",className:"rbc-event-label"},a),R.createElement("div",{key:"2",className:"rbc-event-content"},y?R.createElement(y,{event:r,title:v}):v)],P=t.height,k=t.top,C=t.width,N=t.xOffset,j=Ce(Ce({},T.style),{},cs({top:od(k),height:od(P),width:od(C)},s?"right":"left",od(N)));return R.createElement(g,Object.assign({type:"time"},e),R.createElement("div",{role:"button",tabIndex:0,onClick:d,onDoubleClick:h,style:j,onKeyDown:m,title:w?(typeof a=="string"?a+": ":"")+w:void 0,className:at(f?"rbc-background-event":"rbc-event",n,T.className,{"rbc-selected":o,"rbc-event-continues-earlier":l,"rbc-event-continues-later":u})},I))}var One=function(t){var n=t.children,r=t.className,i=t.style,s=t.innerRef;return R.createElement("div",{className:r,style:i,ref:s},n)},Nne=R.forwardRef(function(e,t){return R.createElement(One,Object.assign({},e,{innerRef:t}))}),Mne=["dayProp"],$ne=["eventContainerWrapper"],tx=function(e){qt(t,e);function t(){var n;pt(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Yt(this,t,[].concat(i)),n.state={selecting:!1,timeIndicatorPosition:null},n.intervalTriggered=!1,n.renderEvents=function(o){var a=o.events,l=o.isBackgroundEvent,u=n.props,c=u.rtl,d=u.selected,h=u.accessors,f=u.localizer,m=u.getters,p=u.components,y=u.step,g=u.timeslots,v=u.dayLayoutAlgorithm,w=u.resizable,E=wD(n),S=E.slotMetrics,T=f.messages,I=kne({events:a,accessors:h,slotMetrics:S,minimumStartDifference:Math.ceil(y*g/2),dayLayoutAlgorithm:v});return I.map(function(P,k){var C=P.event,N=P.style,j=h.end(C),Y=h.start(C),ve="eventTimeRangeFormat",_e,ie=S.startsBeforeDay(Y),fe=S.startsAfterDay(j);ie?ve="eventTimeRangeEndFormat":fe&&(ve="eventTimeRangeStartFormat"),ie&&fe?_e=T.allDay:_e=f.format({start:Y,end:j},ve);var V=ie||S.startsBefore(Y),X=fe||S.startsAfter(j);return R.createElement(xne,{style:N,event:C,label:_e,key:"evt_"+k,getters:m,rtl:c,components:p,continuesPrior:V,continuesAfter:X,accessors:h,resource:n.props.resource,selected:Pp(C,d),onClick:function(b){return n._select(Ce(Ce(Ce({},C),n.props.resource&&{sourceResource:n.props.resource}),l&&{isBackgroundEvent:!0}),b)},onDoubleClick:function(b){return n._doubleClick(C,b)},isBackgroundEvent:l,onKeyPress:function(b){return n._keyPress(C,b)},resizable:w})})},n._selectable=function(){var o=n.containerRef.current,a=n.props,l=a.longPressThreshold,u=a.localizer,c=n._selector=new Wk(function(){return o},{longPressThreshold:l}),d=function(p){var y=n.props.onSelecting,g=n.state||{},v=h(p),w=v.startDate,E=v.endDate;y&&(u.eq(g.startDate,w,"minutes")&&u.eq(g.endDate,E,"minutes")||y({start:w,end:E,resourceId:n.props.resource})===!1)||(n.state.start!==v.start||n.state.end!==v.end||n.state.selecting!==v.selecting)&&n.setState(v)},h=function(p){var y=n.slotMetrics.closestSlotFromPoint(p,Ws(o));n.state.selecting||(n._initialSlot=y);var g=n._initialSlot;u.lte(g,y)?y=n.slotMetrics.nextSlot(y):u.gt(g,y)&&(g=n.slotMetrics.nextSlot(g));var v=n.slotMetrics.getRange(u.min(g,y),u.max(g,y));return Ce(Ce({},v),{},{selecting:!0,top:"".concat(v.top,"%"),height:"".concat(v.height,"%")})},f=function(p,y){if(!Qh(n.containerRef.current,p)){var g=h(p),v=g.startDate,w=g.endDate;n._selectSlot({startDate:v,endDate:w,action:y,box:p})}n.setState({selecting:!1})};c.on("selecting",d),c.on("selectStart",d),c.on("beforeSelect",function(m){if(n.props.selectable==="ignoreEvents")return!Qh(n.containerRef.current,m)}),c.on("click",function(m){return f(m,"click")}),c.on("doubleClick",function(m){return f(m,"doubleClick")}),c.on("select",function(m){n.state.selecting&&(n._selectSlot(Ce(Ce({},n.state),{},{action:"select",bounds:m})),n.setState({selecting:!1}))}),c.on("reset",function(){n.state.selecting&&n.setState({selecting:!1})})},n._teardownSelectable=function(){n._selector&&(n._selector.teardown(),n._selector=null)},n._selectSlot=function(o){for(var a=o.startDate,l=o.endDate,u=o.action,c=o.bounds,d=o.box,h=a,f=[];n.props.localizer.lte(h,l);)f.push(h),h=new Date(+h+n.props.step*60*1e3);je(n.props.onSelectSlot,{slots:f,start:a,end:l,resourceId:n.props.resource,action:u,bounds:c,box:d})},n._select=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];je(n.props.onSelectEvent,a)},n._doubleClick=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];je(n.props.onDoubleClickEvent,a)},n._keyPress=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];je(n.props.onKeyPressEvent,a)},n.slotMetrics=e0(n.props),n.containerRef=A.createRef(),n}return mt(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(r,i){this.props.selectable&&!r.selectable&&this._selectable(),!this.props.selectable&&r.selectable&&this._teardownSelectable();var s=this.props,o=s.getNow,a=s.isNow,l=s.localizer,u=s.date,c=s.min,d=s.max,h=l.neq(r.getNow(),o(),"minutes");if(r.isNow!==a||h){if(this.clearTimeIndicatorInterval(),a){var f=!h&&l.eq(r.date,u,"minutes")&&i.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(f)}}else a&&(l.neq(r.min,c,"minutes")||l.neq(r.max,d,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var r=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!i&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){r.intervalTriggered=!0,r.positionTimeIndicator(),r.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var r=this.props,i=r.min,s=r.max,o=r.getNow,a=o();if(a>=i&&a<=s){var l=this.slotMetrics.getCurrentTimePosition(a);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:l})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var r=this.props,i=r.date,s=r.max,o=r.rtl,a=r.isNow,l=r.resource,u=r.accessors,c=r.localizer,d=r.getters,h=d.dayProp,f=gr(d,Mne),m=r.components,p=m.eventContainerWrapper,y=gr(m,$ne);this.slotMetrics=this.slotMetrics.update(this.props);var g=this.slotMetrics,v=this.state,w=v.selecting,E=v.top,S=v.height,T=v.startDate,I=v.endDate,P={start:T,end:I},k=h(s),C=k.className,N=k.style,j=y.dayColumnWrapper||Nne;return R.createElement(j,{ref:this.containerRef,date:i,style:N,className:at(C,"rbc-day-slot","rbc-time-column",a&&"rbc-now",a&&"rbc-today",w&&"rbc-slot-selecting"),slotMetrics:g},g.groups.map(function(Y,ve){return R.createElement(ex,{key:ve,group:Y,resource:l,getters:f,components:y})}),R.createElement(p,{localizer:c,resource:l,accessors:u,getters:f,components:y,slotMetrics:g},R.createElement("div",{className:at("rbc-events-container",o&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),w&&R.createElement("div",{className:"rbc-slot-selection",style:{top:E,height:S}},R.createElement("span",null,c.format(P,"selectRangeFormat"))),a&&this.intervalTriggered&&R.createElement("div",{className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}}))}}]),t}(R.Component);tx.defaultProps={dragThroughEvents:!0,timeslots:2};function Lne(e){var t=e.min,n=e.max,r=e.localizer;return r.getTimezoneOffset(t)!==r.getTimezoneOffset(n)?{start:r.add(t,-1,"day"),end:r.add(n,-1,"day")}:{start:t,end:n}}var Fne=function(t){var n=t.min,r=t.max,i=t.timeslots,s=t.step,o=t.localizer,a=t.getNow,l=t.resource,u=t.components,c=t.getters,d=t.gutterRef,h=u.timeGutterWrapper,f=A.useMemo(function(){return Lne({min:n,max:r,localizer:o})},[n==null?void 0:n.toISOString(),r==null?void 0:r.toISOString(),o]),m=f.start,p=f.end,y=A.useState(e0({min:m,max:p,timeslots:i,step:s,localizer:o})),g=Pr(y,2),v=g[0],w=g[1];A.useEffect(function(){v&&w(v.update({min:m,max:p,timeslots:i,step:s,localizer:o}))},[m==null?void 0:m.toISOString(),p==null?void 0:p.toISOString(),i,s]);var E=A.useCallback(function(S,T){if(T)return null;var I=v.dateIsInGroup(a(),T);return R.createElement("span",{className:at("rbc-label",I&&"rbc-now")},o.format(S,"timeGutterFormat"))},[v,o,a]);return R.createElement(h,{slotMetrics:v},R.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:d},v.groups.map(function(S,T){return R.createElement(ex,{key:T,group:S,resource:l,components:u,renderSlot:E,getters:c})})))},Vne=R.forwardRef(function(e,t){return R.createElement(Fne,Object.assign({gutterRef:t},e))}),jne=function(t){var n=t.label;return R.createElement(R.Fragment,null,n)},Une=function(e){qt(t,e);function t(){var n;pt(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Yt(this,t,[].concat(i)),n.handleHeaderClick=function(o,a,l){l.preventDefault(),je(n.props.onDrillDown,[o,a])},n.renderRow=function(o){var a=n.props,l=a.events,u=a.rtl,c=a.selectable,d=a.getNow,h=a.range,f=a.getters,m=a.localizer,p=a.accessors,y=a.components,g=a.resizable,v=p.resourceId(o),w=o?l.filter(function(E){return p.resource(E)===v}):l;return R.createElement(Xh,{isAllDay:!0,rtl:u,getNow:d,minRows:2,maxRows:n.props.allDayMaxRows+1,range:h,events:w,resourceId:v,className:"rbc-allday-cell",selectable:c,selected:n.props.selected,components:y,accessors:p,getters:f,localizer:m,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyPress:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:g})},n}return mt(t,[{key:"renderHeaderCells",value:function(r){var i=this,s=this.props,o=s.localizer,a=s.getDrilldownView,l=s.getNow,u=s.getters.dayProp,c=s.components.header,d=c===void 0?Xk:c,h=l();return r.map(function(f,m){var p=a(f),y=o.format(f,"dayFormat"),g=u(f),v=g.className,w=g.style,E=R.createElement(d,{date:f,label:y,localizer:o});return R.createElement("div",{key:m,style:w,className:at("rbc-header",v,o.isSameDate(f,h)&&"rbc-today")},p?R.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(T){return i.handleHeaderClick(f,p,T)}},E):R.createElement("span",null,E))})}},{key:"render",value:function(){var r=this,i=this.props,s=i.width,o=i.rtl,a=i.resources,l=i.range,u=i.events,c=i.getNow,d=i.accessors,h=i.selectable,f=i.components,m=i.getters,p=i.scrollRef,y=i.localizer,g=i.isOverflowing,v=i.components,w=v.timeGutterHeader,E=v.resourceHeader,S=E===void 0?jne:E,T=i.resizable,I={};g&&(I[o?"marginLeft":"marginRight"]="".concat(rk()-1,"px"));var P=a.groupEvents(u);return R.createElement("div",{style:I,ref:p,className:at("rbc-time-header",g&&"rbc-overflowing")},R.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:s,minWidth:s,maxWidth:s}},w&&R.createElement(w,null)),a.map(function(k,C){var N=Pr(k,2),j=N[0],Y=N[1];return R.createElement("div",{className:"rbc-time-header-content",key:j||C},Y&&R.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(C)},R.createElement("div",{className:"rbc-header"},R.createElement(S,{index:C,label:d.resourceTitle(Y),resource:Y}))),R.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(l.length<=1?" rbc-time-header-cell-single-day":"")},r.renderHeaderCells(l)),R.createElement(Xh,{isAllDay:!0,rtl:o,getNow:c,minRows:2,maxRows:r.props.allDayMaxRows+1,range:l,events:P.get(j)||[],resourceId:Y&&j,className:"rbc-allday-cell",selectable:h,selected:r.props.selected,components:f,accessors:d,getters:m,localizer:y,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyDown:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:T}))}))}}]),t}(R.Component),Gm={};function Bne(e,t){return{map:function(r){return e?e.map(function(i,s){return r([t.resourceId(i),i],s)}):[r([Gm,null],0)]},groupEvents:function(r){var i=new Map;return e?(r.forEach(function(s){var o=t.resource(s)||Gm;if(Array.isArray(o))o.forEach(function(l){var u=i.get(l)||[];u.push(s),i.set(l,u)});else{var a=i.get(o)||[];a.push(s),i.set(o,a)}}),i):(i.set(Gm,r),i)}}}var Na=function(e){qt(t,e);function t(n){var r;return pt(this,t),r=Yt(this,t,[n]),r.handleScroll=function(i){r.scrollRef.current&&(r.scrollRef.current.scrollLeft=i.target.scrollLeft)},r.handleResize=function(){WT(r.rafHandle),r.rafHandle=GD(r.checkOverflow)},r.handleKeyPressEvent=function(){r.clearSelection();for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];je(r.props.onKeyPressEvent,s)},r.handleSelectEvent=function(){r.clearSelection();for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];je(r.props.onSelectEvent,s)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];je(r.props.onDoubleClickEvent,s)},r.handleShowMore=function(i,s,o,a,l){var u=r.props,c=u.popup,d=u.onDrillDown,h=u.onShowMore,f=u.getDrilldownView,m=u.doShowMoreDrillDown;if(r.clearSelection(),c){var p=qD(o,r.containerRef.current);r.setState({overlay:{date:s,events:i,position:Ce(Ce({},p),{},{width:"200px"}),target:l}})}else m&&je(d,[s,f(s)||Ut.DAY]);je(h,[i,s,a])},r.handleSelectAllDaySlot=function(i,s){var o=r.props.onSelectSlot,a=new Date(i[0]),l=new Date(i[i.length-1]);l.setDate(i[i.length-1].getDate()+1),je(o,{slots:i,start:a,end:l,action:s.action,resourceId:s.resourceId})},r.overlayDisplay=function(){r.setState({overlay:null})},r.checkOverflow=function(){if(!r._updatingOverflow){var i=r.contentRef.current;if(i!=null&&i.scrollHeight){var s=i.scrollHeight>i.clientHeight;r.state.isOverflowing!==s&&(r._updatingOverflow=!0,r.setState({isOverflowing:s},function(){r._updatingOverflow=!1}))}}},r.memoizedResources=wk(function(i,s){return Bne(i,s)}),r.state={gutterWidth:void 0,isOverflowing:null},r.scrollRef=R.createRef(),r.contentRef=R.createRef(),r.containerRef=R.createRef(),r._scrollRatio=null,r.gutterRef=A.createRef(),r}return mt(t,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),WT(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderEvents",value:function(r,i,s,o){var a=this,l=this.props,u=l.min,c=l.max,d=l.components,h=l.accessors,f=l.localizer,m=l.dayLayoutAlgorithm,p=this.memoizedResources(this.props.resources,h),y=p.groupEvents(i),g=p.groupEvents(s);return p.map(function(v,w){var E=Pr(v,2),S=E[0],T=E[1];return r.map(function(I,P){var k=(y.get(S)||[]).filter(function(N){return f.inRange(I,h.start(N),h.end(N),"day")}),C=(g.get(S)||[]).filter(function(N){return f.inRange(I,h.start(N),h.end(N),"day")});return R.createElement(tx,Object.assign({},a.props,{localizer:f,min:f.merge(I,u),max:f.merge(I,c),resource:T&&S,components:d,isNow:f.isSameDate(I,o),key:w+"-"+P,date:I,events:k,backgroundEvents:C,dayLayoutAlgorithm:m}))})})}},{key:"render",value:function(){var r,i=this.props,s=i.events,o=i.backgroundEvents,a=i.range,l=i.width,u=i.rtl,c=i.selected,d=i.getNow,h=i.resources,f=i.components,m=i.accessors,p=i.getters,y=i.localizer,g=i.min,v=i.max,w=i.showMultiDayTimes,E=i.longPressThreshold,S=i.resizable;l=l||this.state.gutterWidth;var T=a[0],I=a[a.length-1];this.slots=a.length;var P=[],k=[],C=[];return s.forEach(function(N){if(Cu(N,T,I,m,y)){var j=m.start(N),Y=m.end(N);m.allDay(N)||y.startAndEndAreDateOnly(j,Y)||!w&&!y.isSameDate(j,Y)?P.push(N):k.push(N)}}),o.forEach(function(N){Cu(N,T,I,m,y)&&C.push(N)}),P.sort(function(N,j){return qv(N,j,m,y)}),R.createElement("div",{className:at("rbc-time-view",h&&"rbc-time-view-resources"),ref:this.containerRef},R.createElement(Une,{range:a,events:P,width:l,rtl:u,getNow:d,localizer:y,selected:c,allDayMaxRows:this.props.showAllEvents?1/0:(r=this.props.allDayMaxRows)!==null&&r!==void 0?r:1/0,resources:this.memoizedResources(h,m),selectable:this.props.selectable,accessors:m,getters:p,components:f,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:E,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:S}),this.props.popup&&this.renderOverlay(),R.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},R.createElement(Vne,{date:T,ref:this.gutterRef,localizer:y,min:y.merge(T,g),max:y.merge(T,v),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:f,className:"rbc-time-gutter",getters:p}),this.renderEvents(a,k,C,d())))}},{key:"renderOverlay",value:function(){var r,i,s=this,o=(r=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&r!==void 0?r:{},a=this.props,l=a.accessors,u=a.localizer,c=a.components,d=a.getters,h=a.selected,f=a.popupOffset,m=a.handleDragStart,p=function(){return s.setState({overlay:null})};return R.createElement(Zw,{overlay:o,accessors:l,localizer:u,components:c,getters:d,selected:h,popupOffset:f,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:m,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:p})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var r=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var i,s=(i=r.gutterRef)!==null&&i!==void 0&&i.current?Hv(r.gutterRef.current):void 0;s&&r.state.gutterWidth!==s&&r.setState({gutterWidth:s})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var r=this.contentRef.current;r.scrollTop=r.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,i=r.min,s=r.max,o=r.scrollToTime,a=r.localizer,l=a.diff(a.merge(o,i),o,"milliseconds"),u=a.diff(i,s,"milliseconds");this._scrollRatio=l/u}}]),t}(A.Component);Na.defaultProps={step:30,timeslots:2};var zne=["date","localizer","min","max","scrollToTime","enableAutoScroll"],bp=function(e){qt(t,e);function t(){return pt(this,t),Yt(this,t,arguments)}return mt(t,[{key:"render",value:function(){var r=this.props,i=r.date,s=r.localizer,o=r.min,a=o===void 0?s.startOf(new Date,"day"):o,l=r.max,u=l===void 0?s.endOf(new Date,"day"):l,c=r.scrollToTime,d=c===void 0?s.startOf(new Date,"day"):c,h=r.enableAutoScroll,f=h===void 0?!0:h,m=gr(r,zne),p=t.range(i,{localizer:s});return R.createElement(Na,Object.assign({},m,{range:p,eventOffset:10,localizer:s,min:a,max:u,scrollToTime:d,enableAutoScroll:f}))}}]),t}(R.Component);bp.range=function(e,t){var n=t.localizer;return[n.startOf(e,"day")]};bp.navigate=function(e,t,n){var r=n.localizer;switch(t){case sn.PREVIOUS:return r.add(e,-1,"day");case sn.NEXT:return r.add(e,1,"day");default:return e}};bp.title=function(e,t){var n=t.localizer;return n.format(e,"dayHeaderFormat")};var Wne=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Hi=function(e){qt(t,e);function t(){return pt(this,t),Yt(this,t,arguments)}return mt(t,[{key:"render",value:function(){var r=this.props,i=r.date,s=r.localizer,o=r.min,a=o===void 0?s.startOf(new Date,"day"):o,l=r.max,u=l===void 0?s.endOf(new Date,"day"):l,c=r.scrollToTime,d=c===void 0?s.startOf(new Date,"day"):c,h=r.enableAutoScroll,f=h===void 0?!0:h,m=gr(r,Wne),p=t.range(i,this.props);return R.createElement(Na,Object.assign({},m,{range:p,eventOffset:15,localizer:s,min:a,max:u,scrollToTime:d,enableAutoScroll:f}))}}]),t}(R.Component);Hi.defaultProps=Na.defaultProps;Hi.navigate=function(e,t,n){var r=n.localizer;switch(t){case sn.PREVIOUS:return r.add(e,-1,"week");case sn.NEXT:return r.add(e,1,"week");default:return e}};Hi.range=function(e,t){var n=t.localizer,r=n.startOfWeek(),i=n.startOf(e,"week",r),s=n.endOf(e,"week",r);return n.range(i,s)};Hi.title=function(e,t){var n=t.localizer,r=Hi.range(e,{localizer:n}),i=Pk(r),s=i[0],o=i.slice(1);return n.format({start:s,end:o.pop()},"dayRangeHeaderFormat")};var Hne=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function t0(e,t){return Hi.range(e,t).filter(function(n){return[6,0].indexOf(n.getDay())===-1})}var Sc=function(e){qt(t,e);function t(){return pt(this,t),Yt(this,t,arguments)}return mt(t,[{key:"render",value:function(){var r=this.props,i=r.date,s=r.localizer,o=r.min,a=o===void 0?s.startOf(new Date,"day"):o,l=r.max,u=l===void 0?s.endOf(new Date,"day"):l,c=r.scrollToTime,d=c===void 0?s.startOf(new Date,"day"):c,h=r.enableAutoScroll,f=h===void 0?!0:h,m=gr(r,Hne),p=t0(i,this.props);return R.createElement(Na,Object.assign({},m,{range:p,eventOffset:15,localizer:s,min:a,max:u,scrollToTime:d,enableAutoScroll:f}))}}]),t}(R.Component);Sc.defaultProps=Na.defaultProps;Sc.range=t0;Sc.navigate=Hi.navigate;Sc.title=function(e,t){var n=t.localizer,r=t0(e,{localizer:n}),i=Pk(r),s=i[0],o=i.slice(1);return n.format({start:s,end:o.pop()},"dayRangeHeaderFormat")};function Yi(e){var t=e.accessors,n=e.components,r=e.date,i=e.events,s=e.getters,o=e.length,a=e.localizer,l=e.onDoubleClickEvent,u=e.onSelectEvent,c=e.selected,d=A.useRef(null),h=A.useRef(null),f=A.useRef(null),m=A.useRef(null),p=A.useRef(null);A.useEffect(function(){v()});var y=function(I,P,k){var C=n.event,N=n.date;return P=P.filter(function(j){return Cu(j,a.startOf(I,"day"),a.endOf(I,"day"),t,a)}),P.map(function(j,Y){var ve=t.title(j),_e=t.end(j),ie=t.start(j),fe=s.eventProp(j,ie,_e,Pp(j,c)),V=Y===0&&a.format(I,"agendaDateFormat"),X=Y===0?R.createElement("td",{rowSpan:P.length,className:"rbc-agenda-date-cell"},N?R.createElement(N,{day:I,label:V}):V):!1;return R.createElement("tr",{key:k+"_"+Y,className:fe.className,style:fe.style},X,R.createElement("td",{className:"rbc-agenda-time-cell"},g(I,j)),R.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(b){return u&&u(j,b)},onDoubleClick:function(b){return l&&l(j,b)}},C?R.createElement(C,{event:j,title:ve}):ve))},[])},g=function(I,P){var k="",C=n.time,N=a.messages.allDay,j=t.end(P),Y=t.start(P);return t.allDay(P)||(a.eq(Y,j)?N=a.format(Y,"agendaTimeFormat"):a.isSameDate(Y,j)?N=a.format({start:Y,end:j},"agendaTimeRangeFormat"):a.isSameDate(I,Y)?N=a.format(Y,"agendaTimeFormat"):a.isSameDate(I,j)&&(N=a.format(j,"agendaTimeFormat"))),a.gt(I,Y,"day")&&(k="rbc-continues-prior"),a.lt(I,j,"day")&&(k+=" rbc-continues-after"),R.createElement("span",{className:k.trim()},C?R.createElement(C,{event:P,day:I,label:N}):N)},v=function(){if(p.current){var I=d.current,P=p.current.firstChild;if(P){var k=m.current.scrollHeight>m.current.clientHeight,C=[],N=C;C=[Hv(P.children[0]),Hv(P.children[1])],(N[0]!==C[0]||N[1]!==C[1])&&(h.current.style.width=C[0]+"px",f.current.style.width=C[1]+"px"),k?(H6(I,"rbc-header-overflowing"),I.style.marginRight=rk()+"px"):Y6(I,"rbc-header-overflowing")}}},w=a.messages,E=a.add(r,o,"day"),S=a.range(r,E,"day");return i=i.filter(function(T){return Cu(T,a.startOf(r,"day"),a.endOf(E,"day"),t,a)}),i.sort(function(T,I){return+t.start(T)-+t.start(I)}),R.createElement("div",{className:"rbc-agenda-view"},i.length!==0?R.createElement(R.Fragment,null,R.createElement("table",{ref:d,className:"rbc-agenda-table"},R.createElement("thead",null,R.createElement("tr",null,R.createElement("th",{className:"rbc-header",ref:h},w.date),R.createElement("th",{className:"rbc-header",ref:f},w.time),R.createElement("th",{className:"rbc-header"},w.event)))),R.createElement("div",{className:"rbc-agenda-content",ref:m},R.createElement("table",{className:"rbc-agenda-table"},R.createElement("tbody",{ref:p},S.map(function(T,I){return y(T,i,I)}))))):R.createElement("span",{className:"rbc-agenda-empty"},w.noEventsInRange))}Yi.defaultProps={length:30};Yi.range=function(e,t){var n=t.length,r=n===void 0?Yi.defaultProps.length:n,i=t.localizer,s=i.add(e,r,"day");return{start:e,end:s}};Yi.navigate=function(e,t,n){var r=n.length,i=r===void 0?Yi.defaultProps.length:r,s=n.localizer;switch(t){case sn.PREVIOUS:return s.add(e,-i,"day");case sn.NEXT:return s.add(e,i,"day");default:return e}};Yi.title=function(e,t){var n=t.length,r=n===void 0?Yi.defaultProps.length:n,i=t.localizer,s=i.add(e,r,"day");return i.format({start:e,end:s},"agendaHeaderFormat")};var $d=cs(cs(cs(cs(cs({},Ut.MONTH,Cp),Ut.WEEK,Hi),Ut.WORK_WEEK,Sc),Ut.DAY,bp),Ut.AGENDA,Yi),Yne=["action","date","today"];function qne(e,t){var n=t.action,r=t.date,i=t.today,s=gr(t,Yne);switch(e=typeof e=="string"?$d[e]:e,n){case sn.TODAY:r=i||new Date;break;case sn.DATE:break;default:gu(e&&typeof e.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),r=e.navigate(r,n,s)}return r}var Gne=function(e){qt(t,e);function t(){var n;pt(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Yt(this,t,[].concat(i)),n.navigate=function(o){n.props.onNavigate(o)},n.view=function(o){n.props.onView(o)},n}return mt(t,[{key:"render",value:function(){var r=this.props,i=r.localizer.messages,s=r.label;return R.createElement("div",{className:"rbc-toolbar"},R.createElement("span",{className:"rbc-btn-group"},R.createElement("button",{type:"button",onClick:this.navigate.bind(null,sn.TODAY)},i.today),R.createElement("button",{type:"button",onClick:this.navigate.bind(null,sn.PREVIOUS)},i.previous),R.createElement("button",{type:"button",onClick:this.navigate.bind(null,sn.NEXT)},i.next)),R.createElement("span",{className:"rbc-toolbar-label"},s),R.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(i)))}},{key:"viewNamesGroup",value:function(r){var i=this,s=this.props.views,o=this.props.view;if(s.length>1)return s.map(function(a){return R.createElement("button",{type:"button",key:a,className:at({"rbc-active":o===a}),onClick:i.view.bind(null,a)},r[a])})}}]),t}(R.Component);function Kne(e,t){var n=null;return typeof t=="function"?n=t(e):typeof t=="string"&&Kr(e)==="object"&&e!=null&&t in e&&(n=e[t]),n}var ui=function(t){return function(n){return Kne(n,t)}},Qne=["view","date","getNow","onNavigate"],Xne=["view","toolbar","events","backgroundEvents","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function nx(e){if(Array.isArray(e))return e;for(var t=[],n=0,r=Object.entries(e);n<r.length;n++){var i=Pr(r[n],2),s=i[0],o=i[1];o&&t.push(s)}return t}function Jne(e,t){var n=t.views,r=nx(n);return r.indexOf(e)!==-1}var rx=function(e){qt(t,e);function t(){var n;pt(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Yt(this,t,[].concat(i)),n.getViews=function(){var o=n.props.views;return Array.isArray(o)?Tte(o,function(a,l){return a[l]=$d[l]},{}):Kr(o)==="object"?bte(o,function(a,l){return a===!0?$d[l]:a}):$d},n.getView=function(){var o=n.getViews();return o[n.props.view]},n.getDrilldownView=function(o){var a=n.props,l=a.view,u=a.drilldownView,c=a.getDrilldownView;return c?c(o,l,Object.keys(n.getViews())):u},n.handleRangeChange=function(o,a,l){var u=n.props,c=u.onRangeChange,d=u.localizer;c&&a.range&&c(a.range(o,{localizer:d}),l)},n.handleNavigate=function(o,a){var l=n.props,u=l.view,c=l.date,d=l.getNow,h=l.onNavigate,f=gr(l,Qne),m=n.getView(),p=d();c=qne(m,Ce(Ce({},f),{},{action:o,date:a||c||p,today:p})),h(c,u,o),n.handleRangeChange(c,m)},n.handleViewChange=function(o){o!==n.props.view&&Jne(o,n.props)&&n.props.onView(o);var a=n.getViews();n.handleRangeChange(n.props.date||n.props.getNow(),a[o],o)},n.handleSelectEvent=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];je(n.props.onSelectEvent,a)},n.handleDoubleClickEvent=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];je(n.props.onDoubleClickEvent,a)},n.handleKeyPressEvent=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];je(n.props.onKeyPressEvent,a)},n.handleSelectSlot=function(o){je(n.props.onSelectSlot,o)},n.handleDrillDown=function(o,a){var l=n.props.onDrillDown;if(l){l(o,a,n.drilldownView);return}a&&n.handleViewChange(a),n.handleNavigate(sn.DATE,o)},n.state={context:t.getContext(n.props)},n}return mt(t,[{key:"render",value:function(){var r=this.props,i=r.view,s=r.toolbar,o=r.events,a=r.backgroundEvents,l=r.style,u=r.className,c=r.elementProps,d=r.date,h=r.getNow,f=r.length,m=r.showMultiDayTimes,p=r.onShowMore,y=r.doShowMoreDrillDown;r.components,r.formats,r.messages,r.culture;var g=gr(r,Xne);d=d||h();var v=this.getView(),w=this.state.context,E=w.accessors,S=w.components,T=w.getters,I=w.localizer,P=w.viewNames,k=S.toolbar||Gne,C=v.title(d,{localizer:I,length:f});return R.createElement("div",Object.assign({},c,{className:at(u,"rbc-calendar",g.rtl&&"rbc-rtl"),style:l}),s&&R.createElement(k,{date:d,view:i,views:P,label:C,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:I}),R.createElement(v,Object.assign({},g,{events:o,backgroundEvents:a,date:d,getNow:h,length:f,localizer:I,getters:T,components:S,accessors:E,showMultiDayTimes:m,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:p,doShowMoreDrillDown:y})))}}],[{key:"getDerivedStateFromProps",value:function(r){return{context:t.getContext(r)}}},{key:"getContext",value:function(r){var i=r.startAccessor,s=r.endAccessor,o=r.allDayAccessor,a=r.tooltipAccessor,l=r.titleAccessor,u=r.resourceAccessor,c=r.resourceIdAccessor,d=r.resourceTitleAccessor,h=r.eventPropGetter,f=r.backgroundEventPropGetter,m=r.slotPropGetter,p=r.slotGroupPropGetter,y=r.dayPropGetter,g=r.view,v=r.views,w=r.localizer,E=r.culture,S=r.messages,T=S===void 0?{}:S,I=r.components,P=I===void 0?{}:I,k=r.formats,C=k===void 0?{}:k,N=nx(v),j=nne(T);return{viewNames:N,localizer:ene(w,E,C,j),getters:{eventProp:function(){return h&&h.apply(void 0,arguments)||{}},backgroundEventProp:function(){return f&&f.apply(void 0,arguments)||{}},slotProp:function(){return m&&m.apply(void 0,arguments)||{}},slotGroupProp:function(){return p&&p.apply(void 0,arguments)||{}},dayProp:function(){return y&&y.apply(void 0,arguments)||{}}},components:cte(P[g]||{},nte(P,N),{eventWrapper:Ir,backgroundEventWrapper:Ir,eventContainerWrapper:Ir,dateCellWrapper:Ir,weekWrapper:Ir,timeSlotWrapper:Ir,timeGutterWrapper:Ir}),accessors:{start:ui(i),end:ui(s),allDay:ui(o),tooltip:ui(a),title:ui(l),resource:ui(u),resourceId:ui(c),resourceTitle:ui(d)}}}}]),t}(R.Component);rx.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:Ut.MONTH,views:[Ut.MONTH,Ut.WEEK,Ut.DAY,Ut.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:Ut.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var Zne=RD(rx,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),ere=function(t,n,r){var i=t.start,s=t.end;return r.format(i,"MMMM DD",n)+"  "+r.format(s,r.eq(i,s,"month")?"DD":"MMMM DD",n)},tre=function(t,n,r){var i=t.start,s=t.end;return r.format(i,"L",n)+"  "+r.format(s,"L",n)},Km=function(t,n,r){var i=t.start,s=t.end;return r.format(i,"LT",n)+"  "+r.format(s,"LT",n)},nre=function(t,n,r){var i=t.start;return r.format(i,"LT",n)+"  "},rre=function(t,n,r){var i=t.end;return"  "+r.format(i,"LT",n)},ire={dateFormat:"DD",dayFormat:"DD ddd",weekdayFormat:"ddd",selectRangeFormat:Km,eventTimeRangeFormat:Km,eventTimeRangeStartFormat:nre,eventTimeRangeEndFormat:rre,timeGutterFormat:"LT",monthHeaderFormat:"MMMM YYYY",dayHeaderFormat:"dddd MMM DD",dayRangeHeaderFormat:ere,agendaHeaderFormat:tre,agendaDateFormat:"ddd MMM DD",agendaTimeFormat:"LT",agendaTimeRangeFormat:Km};function ci(e){var t=e&&e.toLowerCase();return t==="FullYear"?t="year":t||(t=void 0),t}function sre(e){var t=function(O,U){return U?O.locale(U):O};function n(b){return e(b).toDate().getTimezoneOffset()}function r(b,O){var U,W,K=e(b).local(),ae=e(O).local();if(!e.tz)return K.toDate().getTimezoneOffset()-ae.toDate().getTimezoneOffset();var Te=(U=K==null||(W=K._z)===null||W===void 0?void 0:W.name)!==null&&U!==void 0?U:e.tz.guess(),Pe=e.tz.zone(Te).utcOffset(+K),On=e.tz.zone(Te).utcOffset(+ae);return Pe-On}function i(b){var O=e(b).startOf("day");return r(O,b)}function s(b,O,U){var W=ci(U),K=W?e(b).startOf(W):e(b),ae=W?e(O).startOf(W):e(O);return[K,ae,W]}function o(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,O=arguments.length>1?arguments[1]:void 0,U=ci(O);return U?e(b).startOf(U).toDate():e(b).toDate()}function a(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,O=arguments.length>1?arguments[1]:void 0,U=ci(O);return U?e(b).endOf(U).toDate():e(b).toDate()}function l(b,O,U){var W=s(b,O,U),K=Pr(W,3),ae=K[0],Te=K[1],Pe=K[2];return ae.isSame(Te,Pe)}function u(b,O,U){return!l(b,O,U)}function c(b,O,U){var W=s(b,O,U),K=Pr(W,3),ae=K[0],Te=K[1],Pe=K[2];return ae.isAfter(Te,Pe)}function d(b,O,U){var W=s(b,O,U),K=Pr(W,3),ae=K[0],Te=K[1],Pe=K[2];return ae.isBefore(Te,Pe)}function h(b,O,U){var W=s(b,O,U),K=Pr(W,3),ae=K[0],Te=K[1],Pe=K[2];return ae.isSameOrBefore(Te,Pe)}function f(b,O,U){var W=s(b,O,U),K=Pr(W,3),ae=K[0],Te=K[1],Pe=K[2];return ae.isSameOrBefore(Te,Pe)}function m(b,O,U){var W=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"day",K=ci(W),ae=e(b),Te=e(O),Pe=e(U);return ae.isBetween(Te,Pe,K,"[]")}function p(b,O){var U=e(b),W=e(O),K=e.min(U,W);return K.toDate()}function y(b,O){var U=e(b),W=e(O),K=e.max(U,W);return K.toDate()}function g(b,O){if(!b&&!O)return null;var U=e(O).format("HH:mm:ss"),W=e(b).startOf("day").format("MM/DD/YYYY");return e("".concat(W," ").concat(U),"MM/DD/YYYY HH:mm:ss").toDate()}function v(b,O,U){var W=ci(U);return e(b).add(O,W).toDate()}function w(b,O){for(var U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",W=ci(U),K=e(b).toDate(),ae=[];f(K,O);)ae.push(K),K=v(K,1,W);return ae}function E(b,O){var U=ci(O),W=o(b,U);return l(W,b)?W:v(W,1,U)}function S(b,O){var U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",W=ci(U),K=e(b),ae=e(O);return ae.diff(K,W)}function T(b){var O=e(b);return O.minutes()}function I(b){var O=b?e.localeData(b):e.localeData();return O?O.firstDayOfWeek():0}function P(b){return e(b).startOf("month").startOf("week").toDate()}function k(b){return e(b).endOf("month").endOf("week").toDate()}function C(b){for(var O=P(b),U=k(b),W=[];f(O,U);)W.push(O),O=v(O,1,"d");return W}function N(b,O,U){return e(b).startOf("day").minute(O+U).toDate()}function j(b,O){return S(b,O,"minutes")}function Y(b){var O=e(b).startOf("day"),U=e(b);return U.diff(O,"minutes")+i(b)}function ve(b,O){var U=e(b),W=e(O);return U.isBefore(W,"day")}function _e(b,O,U){var W=e(O),K=e(U);return W.isSameOrAfter(K,"minutes")}function ie(b,O){var U=e(b),W=e(O),K=e.duration(W.diff(U));return K.days()}function fe(b){var O=b.evtA,U=O.start,W=O.end,K=O.allDay,ae=b.evtB,Te=ae.start,Pe=ae.end,On=ae.allDay,no=+o(U,"day")-+o(Te,"day"),rs=ie(U,W),Fa=ie(Te,Pe);return no||Fa-rs||!!On-!!K||+U-+Te||+W-+Pe}function V(b){var O=b.event,U=O.start,W=O.end,K=b.range,ae=K.start,Te=K.end,Pe=e(U).startOf("day"),On=e(W),no=e(ae),rs=e(Te),Fa=Pe.isSameOrBefore(rs,"day"),Pc=!Pe.isSame(On,"minutes"),Up=Pc?On.isAfter(no,"minutes"):On.isSameOrAfter(no,"minutes");return Fa&&Up}function X(b,O){var U=e(b),W=e(O);return U.isSame(W,"day")}function ee(){var b=new Date,O=/-/.test(b.toString())?"-":"",U=b.getTimezoneOffset(),W=Number("".concat(O).concat(Math.abs(U))),K=e().utcOffset();return K>W?1:0}return new Zte({formats:ire,firstOfWeek:I,firstVisibleDay:P,lastVisibleDay:k,visibleDays:C,format:function(O,U,W){return t(e(O),W).format(U)},lt:d,lte:f,gt:c,gte:h,eq:l,neq:u,merge:g,inRange:m,startOf:o,endOf:a,range:w,add:v,diff:S,ceil:E,min:p,max:y,minutes:T,getSlotDate:N,getTimezoneOffset:n,getDstOffset:r,getTotalMin:j,getMinutesFromMidnight:Y,continuesPrior:ve,continuesAfter:_e,sortEvents:fe,inEventRange:V,isSameDate:X,daySpan:ie,browserTZOffset:ee})}//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var ix;function B(){return ix.apply(null,arguments)}function ore(e){ix=e}function qn(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function As(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function we(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function n0(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(we(e,t))return!1;return!0}function Gt(e){return e===void 0}function Xr(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function Tc(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function sx(e,t){var n=[],r,i=e.length;for(r=0;r<i;++r)n.push(t(e[r],r));return n}function Ti(e,t){for(var n in t)we(t,n)&&(e[n]=t[n]);return we(t,"toString")&&(e.toString=t.toString),we(t,"valueOf")&&(e.valueOf=t.valueOf),e}function wr(e,t,n,r){return Cx(e,t,n,r,!0).utc()}function are(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function le(e){return e._pf==null&&(e._pf=are()),e._pf}var Gv;Array.prototype.some?Gv=Array.prototype.some:Gv=function(e){var t=Object(this),n=t.length>>>0,r;for(r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function r0(e){var t=null,n=!1,r=e._d&&!isNaN(e._d.getTime());if(r&&(t=le(e),n=Gv.call(t.parsedDateParts,function(i){return i!=null}),r=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r;return e._isValid}function Dp(e){var t=wr(NaN);return e!=null?Ti(le(t),e):le(t).userInvalidated=!0,t}var oI=B.momentProperties=[],Qm=!1;function i0(e,t){var n,r,i,s=oI.length;if(Gt(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),Gt(t._i)||(e._i=t._i),Gt(t._f)||(e._f=t._f),Gt(t._l)||(e._l=t._l),Gt(t._strict)||(e._strict=t._strict),Gt(t._tzm)||(e._tzm=t._tzm),Gt(t._isUTC)||(e._isUTC=t._isUTC),Gt(t._offset)||(e._offset=t._offset),Gt(t._pf)||(e._pf=le(t)),Gt(t._locale)||(e._locale=t._locale),s>0)for(n=0;n<s;n++)r=oI[n],i=t[r],Gt(i)||(e[r]=i);return e}function Ic(e){i0(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Qm===!1&&(Qm=!0,B.updateOffset(this),Qm=!1)}function Gn(e){return e instanceof Ic||e!=null&&e._isAMomentObject!=null}function ox(e){B.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function kn(e,t){var n=!0;return Ti(function(){if(B.deprecationHandler!=null&&B.deprecationHandler(null,e),n){var r=[],i,s,o,a=arguments.length;for(s=0;s<a;s++){if(i="",typeof arguments[s]=="object"){i+=`
[`+s+"] ";for(o in arguments[0])we(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[s];r.push(i)}ox(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var aI={};function ax(e,t){B.deprecationHandler!=null&&B.deprecationHandler(e,t),aI[e]||(ox(t),aI[e]=!0)}B.suppressDeprecationWarnings=!1;B.deprecationHandler=null;function Er(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function lre(e){var t,n;for(n in e)we(e,n)&&(t=e[n],Er(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Kv(e,t){var n=Ti({},e),r;for(r in t)we(t,r)&&(As(e[r])&&As(t[r])?(n[r]={},Ti(n[r],e[r]),Ti(n[r],t[r])):t[r]!=null?n[r]=t[r]:delete n[r]);for(r in e)we(e,r)&&!we(t,r)&&As(e[r])&&(n[r]=Ti({},n[r]));return n}function s0(e){e!=null&&this.set(e)}var Qv;Object.keys?Qv=Object.keys:Qv=function(e){var t,n=[];for(t in e)we(e,t)&&n.push(t);return n};var ure={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function cre(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return Er(r)?r.call(t,n):r}function vr(e,t,n){var r=""+Math.abs(e),i=t-r.length,s=e>=0;return(s?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var o0=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ad=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Xm={},Fo={};function J(e,t,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),e&&(Fo[e]=i),t&&(Fo[t[0]]=function(){return vr(i.apply(this,arguments),t[1],t[2])}),n&&(Fo[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function dre(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function hre(e){var t=e.match(o0),n,r;for(n=0,r=t.length;n<r;n++)Fo[t[n]]?t[n]=Fo[t[n]]:t[n]=dre(t[n]);return function(i){var s="",o;for(o=0;o<r;o++)s+=Er(t[o])?t[o].call(i,e):t[o];return s}}function Ld(e,t){return e.isValid()?(t=lx(t,e.localeData()),Xm[t]=Xm[t]||hre(t),Xm[t](e)):e.localeData().invalidDate()}function lx(e,t){var n=5;function r(i){return t.longDateFormat(i)||i}for(ad.lastIndex=0;n>=0&&ad.test(e);)e=e.replace(ad,r),ad.lastIndex=0,n-=1;return e}var fre={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function pre(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(o0).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var mre="Invalid date";function gre(){return this._invalidDate}var vre="%d",yre=/\d{1,2}/;function _re(e){return this._ordinal.replace("%d",e)}var wre={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Ere(e,t,n,r){var i=this._relativeTime[n];return Er(i)?i(e,t,n,r):i.replace(/%d/i,e)}function Sre(e,t){var n=this._relativeTime[e>0?"future":"past"];return Er(n)?n(t):n.replace(/%s/i,t)}var lI={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function xn(e){return typeof e=="string"?lI[e]||lI[e.toLowerCase()]:void 0}function a0(e){var t={},n,r;for(r in e)we(e,r)&&(n=xn(r),n&&(t[n]=e[r]));return t}var Tre={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Ire(e){var t=[],n;for(n in e)we(e,n)&&t.push({unit:n,priority:Tre[n]});return t.sort(function(r,i){return r.priority-i.priority}),t}var ux=/\d/,vn=/\d\d/,cx=/\d{3}/,l0=/\d{4}/,kp=/[+-]?\d{6}/,Fe=/\d\d?/,dx=/\d\d\d\d?/,hx=/\d\d\d\d\d\d?/,xp=/\d{1,3}/,u0=/\d{1,4}/,Op=/[+-]?\d{1,6}/,Ma=/\d+/,Np=/[+-]?\d+/,Are=/Z|[+-]\d\d:?\d\d/gi,Mp=/Z|[+-]\d\d(?::?\d\d)?/gi,Rre=/[+-]?\d+(\.\d{1,3})?/,Ac=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,$a=/^[1-9]\d?/,c0=/^([1-9]\d|\d)/,Jh;Jh={};function H(e,t,n){Jh[e]=Er(t)?t:function(r,i){return r&&n?n:t}}function Pre(e,t){return we(Jh,e)?Jh[e](t._strict,t._locale):new RegExp(Cre(e))}function Cre(e){return Fr(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,r,i,s){return n||r||i||s}))}function Fr(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function wn(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function ce(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=wn(t)),n}var Xv={};function Re(e,t){var n,r=t,i;for(typeof e=="string"&&(e=[e]),Xr(t)&&(r=function(s,o){o[t]=ce(s)}),i=e.length,n=0;n<i;n++)Xv[e[n]]=r}function Rc(e,t){Re(e,function(n,r,i,s){i._w=i._w||{},t(n,i._w,i,s)})}function bre(e,t,n){t!=null&&we(Xv,e)&&Xv[e](t,n._a,n,e)}function $p(e){return e%4===0&&e%100!==0||e%400===0}var $t=0,Or=1,rr=2,ot=3,Vn=4,Nr=5,vs=6,Dre=7,kre=8;J("Y",0,0,function(){var e=this.year();return e<=9999?vr(e,4):"+"+e});J(0,["YY",2],0,function(){return this.year()%100});J(0,["YYYY",4],0,"year");J(0,["YYYYY",5],0,"year");J(0,["YYYYYY",6,!0],0,"year");H("Y",Np);H("YY",Fe,vn);H("YYYY",u0,l0);H("YYYYY",Op,kp);H("YYYYYY",Op,kp);Re(["YYYYY","YYYYYY"],$t);Re("YYYY",function(e,t){t[$t]=e.length===2?B.parseTwoDigitYear(e):ce(e)});Re("YY",function(e,t){t[$t]=B.parseTwoDigitYear(e)});Re("Y",function(e,t){t[$t]=parseInt(e,10)});function xl(e){return $p(e)?366:365}B.parseTwoDigitYear=function(e){return ce(e)+(ce(e)>68?1900:2e3)};var fx=La("FullYear",!0);function xre(){return $p(this.year())}function La(e,t){return function(n){return n!=null?(px(this,e,n),B.updateOffset(this,t),this):bu(this,e)}}function bu(e,t){if(!e.isValid())return NaN;var n=e._d,r=e._isUTC;switch(t){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function px(e,t,n){var r,i,s,o,a;if(!(!e.isValid()||isNaN(n))){switch(r=e._d,i=e._isUTC,t){case"Milliseconds":return void(i?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(i?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(i?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(i?r.setUTCHours(n):r.setHours(n));case"Date":return void(i?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}s=n,o=e.month(),a=e.date(),a=a===29&&o===1&&!$p(s)?28:a,i?r.setUTCFullYear(s,o,a):r.setFullYear(s,o,a)}}function Ore(e){return e=xn(e),Er(this[e])?this[e]():this}function Nre(e,t){if(typeof e=="object"){e=a0(e);var n=Ire(e),r,i=n.length;for(r=0;r<i;r++)this[n[r].unit](e[n[r].unit])}else if(e=xn(e),Er(this[e]))return this[e](t);return this}function Mre(e,t){return(e%t+t)%t}var Xe;Array.prototype.indexOf?Xe=Array.prototype.indexOf:Xe=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function d0(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=Mre(t,12);return e+=(t-n)/12,n===1?$p(e)?29:28:31-n%7%2}J("M",["MM",2],"Mo",function(){return this.month()+1});J("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});J("MMMM",0,0,function(e){return this.localeData().months(this,e)});H("M",Fe,$a);H("MM",Fe,vn);H("MMM",function(e,t){return t.monthsShortRegex(e)});H("MMMM",function(e,t){return t.monthsRegex(e)});Re(["M","MM"],function(e,t){t[Or]=ce(e)-1});Re(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);i!=null?t[Or]=i:le(n).invalidMonth=e});var $re="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),mx="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),gx=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Lre=Ac,Fre=Ac;function Vre(e,t){return e?qn(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||gx).test(t)?"format":"standalone"][e.month()]:qn(this._months)?this._months:this._months.standalone}function jre(e,t){return e?qn(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[gx.test(t)?"format":"standalone"][e.month()]:qn(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Ure(e,t,n){var r,i,s,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)s=wr([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(s,"").toLocaleLowerCase();return n?t==="MMM"?(i=Xe.call(this._shortMonthsParse,o),i!==-1?i:null):(i=Xe.call(this._longMonthsParse,o),i!==-1?i:null):t==="MMM"?(i=Xe.call(this._shortMonthsParse,o),i!==-1?i:(i=Xe.call(this._longMonthsParse,o),i!==-1?i:null)):(i=Xe.call(this._longMonthsParse,o),i!==-1?i:(i=Xe.call(this._shortMonthsParse,o),i!==-1?i:null))}function Bre(e,t,n){var r,i,s;if(this._monthsParseExact)return Ure.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=wr([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(s.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function vx(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=ce(t);else if(t=e.localeData().monthsParse(t),!Xr(t))return e}var n=t,r=e.date();return r=r<29?r:Math.min(r,d0(e.year(),n)),e._isUTC?e._d.setUTCMonth(n,r):e._d.setMonth(n,r),e}function yx(e){return e!=null?(vx(this,e),B.updateOffset(this,!0),this):bu(this,"Month")}function zre(){return d0(this.year(),this.month())}function Wre(e){return this._monthsParseExact?(we(this,"_monthsRegex")||_x.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(we(this,"_monthsShortRegex")||(this._monthsShortRegex=Lre),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function Hre(e){return this._monthsParseExact?(we(this,"_monthsRegex")||_x.call(this),e?this._monthsStrictRegex:this._monthsRegex):(we(this,"_monthsRegex")||(this._monthsRegex=Fre),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function _x(){function e(l,u){return u.length-l.length}var t=[],n=[],r=[],i,s,o,a;for(i=0;i<12;i++)s=wr([2e3,i]),o=Fr(this.monthsShort(s,"")),a=Fr(this.months(s,"")),t.push(o),n.push(a),r.push(a),r.push(o);t.sort(e),n.sort(e),r.sort(e),this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Yre(e,t,n,r,i,s,o){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,r,i,s,o),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,r,i,s,o),a}function Du(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Zh(e,t,n){var r=7+t-n,i=(7+Du(e,0,r).getUTCDay()-t)%7;return-i+r-1}function wx(e,t,n,r,i){var s=(7+n-r)%7,o=Zh(e,r,i),a=1+7*(t-1)+s+o,l,u;return a<=0?(l=e-1,u=xl(l)+a):a>xl(e)?(l=e+1,u=a-xl(e)):(l=e,u=a),{year:l,dayOfYear:u}}function ku(e,t,n){var r=Zh(e.year(),t,n),i=Math.floor((e.dayOfYear()-r-1)/7)+1,s,o;return i<1?(o=e.year()-1,s=i+Vr(o,t,n)):i>Vr(e.year(),t,n)?(s=i-Vr(e.year(),t,n),o=e.year()+1):(o=e.year(),s=i),{week:s,year:o}}function Vr(e,t,n){var r=Zh(e,t,n),i=Zh(e+1,t,n);return(xl(e)-r+i)/7}J("w",["ww",2],"wo","week");J("W",["WW",2],"Wo","isoWeek");H("w",Fe,$a);H("ww",Fe,vn);H("W",Fe,$a);H("WW",Fe,vn);Rc(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=ce(e)});function qre(e){return ku(e,this._week.dow,this._week.doy).week}var Gre={dow:0,doy:6};function Kre(){return this._week.dow}function Qre(){return this._week.doy}function Xre(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function Jre(e){var t=ku(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}J("d",0,"do","day");J("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});J("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});J("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});J("e",0,0,"weekday");J("E",0,0,"isoWeekday");H("d",Fe);H("e",Fe);H("E",Fe);H("dd",function(e,t){return t.weekdaysMinRegex(e)});H("ddd",function(e,t){return t.weekdaysShortRegex(e)});H("dddd",function(e,t){return t.weekdaysRegex(e)});Rc(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);i!=null?t.d=i:le(n).invalidWeekday=e});Rc(["d","e","E"],function(e,t,n,r){t[r]=ce(e)});function Zre(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function eie(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function h0(e,t){return e.slice(t,7).concat(e.slice(0,t))}var tie="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ex="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),nie="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),rie=Ac,iie=Ac,sie=Ac;function oie(e,t){var n=qn(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?h0(n,this._week.dow):e?n[e.day()]:n}function aie(e){return e===!0?h0(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function lie(e){return e===!0?h0(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function uie(e,t,n){var r,i,s,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)s=wr([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(s,"").toLocaleLowerCase();return n?t==="dddd"?(i=Xe.call(this._weekdaysParse,o),i!==-1?i:null):t==="ddd"?(i=Xe.call(this._shortWeekdaysParse,o),i!==-1?i:null):(i=Xe.call(this._minWeekdaysParse,o),i!==-1?i:null):t==="dddd"?(i=Xe.call(this._weekdaysParse,o),i!==-1||(i=Xe.call(this._shortWeekdaysParse,o),i!==-1)?i:(i=Xe.call(this._minWeekdaysParse,o),i!==-1?i:null)):t==="ddd"?(i=Xe.call(this._shortWeekdaysParse,o),i!==-1||(i=Xe.call(this._weekdaysParse,o),i!==-1)?i:(i=Xe.call(this._minWeekdaysParse,o),i!==-1?i:null)):(i=Xe.call(this._minWeekdaysParse,o),i!==-1||(i=Xe.call(this._weekdaysParse,o),i!==-1)?i:(i=Xe.call(this._shortWeekdaysParse,o),i!==-1?i:null))}function cie(e,t,n){var r,i,s;if(this._weekdaysParseExact)return uie.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=wr([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(s.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(n&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(n&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function die(e){if(!this.isValid())return e!=null?this:NaN;var t=bu(this,"Day");return e!=null?(e=Zre(e,this.localeData()),this.add(e-t,"d")):t}function hie(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function fie(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=eie(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function pie(e){return this._weekdaysParseExact?(we(this,"_weekdaysRegex")||f0.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(we(this,"_weekdaysRegex")||(this._weekdaysRegex=rie),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function mie(e){return this._weekdaysParseExact?(we(this,"_weekdaysRegex")||f0.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(we(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=iie),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function gie(e){return this._weekdaysParseExact?(we(this,"_weekdaysRegex")||f0.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(we(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=sie),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function f0(){function e(c,d){return d.length-c.length}var t=[],n=[],r=[],i=[],s,o,a,l,u;for(s=0;s<7;s++)o=wr([2e3,1]).day(s),a=Fr(this.weekdaysMin(o,"")),l=Fr(this.weekdaysShort(o,"")),u=Fr(this.weekdays(o,"")),t.push(a),n.push(l),r.push(u),i.push(a),i.push(l),i.push(u);t.sort(e),n.sort(e),r.sort(e),i.sort(e),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function p0(){return this.hours()%12||12}function vie(){return this.hours()||24}J("H",["HH",2],0,"hour");J("h",["hh",2],0,p0);J("k",["kk",2],0,vie);J("hmm",0,0,function(){return""+p0.apply(this)+vr(this.minutes(),2)});J("hmmss",0,0,function(){return""+p0.apply(this)+vr(this.minutes(),2)+vr(this.seconds(),2)});J("Hmm",0,0,function(){return""+this.hours()+vr(this.minutes(),2)});J("Hmmss",0,0,function(){return""+this.hours()+vr(this.minutes(),2)+vr(this.seconds(),2)});function Sx(e,t){J(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}Sx("a",!0);Sx("A",!1);function Tx(e,t){return t._meridiemParse}H("a",Tx);H("A",Tx);H("H",Fe,c0);H("h",Fe,$a);H("k",Fe,$a);H("HH",Fe,vn);H("hh",Fe,vn);H("kk",Fe,vn);H("hmm",dx);H("hmmss",hx);H("Hmm",dx);H("Hmmss",hx);Re(["H","HH"],ot);Re(["k","kk"],function(e,t,n){var r=ce(e);t[ot]=r===24?0:r});Re(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});Re(["h","hh"],function(e,t,n){t[ot]=ce(e),le(n).bigHour=!0});Re("hmm",function(e,t,n){var r=e.length-2;t[ot]=ce(e.substr(0,r)),t[Vn]=ce(e.substr(r)),le(n).bigHour=!0});Re("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[ot]=ce(e.substr(0,r)),t[Vn]=ce(e.substr(r,2)),t[Nr]=ce(e.substr(i)),le(n).bigHour=!0});Re("Hmm",function(e,t,n){var r=e.length-2;t[ot]=ce(e.substr(0,r)),t[Vn]=ce(e.substr(r))});Re("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[ot]=ce(e.substr(0,r)),t[Vn]=ce(e.substr(r,2)),t[Nr]=ce(e.substr(i))});function yie(e){return(e+"").toLowerCase().charAt(0)==="p"}var _ie=/[ap]\.?m?\.?/i,wie=La("Hours",!0);function Eie(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var Ix={calendar:ure,longDateFormat:fre,invalidDate:mre,ordinal:vre,dayOfMonthOrdinalParse:yre,relativeTime:wre,months:$re,monthsShort:mx,week:Gre,weekdays:tie,weekdaysMin:nie,weekdaysShort:Ex,meridiemParse:_ie},Ve={},el={},xu;function Sie(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function uI(e){return e&&e.toLowerCase().replace("_","-")}function Tie(e){for(var t=0,n,r,i,s;t<e.length;){for(s=uI(e[t]).split("-"),n=s.length,r=uI(e[t+1]),r=r?r.split("-"):null;n>0;){if(i=Lp(s.slice(0,n).join("-")),i)return i;if(r&&r.length>=n&&Sie(s,r)>=n-1)break;n--}t++}return xu}function Iie(e){return!!(e&&e.match("^[^/\\\\]*$"))}function Lp(e){var t=null,n;if(Ve[e]===void 0&&typeof jd<"u"&&jd&&jd.exports&&Iie(e))try{t=xu._abbr,n=require,n("./locale/"+e),Fi(t)}catch{Ve[e]=null}return Ve[e]}function Fi(e,t){var n;return e&&(Gt(t)?n=ii(e):n=m0(e,t),n?xu=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),xu._abbr}function m0(e,t){if(t!==null){var n,r=Ix;if(t.abbr=e,Ve[e]!=null)ax("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Ve[e]._config;else if(t.parentLocale!=null)if(Ve[t.parentLocale]!=null)r=Ve[t.parentLocale]._config;else if(n=Lp(t.parentLocale),n!=null)r=n._config;else return el[t.parentLocale]||(el[t.parentLocale]=[]),el[t.parentLocale].push({name:e,config:t}),null;return Ve[e]=new s0(Kv(r,t)),el[e]&&el[e].forEach(function(i){m0(i.name,i.config)}),Fi(e),Ve[e]}else return delete Ve[e],null}function Aie(e,t){if(t!=null){var n,r,i=Ix;Ve[e]!=null&&Ve[e].parentLocale!=null?Ve[e].set(Kv(Ve[e]._config,t)):(r=Lp(e),r!=null&&(i=r._config),t=Kv(i,t),r==null&&(t.abbr=e),n=new s0(t),n.parentLocale=Ve[e],Ve[e]=n),Fi(e)}else Ve[e]!=null&&(Ve[e].parentLocale!=null?(Ve[e]=Ve[e].parentLocale,e===Fi()&&Fi(e)):Ve[e]!=null&&delete Ve[e]);return Ve[e]}function ii(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return xu;if(!qn(e)){if(t=Lp(e),t)return t;e=[e]}return Tie(e)}function Rie(){return Qv(Ve)}function g0(e){var t,n=e._a;return n&&le(e).overflow===-2&&(t=n[Or]<0||n[Or]>11?Or:n[rr]<1||n[rr]>d0(n[$t],n[Or])?rr:n[ot]<0||n[ot]>24||n[ot]===24&&(n[Vn]!==0||n[Nr]!==0||n[vs]!==0)?ot:n[Vn]<0||n[Vn]>59?Vn:n[Nr]<0||n[Nr]>59?Nr:n[vs]<0||n[vs]>999?vs:-1,le(e)._overflowDayOfYear&&(t<$t||t>rr)&&(t=rr),le(e)._overflowWeeks&&t===-1&&(t=Dre),le(e)._overflowWeekday&&t===-1&&(t=kre),le(e).overflow=t),e}var Pie=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Cie=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,bie=/Z|[+-]\d\d(?::?\d\d)?/,ld=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Jm=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Die=/^\/?Date\((-?\d+)/i,kie=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,xie={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Ax(e){var t,n,r=e._i,i=Pie.exec(r)||Cie.exec(r),s,o,a,l,u=ld.length,c=Jm.length;if(i){for(le(e).iso=!0,t=0,n=u;t<n;t++)if(ld[t][1].exec(i[1])){o=ld[t][0],s=ld[t][2]!==!1;break}if(o==null){e._isValid=!1;return}if(i[3]){for(t=0,n=c;t<n;t++)if(Jm[t][1].exec(i[3])){a=(i[2]||" ")+Jm[t][0];break}if(a==null){e._isValid=!1;return}}if(!s&&a!=null){e._isValid=!1;return}if(i[4])if(bie.exec(i[4]))l="Z";else{e._isValid=!1;return}e._f=o+(a||"")+(l||""),y0(e)}else e._isValid=!1}function Oie(e,t,n,r,i,s){var o=[Nie(e),mx.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return s&&o.push(parseInt(s,10)),o}function Nie(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Mie(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function $ie(e,t,n){if(e){var r=Ex.indexOf(e),i=new Date(t[0],t[1],t[2]).getDay();if(r!==i)return le(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function Lie(e,t,n){if(e)return xie[e];if(t)return 0;var r=parseInt(n,10),i=r%100,s=(r-i)/100;return s*60+i}function Rx(e){var t=kie.exec(Mie(e._i)),n;if(t){if(n=Oie(t[4],t[3],t[2],t[5],t[6],t[7]),!$ie(t[1],n,e))return;e._a=n,e._tzm=Lie(t[8],t[9],t[10]),e._d=Du.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),le(e).rfc2822=!0}else e._isValid=!1}function Fie(e){var t=Die.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(Ax(e),e._isValid===!1)delete e._isValid;else return;if(Rx(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:B.createFromInputFallback(e)}B.createFromInputFallback=kn("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function co(e,t,n){return e??t??n}function Vie(e){var t=new Date(B.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function v0(e){var t,n,r=[],i,s,o;if(!e._d){for(i=Vie(e),e._w&&e._a[rr]==null&&e._a[Or]==null&&jie(e),e._dayOfYear!=null&&(o=co(e._a[$t],i[$t]),(e._dayOfYear>xl(o)||e._dayOfYear===0)&&(le(e)._overflowDayOfYear=!0),n=Du(o,0,e._dayOfYear),e._a[Or]=n.getUTCMonth(),e._a[rr]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=i[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[ot]===24&&e._a[Vn]===0&&e._a[Nr]===0&&e._a[vs]===0&&(e._nextDay=!0,e._a[ot]=0),e._d=(e._useUTC?Du:Yre).apply(null,r),s=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ot]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==s&&(le(e).weekdayMismatch=!0)}}function jie(e){var t,n,r,i,s,o,a,l,u;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(s=1,o=4,n=co(t.GG,e._a[$t],ku(Le(),1,4).year),r=co(t.W,1),i=co(t.E,1),(i<1||i>7)&&(l=!0)):(s=e._locale._week.dow,o=e._locale._week.doy,u=ku(Le(),s,o),n=co(t.gg,e._a[$t],u.year),r=co(t.w,u.week),t.d!=null?(i=t.d,(i<0||i>6)&&(l=!0)):t.e!=null?(i=t.e+s,(t.e<0||t.e>6)&&(l=!0)):i=s),r<1||r>Vr(n,s,o)?le(e)._overflowWeeks=!0:l!=null?le(e)._overflowWeekday=!0:(a=wx(n,r,i,s,o),e._a[$t]=a.year,e._dayOfYear=a.dayOfYear)}B.ISO_8601=function(){};B.RFC_2822=function(){};function y0(e){if(e._f===B.ISO_8601){Ax(e);return}if(e._f===B.RFC_2822){Rx(e);return}e._a=[],le(e).empty=!0;var t=""+e._i,n,r,i,s,o,a=t.length,l=0,u,c;for(i=lx(e._f,e._locale).match(o0)||[],c=i.length,n=0;n<c;n++)s=i[n],r=(t.match(Pre(s,e))||[])[0],r&&(o=t.substr(0,t.indexOf(r)),o.length>0&&le(e).unusedInput.push(o),t=t.slice(t.indexOf(r)+r.length),l+=r.length),Fo[s]?(r?le(e).empty=!1:le(e).unusedTokens.push(s),bre(s,r,e)):e._strict&&!r&&le(e).unusedTokens.push(s);le(e).charsLeftOver=a-l,t.length>0&&le(e).unusedInput.push(t),e._a[ot]<=12&&le(e).bigHour===!0&&e._a[ot]>0&&(le(e).bigHour=void 0),le(e).parsedDateParts=e._a.slice(0),le(e).meridiem=e._meridiem,e._a[ot]=Uie(e._locale,e._a[ot],e._meridiem),u=le(e).era,u!==null&&(e._a[$t]=e._locale.erasConvertYear(u,e._a[$t])),v0(e),g0(e)}function Uie(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function Bie(e){var t,n,r,i,s,o,a=!1,l=e._f.length;if(l===0){le(e).invalidFormat=!0,e._d=new Date(NaN);return}for(i=0;i<l;i++)s=0,o=!1,t=i0({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[i],y0(t),r0(t)&&(o=!0),s+=le(t).charsLeftOver,s+=le(t).unusedTokens.length*10,le(t).score=s,a?s<r&&(r=s,n=t):(r==null||s<r||o)&&(r=s,n=t,o&&(a=!0));Ti(e,n||t)}function zie(e){if(!e._d){var t=a0(e._i),n=t.day===void 0?t.date:t.day;e._a=sx([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),v0(e)}}function Wie(e){var t=new Ic(g0(Px(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Px(e){var t=e._i,n=e._f;return e._locale=e._locale||ii(e._l),t===null||n===void 0&&t===""?Dp({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Gn(t)?new Ic(g0(t)):(Tc(t)?e._d=t:qn(n)?Bie(e):n?y0(e):Hie(e),r0(e)||(e._d=null),e))}function Hie(e){var t=e._i;Gt(t)?e._d=new Date(B.now()):Tc(t)?e._d=new Date(t.valueOf()):typeof t=="string"?Fie(e):qn(t)?(e._a=sx(t.slice(0),function(n){return parseInt(n,10)}),v0(e)):As(t)?zie(e):Xr(t)?e._d=new Date(t):B.createFromInputFallback(e)}function Cx(e,t,n,r,i){var s={};return(t===!0||t===!1)&&(r=t,t=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(As(e)&&n0(e)||qn(e)&&e.length===0)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=e,s._f=t,s._strict=r,Wie(s)}function Le(e,t,n,r){return Cx(e,t,n,r,!1)}var Yie=kn("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Le.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Dp()}),qie=kn("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Le.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Dp()});function bx(e,t){var n,r;if(t.length===1&&qn(t[0])&&(t=t[0]),!t.length)return Le();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function Gie(){var e=[].slice.call(arguments,0);return bx("isBefore",e)}function Kie(){var e=[].slice.call(arguments,0);return bx("isAfter",e)}var Qie=function(){return Date.now?Date.now():+new Date},tl=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Xie(e){var t,n=!1,r,i=tl.length;for(t in e)if(we(e,t)&&!(Xe.call(tl,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<i;++r)if(e[tl[r]]){if(n)return!1;parseFloat(e[tl[r]])!==ce(e[tl[r]])&&(n=!0)}return!0}function Jie(){return this._isValid}function Zie(){return Qn(NaN)}function Fp(e){var t=a0(e),n=t.year||0,r=t.quarter||0,i=t.month||0,s=t.week||t.isoWeek||0,o=t.day||0,a=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._isValid=Xie(t),this._milliseconds=+c+u*1e3+l*6e4+a*1e3*60*60,this._days=+o+s*7,this._months=+i+r*3+n*12,this._data={},this._locale=ii(),this._bubble()}function Fd(e){return e instanceof Fp}function Jv(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function ese(e,t,n){var r=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),s=0,o;for(o=0;o<r;o++)(n&&e[o]!==t[o]||!n&&ce(e[o])!==ce(t[o]))&&s++;return s+i}function Dx(e,t){J(e,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+vr(~~(n/60),2)+t+vr(~~n%60,2)})}Dx("Z",":");Dx("ZZ","");H("Z",Mp);H("ZZ",Mp);Re(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=_0(Mp,e)});var tse=/([\+\-]|\d\d)/gi;function _0(e,t){var n=(t||"").match(e),r,i,s;return n===null?null:(r=n[n.length-1]||[],i=(r+"").match(tse)||["-",0,0],s=+(i[1]*60)+ce(i[2]),s===0?0:i[0]==="+"?s:-s)}function w0(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(Gn(e)||Tc(e)?e.valueOf():Le(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),B.updateOffset(n,!1),n):Le(e).local()}function Zv(e){return-Math.round(e._d.getTimezoneOffset())}B.updateOffset=function(){};function nse(e,t,n){var r=this._offset||0,i;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=_0(Mp,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(i=Zv(this)),this._offset=e,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==e&&(!t||this._changeInProgress?Ox(this,Qn(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,B.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:Zv(this)}function rse(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function ise(e){return this.utcOffset(0,e)}function sse(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Zv(this),"m")),this}function ose(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=_0(Are,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function ase(e){return this.isValid()?(e=e?Le(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function lse(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function use(){if(!Gt(this._isDSTShifted))return this._isDSTShifted;var e={},t;return i0(e,this),e=Px(e),e._a?(t=e._isUTC?wr(e._a):Le(e._a),this._isDSTShifted=this.isValid()&&ese(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function cse(){return this.isValid()?!this._isUTC:!1}function dse(){return this.isValid()?this._isUTC:!1}function kx(){return this.isValid()?this._isUTC&&this._offset===0:!1}var hse=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,fse=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Qn(e,t){var n=e,r=null,i,s,o;return Fd(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:Xr(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(r=hse.exec(e))?(i=r[1]==="-"?-1:1,n={y:0,d:ce(r[rr])*i,h:ce(r[ot])*i,m:ce(r[Vn])*i,s:ce(r[Nr])*i,ms:ce(Jv(r[vs]*1e3))*i}):(r=fse.exec(e))?(i=r[1]==="-"?-1:1,n={y:ss(r[2],i),M:ss(r[3],i),w:ss(r[4],i),d:ss(r[5],i),h:ss(r[6],i),m:ss(r[7],i),s:ss(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(o=pse(Le(n.from),Le(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),s=new Fp(n),Fd(e)&&we(e,"_locale")&&(s._locale=e._locale),Fd(e)&&we(e,"_isValid")&&(s._isValid=e._isValid),s}Qn.fn=Fp.prototype;Qn.invalid=Zie;function ss(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function cI(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function pse(e,t){var n;return e.isValid()&&t.isValid()?(t=w0(t,e),e.isBefore(t)?n=cI(e,t):(n=cI(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function xx(e,t){return function(n,r){var i,s;return r!==null&&!isNaN(+r)&&(ax(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=n,n=r,r=s),i=Qn(n,r),Ox(this,i,e),this}}function Ox(e,t,n,r){var i=t._milliseconds,s=Jv(t._days),o=Jv(t._months);e.isValid()&&(r=r??!0,o&&vx(e,bu(e,"Month")+o*n),s&&px(e,"Date",bu(e,"Date")+s*n),i&&e._d.setTime(e._d.valueOf()+i*n),r&&B.updateOffset(e,s||o))}var mse=xx(1,"add"),gse=xx(-1,"subtract");function Nx(e){return typeof e=="string"||e instanceof String}function vse(e){return Gn(e)||Tc(e)||Nx(e)||Xr(e)||_se(e)||yse(e)||e===null||e===void 0}function yse(e){var t=As(e)&&!n0(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,s,o=r.length;for(i=0;i<o;i+=1)s=r[i],n=n||we(e,s);return t&&n}function _se(e){var t=qn(e),n=!1;return t&&(n=e.filter(function(r){return!Xr(r)&&Nx(e)}).length===0),t&&n}function wse(e){var t=As(e)&&!n0(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,s;for(i=0;i<r.length;i+=1)s=r[i],n=n||we(e,s);return t&&n}function Ese(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Sse(e,t){arguments.length===1&&(arguments[0]?vse(arguments[0])?(e=arguments[0],t=void 0):wse(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Le(),r=w0(n,this).startOf("day"),i=B.calendarFormat(this,r)||"sameElse",s=t&&(Er(t[i])?t[i].call(this,n):t[i]);return this.format(s||this.localeData().calendar(i,this,Le(n)))}function Tse(){return new Ic(this)}function Ise(e,t){var n=Gn(e)?e:Le(e);return this.isValid()&&n.isValid()?(t=xn(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function Ase(e,t){var n=Gn(e)?e:Le(e);return this.isValid()&&n.isValid()?(t=xn(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function Rse(e,t,n,r){var i=Gn(e)?e:Le(e),s=Gn(t)?t:Le(t);return this.isValid()&&i.isValid()&&s.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(r[1]===")"?this.isBefore(s,n):!this.isAfter(s,n))):!1}function Pse(e,t){var n=Gn(e)?e:Le(e),r;return this.isValid()&&n.isValid()?(t=xn(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function Cse(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function bse(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Dse(e,t,n){var r,i,s;if(!this.isValid())return NaN;if(r=w0(e,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,t=xn(t),t){case"year":s=Vd(this,r)/12;break;case"month":s=Vd(this,r);break;case"quarter":s=Vd(this,r)/3;break;case"second":s=(this-r)/1e3;break;case"minute":s=(this-r)/6e4;break;case"hour":s=(this-r)/36e5;break;case"day":s=(this-r-i)/864e5;break;case"week":s=(this-r-i)/6048e5;break;default:s=this-r}return n?s:wn(s)}function Vd(e,t){if(e.date()<t.date())return-Vd(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),i,s;return t-r<0?(i=e.clone().add(n-1,"months"),s=(t-r)/(r-i)):(i=e.clone().add(n+1,"months"),s=(t-r)/(i-r)),-(n+s)||0}B.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";B.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function kse(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function xse(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?Ld(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Er(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Ld(n,"Z")):Ld(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Ose(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,r,i,s;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",s=t+'[")]',this.format(n+r+i+s)}function Nse(e){e||(e=this.isUtc()?B.defaultFormatUtc:B.defaultFormat);var t=Ld(this,e);return this.localeData().postformat(t)}function Mse(e,t){return this.isValid()&&(Gn(e)&&e.isValid()||Le(e).isValid())?Qn({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function $se(e){return this.from(Le(),e)}function Lse(e,t){return this.isValid()&&(Gn(e)&&e.isValid()||Le(e).isValid())?Qn({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Fse(e){return this.to(Le(),e)}function Mx(e){var t;return e===void 0?this._locale._abbr:(t=ii(e),t!=null&&(this._locale=t),this)}var $x=kn("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function Lx(){return this._locale}var ef=1e3,Vo=60*ef,tf=60*Vo,Fx=(365*400+97)*24*tf;function jo(e,t){return(e%t+t)%t}function Vx(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-Fx:new Date(e,t,n).valueOf()}function jx(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-Fx:Date.UTC(e,t,n)}function Vse(e){var t,n;if(e=xn(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?jx:Vx,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=jo(t+(this._isUTC?0:this.utcOffset()*Vo),tf);break;case"minute":t=this._d.valueOf(),t-=jo(t,Vo);break;case"second":t=this._d.valueOf(),t-=jo(t,ef);break}return this._d.setTime(t),B.updateOffset(this,!0),this}function jse(e){var t,n;if(e=xn(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?jx:Vx,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=tf-jo(t+(this._isUTC?0:this.utcOffset()*Vo),tf)-1;break;case"minute":t=this._d.valueOf(),t+=Vo-jo(t,Vo)-1;break;case"second":t=this._d.valueOf(),t+=ef-jo(t,ef)-1;break}return this._d.setTime(t),B.updateOffset(this,!0),this}function Use(){return this._d.valueOf()-(this._offset||0)*6e4}function Bse(){return Math.floor(this.valueOf()/1e3)}function zse(){return new Date(this.valueOf())}function Wse(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Hse(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Yse(){return this.isValid()?this.toISOString():null}function qse(){return r0(this)}function Gse(){return Ti({},le(this))}function Kse(){return le(this).overflow}function Qse(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}J("N",0,0,"eraAbbr");J("NN",0,0,"eraAbbr");J("NNN",0,0,"eraAbbr");J("NNNN",0,0,"eraName");J("NNNNN",0,0,"eraNarrow");J("y",["y",1],"yo","eraYear");J("y",["yy",2],0,"eraYear");J("y",["yyy",3],0,"eraYear");J("y",["yyyy",4],0,"eraYear");H("N",E0);H("NN",E0);H("NNN",E0);H("NNNN",aoe);H("NNNNN",loe);Re(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?le(n).era=i:le(n).invalidEra=e});H("y",Ma);H("yy",Ma);H("yyy",Ma);H("yyyy",Ma);H("yo",uoe);Re(["y","yy","yyy","yyyy"],$t);Re(["yo"],function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[$t]=n._locale.eraYearOrdinalParse(e,i):t[$t]=parseInt(e,10)});function Xse(e,t){var n,r,i,s=this._eras||ii("en")._eras;for(n=0,r=s.length;n<r;++n){switch(typeof s[n].since){case"string":i=B(s[n].since).startOf("day"),s[n].since=i.valueOf();break}switch(typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":i=B(s[n].until).startOf("day").valueOf(),s[n].until=i.valueOf();break}}return s}function Jse(e,t,n){var r,i,s=this.eras(),o,a,l;for(e=e.toUpperCase(),r=0,i=s.length;r<i;++r)if(o=s[r].name.toUpperCase(),a=s[r].abbr.toUpperCase(),l=s[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return s[r];break;case"NNNN":if(o===e)return s[r];break;case"NNNNN":if(l===e)return s[r];break}else if([o,a,l].indexOf(e)>=0)return s[r]}function Zse(e,t){var n=e.since<=e.until?1:-1;return t===void 0?B(e.since).year():B(e.since).year()+(t-e.offset)*n}function eoe(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""}function toe(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""}function noe(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""}function roe(){var e,t,n,r,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=i[e].since<=i[e].until?1:-1,r=this.clone().startOf("day").valueOf(),i[e].since<=r&&r<=i[e].until||i[e].until<=r&&r<=i[e].since)return(this.year()-B(i[e].since).year())*n+i[e].offset;return this.year()}function ioe(e){return we(this,"_erasNameRegex")||S0.call(this),e?this._erasNameRegex:this._erasRegex}function soe(e){return we(this,"_erasAbbrRegex")||S0.call(this),e?this._erasAbbrRegex:this._erasRegex}function ooe(e){return we(this,"_erasNarrowRegex")||S0.call(this),e?this._erasNarrowRegex:this._erasRegex}function E0(e,t){return t.erasAbbrRegex(e)}function aoe(e,t){return t.erasNameRegex(e)}function loe(e,t){return t.erasNarrowRegex(e)}function uoe(e,t){return t._eraYearOrdinalRegex||Ma}function S0(){var e=[],t=[],n=[],r=[],i,s,o,a,l,u=this.eras();for(i=0,s=u.length;i<s;++i)o=Fr(u[i].name),a=Fr(u[i].abbr),l=Fr(u[i].narrow),t.push(o),e.push(a),n.push(l),r.push(o),r.push(a),r.push(l);this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}J(0,["gg",2],0,function(){return this.weekYear()%100});J(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Vp(e,t){J(0,[e,e.length],0,t)}Vp("gggg","weekYear");Vp("ggggg","weekYear");Vp("GGGG","isoWeekYear");Vp("GGGGG","isoWeekYear");H("G",Np);H("g",Np);H("GG",Fe,vn);H("gg",Fe,vn);H("GGGG",u0,l0);H("gggg",u0,l0);H("GGGGG",Op,kp);H("ggggg",Op,kp);Rc(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=ce(e)});Rc(["gg","GG"],function(e,t,n,r){t[r]=B.parseTwoDigitYear(e)});function coe(e){return Ux.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function doe(e){return Ux.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function hoe(){return Vr(this.year(),1,4)}function foe(){return Vr(this.isoWeekYear(),1,4)}function poe(){var e=this.localeData()._week;return Vr(this.year(),e.dow,e.doy)}function moe(){var e=this.localeData()._week;return Vr(this.weekYear(),e.dow,e.doy)}function Ux(e,t,n,r,i){var s;return e==null?ku(this,r,i).year:(s=Vr(e,r,i),t>s&&(t=s),goe.call(this,e,t,n,r,i))}function goe(e,t,n,r,i){var s=wx(e,t,n,r,i),o=Du(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}J("Q",0,"Qo","quarter");H("Q",ux);Re("Q",function(e,t){t[Or]=(ce(e)-1)*3});function voe(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}J("D",["DD",2],"Do","date");H("D",Fe,$a);H("DD",Fe,vn);H("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});Re(["D","DD"],rr);Re("Do",function(e,t){t[rr]=ce(e.match(Fe)[0])});var Bx=La("Date",!0);J("DDD",["DDDD",3],"DDDo","dayOfYear");H("DDD",xp);H("DDDD",cx);Re(["DDD","DDDD"],function(e,t,n){n._dayOfYear=ce(e)});function yoe(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}J("m",["mm",2],0,"minute");H("m",Fe,c0);H("mm",Fe,vn);Re(["m","mm"],Vn);var _oe=La("Minutes",!1);J("s",["ss",2],0,"second");H("s",Fe,c0);H("ss",Fe,vn);Re(["s","ss"],Nr);var woe=La("Seconds",!1);J("S",0,0,function(){return~~(this.millisecond()/100)});J(0,["SS",2],0,function(){return~~(this.millisecond()/10)});J(0,["SSS",3],0,"millisecond");J(0,["SSSS",4],0,function(){return this.millisecond()*10});J(0,["SSSSS",5],0,function(){return this.millisecond()*100});J(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});J(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});J(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});J(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});H("S",xp,ux);H("SS",xp,vn);H("SSS",xp,cx);var Ii,zx;for(Ii="SSSS";Ii.length<=9;Ii+="S")H(Ii,Ma);function Eoe(e,t){t[vs]=ce(("0."+e)*1e3)}for(Ii="S";Ii.length<=9;Ii+="S")Re(Ii,Eoe);zx=La("Milliseconds",!1);J("z",0,0,"zoneAbbr");J("zz",0,0,"zoneName");function Soe(){return this._isUTC?"UTC":""}function Toe(){return this._isUTC?"Coordinated Universal Time":""}var L=Ic.prototype;L.add=mse;L.calendar=Sse;L.clone=Tse;L.diff=Dse;L.endOf=jse;L.format=Nse;L.from=Mse;L.fromNow=$se;L.to=Lse;L.toNow=Fse;L.get=Ore;L.invalidAt=Kse;L.isAfter=Ise;L.isBefore=Ase;L.isBetween=Rse;L.isSame=Pse;L.isSameOrAfter=Cse;L.isSameOrBefore=bse;L.isValid=qse;L.lang=$x;L.locale=Mx;L.localeData=Lx;L.max=qie;L.min=Yie;L.parsingFlags=Gse;L.set=Nre;L.startOf=Vse;L.subtract=gse;L.toArray=Wse;L.toObject=Hse;L.toDate=zse;L.toISOString=xse;L.inspect=Ose;typeof Symbol<"u"&&Symbol.for!=null&&(L[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});L.toJSON=Yse;L.toString=kse;L.unix=Bse;L.valueOf=Use;L.creationData=Qse;L.eraName=eoe;L.eraNarrow=toe;L.eraAbbr=noe;L.eraYear=roe;L.year=fx;L.isLeapYear=xre;L.weekYear=coe;L.isoWeekYear=doe;L.quarter=L.quarters=voe;L.month=yx;L.daysInMonth=zre;L.week=L.weeks=Xre;L.isoWeek=L.isoWeeks=Jre;L.weeksInYear=poe;L.weeksInWeekYear=moe;L.isoWeeksInYear=hoe;L.isoWeeksInISOWeekYear=foe;L.date=Bx;L.day=L.days=die;L.weekday=hie;L.isoWeekday=fie;L.dayOfYear=yoe;L.hour=L.hours=wie;L.minute=L.minutes=_oe;L.second=L.seconds=woe;L.millisecond=L.milliseconds=zx;L.utcOffset=nse;L.utc=ise;L.local=sse;L.parseZone=ose;L.hasAlignedHourOffset=ase;L.isDST=lse;L.isLocal=cse;L.isUtcOffset=dse;L.isUtc=kx;L.isUTC=kx;L.zoneAbbr=Soe;L.zoneName=Toe;L.dates=kn("dates accessor is deprecated. Use date instead.",Bx);L.months=kn("months accessor is deprecated. Use month instead",yx);L.years=kn("years accessor is deprecated. Use year instead",fx);L.zone=kn("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",rse);L.isDSTShifted=kn("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",use);function Ioe(e){return Le(e*1e3)}function Aoe(){return Le.apply(null,arguments).parseZone()}function Wx(e){return e}var Ee=s0.prototype;Ee.calendar=cre;Ee.longDateFormat=pre;Ee.invalidDate=gre;Ee.ordinal=_re;Ee.preparse=Wx;Ee.postformat=Wx;Ee.relativeTime=Ere;Ee.pastFuture=Sre;Ee.set=lre;Ee.eras=Xse;Ee.erasParse=Jse;Ee.erasConvertYear=Zse;Ee.erasAbbrRegex=soe;Ee.erasNameRegex=ioe;Ee.erasNarrowRegex=ooe;Ee.months=Vre;Ee.monthsShort=jre;Ee.monthsParse=Bre;Ee.monthsRegex=Hre;Ee.monthsShortRegex=Wre;Ee.week=qre;Ee.firstDayOfYear=Qre;Ee.firstDayOfWeek=Kre;Ee.weekdays=oie;Ee.weekdaysMin=lie;Ee.weekdaysShort=aie;Ee.weekdaysParse=cie;Ee.weekdaysRegex=pie;Ee.weekdaysShortRegex=mie;Ee.weekdaysMinRegex=gie;Ee.isPM=yie;Ee.meridiem=Eie;function nf(e,t,n,r){var i=ii(),s=wr().set(r,t);return i[n](s,e)}function Hx(e,t,n){if(Xr(e)&&(t=e,e=void 0),e=e||"",t!=null)return nf(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=nf(e,r,n,"month");return i}function T0(e,t,n,r){typeof e=="boolean"?(Xr(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,Xr(t)&&(n=t,t=void 0),t=t||"");var i=ii(),s=e?i._week.dow:0,o,a=[];if(n!=null)return nf(t,(n+s)%7,r,"day");for(o=0;o<7;o++)a[o]=nf(t,(o+s)%7,r,"day");return a}function Roe(e,t){return Hx(e,t,"months")}function Poe(e,t){return Hx(e,t,"monthsShort")}function Coe(e,t,n){return T0(e,t,n,"weekdays")}function boe(e,t,n){return T0(e,t,n,"weekdaysShort")}function Doe(e,t,n){return T0(e,t,n,"weekdaysMin")}Fi("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=ce(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});B.lang=kn("moment.lang is deprecated. Use moment.locale instead.",Fi);B.langData=kn("moment.langData is deprecated. Use moment.localeData instead.",ii);var Sr=Math.abs;function koe(){var e=this._data;return this._milliseconds=Sr(this._milliseconds),this._days=Sr(this._days),this._months=Sr(this._months),e.milliseconds=Sr(e.milliseconds),e.seconds=Sr(e.seconds),e.minutes=Sr(e.minutes),e.hours=Sr(e.hours),e.months=Sr(e.months),e.years=Sr(e.years),this}function Yx(e,t,n,r){var i=Qn(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function xoe(e,t){return Yx(this,e,t,1)}function Ooe(e,t){return Yx(this,e,t,-1)}function dI(e){return e<0?Math.floor(e):Math.ceil(e)}function Noe(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,i,s,o,a,l;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=dI(ey(n)+t)*864e5,t=0,n=0),r.milliseconds=e%1e3,i=wn(e/1e3),r.seconds=i%60,s=wn(i/60),r.minutes=s%60,o=wn(s/60),r.hours=o%24,t+=wn(o/24),l=wn(qx(t)),n+=l,t-=dI(ey(l)),a=wn(n/12),n%=12,r.days=t,r.months=n,r.years=a,this}function qx(e){return e*4800/146097}function ey(e){return e*146097/4800}function Moe(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=xn(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,n=this._months+qx(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(ey(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function si(e){return function(){return this.as(e)}}var Gx=si("ms"),$oe=si("s"),Loe=si("m"),Foe=si("h"),Voe=si("d"),joe=si("w"),Uoe=si("M"),Boe=si("Q"),zoe=si("y"),Woe=Gx;function Hoe(){return Qn(this)}function Yoe(e){return e=xn(e),this.isValid()?this[e+"s"]():NaN}function to(e){return function(){return this.isValid()?this._data[e]:NaN}}var qoe=to("milliseconds"),Goe=to("seconds"),Koe=to("minutes"),Qoe=to("hours"),Xoe=to("days"),Joe=to("months"),Zoe=to("years");function eae(){return wn(this.days()/7)}var Ar=Math.round,Ro={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function tae(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function nae(e,t,n,r){var i=Qn(e).abs(),s=Ar(i.as("s")),o=Ar(i.as("m")),a=Ar(i.as("h")),l=Ar(i.as("d")),u=Ar(i.as("M")),c=Ar(i.as("w")),d=Ar(i.as("y")),h=s<=n.ss&&["s",s]||s<n.s&&["ss",s]||o<=1&&["m"]||o<n.m&&["mm",o]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(h=h||c<=1&&["w"]||c<n.w&&["ww",c]),h=h||u<=1&&["M"]||u<n.M&&["MM",u]||d<=1&&["y"]||["yy",d],h[2]=t,h[3]=+e>0,h[4]=r,tae.apply(null,h)}function rae(e){return e===void 0?Ar:typeof e=="function"?(Ar=e,!0):!1}function iae(e,t){return Ro[e]===void 0?!1:t===void 0?Ro[e]:(Ro[e]=t,e==="s"&&(Ro.ss=t-1),!0)}function sae(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Ro,i,s;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(r=Object.assign({},Ro,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),i=this.localeData(),s=nae(this,!n,r,i),n&&(s=i.pastFuture(+this,s)),i.postformat(s)}var Zm=Math.abs;function so(e){return(e>0)-(e<0)||+e}function jp(){if(!this.isValid())return this.localeData().invalidDate();var e=Zm(this._milliseconds)/1e3,t=Zm(this._days),n=Zm(this._months),r,i,s,o,a=this.asSeconds(),l,u,c,d;return a?(r=wn(e/60),i=wn(r/60),e%=60,r%=60,s=wn(n/12),n%=12,o=e?e.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",u=so(this._months)!==so(a)?"-":"",c=so(this._days)!==so(a)?"-":"",d=so(this._milliseconds)!==so(a)?"-":"",l+"P"+(s?u+s+"Y":"")+(n?u+n+"M":"")+(t?c+t+"D":"")+(i||r||e?"T":"")+(i?d+i+"H":"")+(r?d+r+"M":"")+(e?d+o+"S":"")):"P0D"}var ge=Fp.prototype;ge.isValid=Jie;ge.abs=koe;ge.add=xoe;ge.subtract=Ooe;ge.as=Moe;ge.asMilliseconds=Gx;ge.asSeconds=$oe;ge.asMinutes=Loe;ge.asHours=Foe;ge.asDays=Voe;ge.asWeeks=joe;ge.asMonths=Uoe;ge.asQuarters=Boe;ge.asYears=zoe;ge.valueOf=Woe;ge._bubble=Noe;ge.clone=Hoe;ge.get=Yoe;ge.milliseconds=qoe;ge.seconds=Goe;ge.minutes=Koe;ge.hours=Qoe;ge.days=Xoe;ge.weeks=eae;ge.months=Joe;ge.years=Zoe;ge.humanize=sae;ge.toISOString=jp;ge.toString=jp;ge.toJSON=jp;ge.locale=Mx;ge.localeData=Lx;ge.toIsoString=kn("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",jp);ge.lang=$x;J("X",0,0,"unix");J("x",0,0,"valueOf");H("x",Np);H("X",Rre);Re("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});Re("x",function(e,t,n){n._d=new Date(ce(e))});//! moment.js
B.version="2.30.1";ore(Le);B.fn=L;B.min=Gie;B.max=Kie;B.now=Qie;B.utc=wr;B.unix=Ioe;B.months=Roe;B.isDate=Tc;B.locale=Fi;B.invalid=Dp;B.duration=Qn;B.isMoment=Gn;B.weekdays=Coe;B.parseZone=Aoe;B.localeData=ii;B.isDuration=Fd;B.monthsShort=Poe;B.weekdaysMin=Doe;B.defineLocale=m0;B.updateLocale=Aie;B.locales=Rie;B.weekdaysShort=boe;B.normalizeUnits=xn;B.relativeTimeRounding=rae;B.relativeTimeThreshold=iae;B.calendarFormat=Ese;B.prototype=L;B.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const oae=()=>{B.locale("en");const e=sre(B),[t,n]=A.useState(null),[r,i]=A.useState([]),[s,o]=A.useState(!1),[a,l]=A.useState(null),[u,c]=A.useState([]),[d,h]=A.useState(!1),[f,m]=A.useState({title:"",startDate:new Date,endDate:new Date});A.useEffect(()=>{(async()=>{try{const T=Fh();n(T);const I=await Qb(T);i(I),console.log("eventsData: ",I),console.log("events: ",r)}catch(T){console.error("Error loading events:",T)}})()},[]);const p=S=>{const{name:T,value:I}=S.target;m({...f,[T]:I})},y=async S=>{S.preventDefault();const{title:T,startDate:I,endDate:P}=f,k=new Date(I),C=new Date(P);if(!T||!I||!P){alert("Please fill out all required fields.");return}try{const N=Fh();o(!1);const j=await z3({username:N,title:T,start:k,end:C});console.log("New event added to database");const Y={title:T,startDate:k,endDate:C,docID:j,comments:[]};i(ve=>[...ve,Y]),console.log("New event added to front end"),m({title:"",startDate:new Date,endDate:new Date})}catch(N){console.error("Error adding event:",N)}},g=async()=>{if(a&&u.trim())try{await j3(a.docID,u);const S=r.map(T=>T.docID===a.docID?{...T,comments:[...T.comments,u]}:T);i(S),l({...a,comments:[...a.comments,u]}),c("")}catch(S){console.error("Error adding comment:",S)}},v=async()=>{if(a)try{await U3(a.docID);const S=r.filter(T=>T.docID!==a.docID);i(S),l(null),console.log("Event deleted successfully from Firestore and frontend display.")}catch(S){console.error("Error deleting event:",S)}},w=()=>{h(!0),a&&m({title:a.title,startDate:a.startDate,endDate:a.endDate})},E=async S=>{S.preventDefault();const{title:T,startDate:I,endDate:P}=f;if(console.log("Edited Event:",f),!T||!I||!P){alert("Please fill out all required fields.");return}console.log("hi",a);try{const k=a.user,C=a.comments;await B3(a.docID,{title:T,startDate:I,endDate:P,user:k,comments:C});const N=r.map(j=>j.docID===a.docID?{...j,title:T,startDate:I,endDate:P}:j);i(N),h(!1),m({title:"",startDate:new Date,endDate:new Date}),console.log("Event updated successfully!")}catch(k){console.error("Error updating event:",k)}};return _.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"top-nav",children:[_.jsx(Zr,{}),_.jsx("div",{style:{paddingTop:"10px"},children:_.jsx("button",{style:{color:"white",backgroundColor:"green"},onClick:()=>o(!0),children:"Add Event Here!"})})]}),_.jsxs("div",{style:{display:"flex",height:"100vh",width:"150vh"},children:[_.jsx("div",{style:{height:"100%",width:"100%"},children:_.jsx(Zne,{localizer:e,events:r,startAccessor:"startDate",endAccessor:"endDate",defaultDate:new Date,defaultView:"month",selectable:!1,onSelectEvent:S=>l(S),eventPropGetter:S=>({className:S.comments.length>0?"has-comments":"no-comments"})})}),_.jsxs("div",{style:{paddingTop:"10px",marginLeft:"20px",marginTop:"70px"},children:[a&&!d&&_.jsxs("div",{style:{border:"2px solid black",padding:"10px",position:"relative"},children:[_.jsx("span",{className:"close",style:{position:"absolute",top:"5px",right:"10px",cursor:"pointer",fontSize:"20px",color:"black"},onClick:()=>l(null),children:""}),_.jsx("h3",{children:a.title}),_.jsxs("p",{children:["Start: ",B(a.startDate).format("LLL")]}),_.jsxs("p",{children:["End: ",B(a.endDate).format("LLL")]}),_.jsx("h4",{children:"Comments:"}),_.jsx("ul",{children:a.comments.map((S,T)=>_.jsx("li",{children:S},T))}),_.jsx("input",{type:"text",value:u,onChange:S=>c(S.target.value),placeholder:"Add a comment..."}),_.jsxs("div",{style:{display:"flex",justifyContent:"center",marginTop:"20px"},children:[_.jsx("button",{onClick:g,children:"Add Comment"}),_.jsx("br",{}),_.jsx("button",{onClick:w,children:"Edit Event"}),_.jsx("br",{}),_.jsx("button",{onClick:v,children:"Delete Event"})]})]}),a&&d&&_.jsxs("div",{style:{display:"flex",justifyContent:"center",border:"2px solid black",padding:"10px",position:"relative"},children:[_.jsx("h2",{children:"Edit your event :"}),_.jsxs("form",{onSubmit:E,children:[_.jsxs("label",{children:["Title:",_.jsx("input",{type:"text",name:"title",value:f.title,onChange:S=>m({...f,title:S.target.value}),required:!0})]}),_.jsx("br",{}),_.jsxs("label",{children:["Start Date & Time:",_.jsx("input",{type:"datetime-local",name:"startDate",value:f.startDate,onChange:p,required:!0})]}),_.jsx("br",{}),_.jsxs("label",{children:["End Date & Time:",_.jsx("input",{type:"datetime-local",name:"endDate",value:f.endDate,onChange:p,required:!0})]}),_.jsx("br",{}),_.jsx("button",{type:"submit",children:"Save Changes"}),_.jsx("button",{type:"button",onClick:()=>h(!1),children:"Cancel"})]})]}),_.jsx("div",{style:{paddingTop:"10px",marginLeft:"20px",fontSize:"10px"}}),s&&_.jsx("div",{className:"modal",children:_.jsxs("div",{className:"modal-content",children:[_.jsx("span",{className:"close",onClick:()=>o(!1),children:""}),_.jsxs("form",{onSubmit:y,children:[_.jsx("h3",{children:"Add a new event to your calendar:"}),_.jsxs("label",{children:["Title:",_.jsx("input",{type:"text",name:"title",value:f.title,onChange:p,required:!0})]}),_.jsx("br",{}),_.jsxs("label",{children:["Start Date & Time:",_.jsx("input",{type:"datetime-local",name:"startDate",value:f.startDate,onChange:p,required:!0})]}),_.jsx("br",{}),_.jsxs("label",{children:["End Date & Time:",_.jsx("input",{type:"datetime-local",name:"endDate",value:f.endDate,onChange:p,required:!0})]}),_.jsx("br",{}),_.jsx("input",{type:"submit",value:"Submit"})]})]})})]})]})]})},aae=()=>{const[e,t]=A.useState([]),n=Fh();A.useEffect(()=>{const s=new Date,o=new Date;o.setMonth(s.getMonth()+1),Qb(n,s.toISOString(),o.toISOString()).then(a=>{a.sort((l,u)=>new Date(l.startDate)-new Date(u.startDate)),t(a.filter(l=>new Date(l.startDate)>=s))}).catch(console.error)},[]);const i=(s=>{const o={};return s.forEach(a=>{const l=new Date(a.startDate),u=new Date(a.endDate),c=l.toLocaleDateString("en-US",{month:"long",day:"numeric"});o[c]||(o[c]=[]),o[c].push({...a,startTime:l.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),endTime:u.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),endDate:u.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})}),o})(e);return _.jsxs("div",{className:"events-list",children:[_.jsx("h2",{children:"Upcoming Events"}),Object.entries(i).sort((s,o)=>new Date(s[0])-new Date(o[0])).map(([s,o])=>_.jsxs("div",{className:"daily-events",children:[_.jsx("h3",{children:s}),o.sort((a,l)=>new Date(a.startDate)-new Date(l.startDate)).map((a,l)=>_.jsx("div",{className:"event-item",children:_.jsxs("p",{children:[a.startTime," - ",a.endTime," ",new Date(a.endDate)>new Date(a.startDate)?`(${a.endDate})`:""," - ",a.title]})},l))]},s))]})},lae=()=>{const[e,t]=A.useState(!1);return A.useEffect(()=>{const n=dw.onAuthStateChanged(r=>{t(!!r)});return()=>n()},[]),_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"top-nav",children:_.jsx(Zr,{})}),_.jsxs("div",{className:"reminder-page-container",children:[_.jsx("h1",{children:"Reminders Page"}),e&&_.jsx(aae,{})," "]})]})};function uae(){const e=ma(),[t,n]=A.useState({email:"",password:""}),[r,i]=A.useState(""),s=a=>{n({...t,[a.target.name]:a.target.value})},o=async a=>{if(a.preventDefault(),!t.email||!t.password){i("Email and password are required.");return}try{await x3(t.email,t.password),e("/home")}catch(l){console.error("Login error:",l),l.message.includes("verify your email")?i("Please verify your email before signing in."):i("Incorrect username or password.")}};return _.jsx("div",{className:"login-main",children:_.jsx("div",{className:"login-center",children:_.jsxs("div",{className:"login-backbox",children:[_.jsx("div",{children:_.jsx("header",{className:"login-header",children:_.jsx("h2",{children:" MCGardens Login "})})}),_.jsxs("form",{onSubmit:o,className:"login-form",children:[_.jsxs("div",{children:[_.jsx("label",{htmlFor:"email",className:"login-label",children:_.jsx("b",{children:"Email"})}),_.jsx("br",{}),_.jsx("input",{type:"email",id:"email",name:"email",autoComplete:"email",placeholder:"Email",className:"login-textbox",value:t.email||"",onChange:s,required:!0}),_.jsx("br",{})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"password",className:"login-label",children:_.jsx("b",{children:"Password"})}),_.jsx("br",{}),_.jsx("input",{type:"password",id:"password",name:"password",autoComplete:"current-password",placeholder:"Password",className:"login-textbox",value:t.password||"",onChange:s,required:!0}),_.jsx("br",{})]}),_.jsx("div",{children:_.jsx("button",{type:"submit",className:"login-button",children:"Sign In"})})]}),_.jsx("div",{className:"login-errorMessage",children:r&&_.jsx("p",{className:"login-error-message",children:r})}),_.jsxs("div",{className:"login-additionalOptions",children:[_.jsx("a",{href:"/sign-up",className:"login-additionalOptions-link",children:"Sign Up"}),_.jsx("a",{href:"/forgot-password",className:"login-additionalOptions-link",style:{cursor:"pointer"},children:"Forgot Password"})]})]})})})}const cae=()=>{const[e,t]=A.useState([]),[n,r]=A.useState(!1),[i,s]=A.useState(""),[o,a]=A.useState("");A.useEffect(()=>{const d=JSON.parse(localStorage.getItem("userLocation"));if(console.log(d),d){const{latitude:h,longitude:f}=d;l(h,f)}},[]);const l=async(d,h)=>{try{const m=await(await fetch(`https://api.openweathermap.org/data/2.5/forecast/daily?lat=${d}&lon=${h}&cnt=7&units=imperial&appid=c2a91f3cea984faeb2c4779182b5272e`)).json();m.list&&(t(m.list),r(!1),a(m.city.name),console.log(m))}catch(f){console.error("Error fetching weather data:",f)}},u=async d=>{try{const f=await(await fetch(`https://api.openweathermap.org/geo/1.0/zip?zip=${d}&appid=c2a91f3cea984faeb2c4779182b5272e`)).json();if(f.lat!==void 0&&f.lon!==void 0){const{lat:m,lon:p}=f,g=await(await fetch(`https://api.openweathermap.org/data/2.5/forecast/daily?lat=${m}&lon=${p}&cnt=7&units=imperial&appid=c2a91f3cea984faeb2c4779182b5272e`)).json();g.list&&(t(g.list),r(!1),a(g.city.name),console.log(g))}}catch(h){console.error("Error fetching weather data:",h)}},c=d=>{d.preventDefault(),r(!0),u(i)};return _.jsxs("div",{className:"weather-body",children:[_.jsx("div",{className:"top-nav",children:_.jsx(Zr,{})}),_.jsx("div",{className:"weather-main",children:_.jsxs("div",{className:"weather-container",children:[_.jsx("h1",{className:"weather-header",children:"Weekly Weather Forecast"}),_.jsx("form",{onSubmit:c,children:_.jsxs("div",{className:"input-wrapper",children:[_.jsx("label",{className:"zipcode-label",htmlFor:"zipCode",children:"Enter ZIP Code:"}),_.jsx("input",{className:"zipcode-input",type:"text",id:"zipCode",value:i,onChange:d=>s(d.target.value)}),_.jsx("button",{className:"submit-btn",type:"submit",children:"Submit"})]})}),n?_.jsx("p",{children:"Loading..."}):_.jsxs("div",{children:[_.jsx("h1",{className:"city-name",children:o}),_.jsx("div",{className:"forecast",children:e.map(({dt:d,temp:h,weather:f})=>_.jsxs("div",{className:"day-forecast",children:[_.jsx("h2",{className:"date",children:new Date(d*1e3).toLocaleDateString("en-US",{weekday:"long"})}),_.jsx("p",{className:"condition",children:f[0].main}),_.jsx("img",{className:"weather-icon",src:`http://openweathermap.org/img/w/${f[0].icon}.png`,alt:"Weather Icon"}),_.jsxs("p",{className:"temp-high",children:["High: ",Math.round(h.max),"F "]}),_.jsxs("p",{className:"temp-low",children:["Low: ",Math.round(h.min),"F"]})]},d))})]})]})})]})},pl="/assets/logo-efh4HsTD.png",dae=()=>{const[e,t]=A.useState({plantName:"Please enter a plant in the search.",plantBio:"Here will be bio information",plantInst:["Planting instructions will appear here after a search."],plantCare:["Care information will be displayed here once you search for a plant."],plantImg:pl}),[n,r]=A.useState(""),i=Vu(),s=ma(),a=new URLSearchParams(i.search).get("query");A.useEffect(()=>{a&&Qe.post("https://us-central1-mcgardens-bd0b1.cloudfunctions.net/askGpt/askGpt",{plantInput:a.toLowerCase()}).then(u=>{const{data:c}=u;if(c&&c.bio&&c.howToPlant&&c.howToTakeCare){const d=c.bio,h=c.howToPlant.split(/(?=\d+\. )/).filter(m=>m.trim()!==""),f=c.howToTakeCare.split(/(?=\d+\. )/).filter(m=>m.trim()!=="");Qe.get(`https://api.unsplash.com/search/photos?query=${encodeURIComponent(a)}&client_id=tqK63-1z4p3c3ATncxre5kyBI5r4rBPgiiRqAW0Pz2g`).then(m=>{var y;const p=((y=m.data.results[0])==null?void 0:y.urls.regular)||pl;t({plantName:a||"Unknown Plant",plantBio:d,plantInst:h,plantCare:f,plantImg:p})}).catch(m=>{console.error("Image fetch failed:",m),t(p=>({...p,plantBio:d,plantInst:h,plantCare:f,plantImg:pl}))})}else throw new Error("Data is missing some required fields.")}).catch(u=>{console.error("API call failed or data was incomplete:",u),t(c=>({...c,plantName:"Failed to load data.",plantBio:"Failed to load data.",plantInst:["Failed to load data."],plantCare:["Failed to load data."],plantImg:pl}))})},[a,i]);const l=u=>{if(u.preventDefault(),!n.trim()){alert("Please enter a valid plant name.");return}s(`/plant-details?query=${encodeURIComponent(n)}`),r("")};return _.jsxs("div",{className:"plant-details",children:[_.jsxs("div",{className:"top-nav",children:[_.jsx(Zr,{}),_.jsxs("form",{onSubmit:l,className:"search-bar",children:[_.jsx("input",{type:"text",value:n,onChange:u=>r(u.target.value),placeholder:"Please enter plant"}),_.jsx("button",{type:"submit",children:"Search"})]})]}),_.jsxs("div",{className:"left-container",children:[_.jsx("div",{className:"pic-container",children:_.jsx("img",{className:"pic",src:e.plantImg,alt:"Plant"})}),_.jsx("div",{className:"smaller-title",children:"Biography"}),_.jsx("div",{className:"bio-container",children:_.jsx("p",{children:e.plantBio})})]}),_.jsxs("div",{className:"right-container",children:[_.jsx("div",{className:"title-banner",children:e.plantName}),_.jsx("div",{className:"smaller-title",children:"Planting Instructions"}),_.jsx("div",{className:"inst-container",children:e.plantInst.map((u,c)=>_.jsx("p",{className:"instruction-text",children:u},c))}),_.jsx("div",{className:"smaller-title",children:"Care Instructions"}),_.jsx("div",{className:"care-info-container",children:e.plantCare.map((u,c)=>_.jsx("p",{className:"instruction-text",children:u},c))})]})]})};function hae(){const e=ma(),[t,n]=A.useState({email:"",password:"",confirmPassword:""}),[r,i]=A.useState(""),[s,o]=A.useState(null),[a,l]=A.useState(!1),[u,c]=A.useState(60),d=p=>{n({...t,[p.target.name]:p.target.value})},h=async p=>{if(p.preventDefault(),!t.email||!t.password||!t.confirmPassword){i("All fields are required.");return}if(t.password!==t.confirmPassword){i("Passwords do not match.");return}try{const y=await N3(t.email,t.password);o(y.user),i("A verification email has been sent. Please verify your email before logging in."),l(!0),f()}catch(y){console.error("Registration error:",y),i("Failed to create an account. "+y.message)}},f=()=>{c(60);let p=setInterval(()=>{c(y=>y<=1?(clearInterval(p),0):y-1)},1e3)},m=async()=>{if(t.email)try{await M3(t.email),i("A new verification email has been sent."),f()}catch(p){i("Failed to resend verification email. "+p.message)}};return A.useEffect(()=>{s&&s.emailVerified&&e("/home-page")},[s,e]),_.jsx("div",{className:"login-main",children:_.jsx("div",{className:"login-center",children:_.jsxs("div",{className:"login-backbox",children:[_.jsx("div",{children:_.jsx("header",{className:"login-header",children:_.jsx("h2",{children:" MCGardens Create User "})})}),_.jsxs("form",{onSubmit:h,className:"login-form",children:[_.jsxs("div",{children:[_.jsx("label",{htmlFor:"email",className:"login-label",children:_.jsx("b",{children:"Email"})}),_.jsx("br",{}),_.jsx("input",{type:"email",id:"email",name:"email",autoComplete:"email",placeholder:"Email",className:"login-textbox",value:t.email||"",onChange:d,required:!0}),_.jsx("br",{})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"password",className:"login-label",children:_.jsx("b",{children:"Password"})}),_.jsx("br",{}),_.jsx("input",{type:"password",id:"password",name:"password",autoComplete:"new-password",placeholder:"Password",className:"login-textbox",value:t.password||"",onChange:d,required:!0}),_.jsx("br",{})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"confirmPassword",className:"login-label",children:_.jsx("b",{children:"Confirm Password"})}),_.jsx("br",{}),_.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",autoComplete:"new-password",placeholder:"Confirm Password",className:"login-textbox",value:t.confirmPassword||"",onChange:d,required:!0}),_.jsx("br",{})]}),_.jsx("div",{children:a?_.jsxs("button",{type:"button",onClick:m,disabled:u>0,className:"login-button",children:["Resend Email ",u>0?`(${u}s)`:""]}):_.jsx("button",{type:"submit",className:"login-button",children:"Sign Up"})})]}),_.jsx("div",{className:"login-errorMessage",children:r&&_.jsx("p",{className:"error-message",children:r})}),_.jsxs("div",{className:"login-additionalOptions",children:[_.jsx("a",{href:"/",className:"login-link",children:"Sign In"}),_.jsx("a",{href:"/forgot-password",className:"login-link",style:{cursor:"pointer"},children:"Forgot Password"})]})]})})})}function fae(){ma();const[e,t]=A.useState(""),[n,r]=A.useState(""),[i,s]=A.useState(""),o=l=>{t(l.target.value),r(""),s("")},a=async l=>{if(l.preventDefault(),!e){r("Please enter your email.");return}try{await O3(e),s(`An email has been sent to ${e} with instructions to reset your password.`),t("")}catch(u){console.error("Forgot password error:",u),r("Failed to reset password. Please try again later.")}};return _.jsx("div",{className:"login-main",children:_.jsx("div",{className:"login-center",children:_.jsxs("div",{className:"login-backbox",children:[_.jsx("header",{className:"login-header",children:_.jsx("h2",{children:"Forgot Password"})}),_.jsxs("form",{onSubmit:a,className:"login-form",children:[_.jsxs("div",{children:[_.jsx("label",{htmlFor:"email",className:"login-label",children:_.jsx("b",{children:"Email"})}),_.jsx("br",{}),_.jsx("input",{type:"email",id:"email",name:"email",autoComplete:"email",placeholder:"Email",className:"login-textbox",value:e,onChange:o,required:!0}),_.jsx("br",{})]}),_.jsx("div",{children:_.jsx("button",{type:"submit",className:"login-button",children:"Reset Password"})})]}),_.jsxs("div",{className:"login-errorMessage",children:[n&&_.jsx("p",{className:"error-message",children:n}),i&&_.jsx("p",{className:"success-message",children:i})]}),_.jsx("div",{className:"login-additionalOptions",children:_.jsx("a",{href:"/",className:"login-link",children:"Back to Sign In"})})]})})})}const pae=()=>{const e=()=>{window.location.href="mailto:mcgardens.reminders@gmail.com"},t=[{name:"Alex Gibbons",github:"https://github.com/gibbbeh"},{name:"Faddi Dabain",github:"https://github.com/FaddiADabain"},{name:"Lauren Kowalski",github:"https://github.com/kaweckil"},{name:"Thierno Diallo",github:"https://github.com/Thierno-M-Diallo"}];return _.jsxs("div",{children:[_.jsx("div",{className:"top-nav",children:_.jsx(Zr,{})}),_.jsx("div",{className:"backdrop",children:_.jsxs("div",{className:"content",children:[_.jsx("img",{className:"about-us-pic",src:pl,alt:"Logo"}),_.jsxs("div",{children:[_.jsx("h1",{className:"about-us-title",children:"About Us"}),_.jsx("p",{className:"team-info",children:"We are a dynamic team of Manhattan College students passionate about technology and environmental sustainability. As part of our capstone project, we created this platform to empower individuals interested in home gardening. Our diverse skills in software development have allowed us to design a comprehensive tool that simplifies learning about plants and managing gardening activities. Our website provides detailed plant biographies, care instructions, and user-friendly scheduling features, all enhanced by OpenAI's ChatGPT technology. Users can also interact on our discussion board, check real-time weather forecasts, and find the best plants for their local environment. Join us on this green journey to cultivate your garden and grow your community."}),_.jsx("button",{onClick:e,className:"contact-us-button",children:"Contact Us"})]})]})}),_.jsxs("div",{className:"github-section",children:[_.jsx("h2",{className:"github-title",children:"Our GitHubs"}),_.jsx("div",{className:"team-members",children:t.map((n,r)=>_.jsx("div",{className:"team-member",children:_.jsx("a",{href:n.github,target:"_blank",rel:"noopener noreferrer",children:n.name})},r))})]})]})};function mae(){const[e,t]=A.useState(""),[n,r]=A.useState(!0),[i,s]=A.useState(""),[o,a]=A.useState(!0);A.useEffect(()=>{const d=Ss(),h=_4(d,f=>{f?(t(f.email),u(f.email)):s("No user logged in."),a(!1)});return()=>h()},[]);const l=async()=>{const d=Ss();if(e)try{await Fb(d,e),s("Password reset email sent successfully. Please check your email.")}catch(h){s(`Failed to send password reset email: ${h.message}`)}else s("No email found for the current user.")},u=async d=>{try{const h=await W3(d);r(h)}catch{s("Failed to load preferences")}},c=async()=>{var f;const h=(f=Ss().currentUser)==null?void 0:f.email;if(h)try{const p=await H3(h,!n);r(p),s("Email preferences updated successfully.")}catch(m){console.error("Failed to update email preferences:",m),s(`Error updating preferences: ${m.message}`)}else s("No user logged in.")};return o?_.jsx("div",{children:"Loading..."}):_.jsxs("div",{className:"body-style",children:[_.jsx("div",{className:"top-nav",children:_.jsx(Zr,{})}),_.jsxs("div",{className:"form-container",children:[_.jsx("h1",{className:"main-heading",children:"Account Settings"}),e&&_.jsxs("p",{className:"user-email",children:["Logged in as: ",e]}),_.jsxs("div",{children:[_.jsx("h2",{className:"sub-heading",children:"Email Preferences"}),_.jsxs("label",{className:"label-style",children:[_.jsx("input",{type:"checkbox",className:"checkbox-style",checked:n,onChange:c}),"Receive Daily Event Emails"]})]}),_.jsx("button",{onClick:l,className:"action-button",children:"Send Password Reset Email"}),_.jsx("p",{className:i.includes("Error")?"error-text":"message-text",children:i})]})]})}function gae(){return _.jsx(I$,{children:_.jsxs(v$,{children:[_.jsx(an,{exact:!0,path:"/",element:_.jsx(uae,{})}),_.jsx(an,{path:"/sign-up",element:_.jsx(hae,{})}),_.jsx(an,{path:"/forgot-password",element:_.jsx(fae,{})}),_.jsx(an,{path:"/home",element:_.jsx(cz,{})}),_.jsx(an,{path:"/discussion-board",element:_.jsx(Y3,{})}),_.jsx(an,{path:"/optimal-plants",element:_.jsx(uz,{})}),_.jsx(an,{path:"/calendar",element:_.jsx(oae,{})}),_.jsx(an,{path:"/reminders",element:_.jsx(lae,{})}),_.jsx(an,{path:"/weather",element:_.jsx(cae,{})}),_.jsx(an,{path:"/plant-details",element:_.jsx(dae,{})}),_.jsx(an,{path:"/about-us",element:_.jsx(pae,{})}),_.jsx(an,{path:"/account-settings",element:_.jsx(mae,{})})]})})}const vae=eg.createRoot(document.getElementById("root"));vae.render(_.jsx(gae,{}))});export default yae();
