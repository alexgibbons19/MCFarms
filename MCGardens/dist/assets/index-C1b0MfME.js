var GO=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var cae=GO((gae,Fd)=>{function KO(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var $n=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sI={exports:{}},ef={},oI={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ou=Symbol.for("react.element"),QO=Symbol.for("react.portal"),XO=Symbol.for("react.fragment"),JO=Symbol.for("react.strict_mode"),ZO=Symbol.for("react.profiler"),ex=Symbol.for("react.provider"),tx=Symbol.for("react.context"),nx=Symbol.for("react.forward_ref"),rx=Symbol.for("react.suspense"),ix=Symbol.for("react.memo"),sx=Symbol.for("react.lazy"),A0=Symbol.iterator;function ox(e){return e===null||typeof e!="object"?null:(e=A0&&e[A0]||e["@@iterator"],typeof e=="function"?e:null)}var aI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lI=Object.assign,uI={};function ua(e,t,n){this.props=e,this.context=t,this.refs=uI,this.updater=n||aI}ua.prototype.isReactComponent={};ua.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ua.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function cI(){}cI.prototype=ua.prototype;function Qv(e,t,n){this.props=e,this.context=t,this.refs=uI,this.updater=n||aI}var Xv=Qv.prototype=new cI;Xv.constructor=Qv;lI(Xv,ua.prototype);Xv.isPureReactComponent=!0;var R0=Array.isArray,dI=Object.prototype.hasOwnProperty,Jv={current:null},hI={key:!0,ref:!0,__self:!0,__source:!0};function fI(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)dI.call(t,r)&&!hI.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ou,type:e,key:s,ref:o,props:i,_owner:Jv.current}}function ax(e,t){return{$$typeof:Ou,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Zv(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ou}function lx(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var P0=/\/+/g;function Lp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?lx(""+e.key):t.toString(36)}function ad(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ou:case QO:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Lp(o,0):r,R0(i)?(n="",e!=null&&(n=e.replace(P0,"$&/")+"/"),ad(i,t,n,"",function(u){return u})):i!=null&&(Zv(i)&&(i=ax(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(P0,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",R0(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+Lp(s,a);o+=ad(s,t,n,l,i)}else if(l=ox(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+Lp(s,a++),o+=ad(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Pc(e,t,n){if(e==null)return e;var r=[],i=0;return ad(e,r,"","",function(s){return t.call(n,s,i++)}),r}function ux(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var zt={current:null},ld={transition:null},cx={ReactCurrentDispatcher:zt,ReactCurrentBatchConfig:ld,ReactCurrentOwner:Jv};de.Children={map:Pc,forEach:function(e,t,n){Pc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Pc(e,function(){t++}),t},toArray:function(e){return Pc(e,function(t){return t})||[]},only:function(e){if(!Zv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};de.Component=ua;de.Fragment=XO;de.Profiler=ZO;de.PureComponent=Qv;de.StrictMode=JO;de.Suspense=rx;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cx;de.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=lI({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Jv.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)dI.call(t,l)&&!hI.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ou,type:e.type,key:i,ref:s,props:r,_owner:o}};de.createContext=function(e){return e={$$typeof:tx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ex,_context:e},e.Consumer=e};de.createElement=fI;de.createFactory=function(e){var t=fI.bind(null,e);return t.type=e,t};de.createRef=function(){return{current:null}};de.forwardRef=function(e){return{$$typeof:nx,render:e}};de.isValidElement=Zv;de.lazy=function(e){return{$$typeof:sx,_payload:{_status:-1,_result:e},_init:ux}};de.memo=function(e,t){return{$$typeof:ix,type:e,compare:t===void 0?null:t}};de.startTransition=function(e){var t=ld.transition;ld.transition={};try{e()}finally{ld.transition=t}};de.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};de.useCallback=function(e,t){return zt.current.useCallback(e,t)};de.useContext=function(e){return zt.current.useContext(e)};de.useDebugValue=function(){};de.useDeferredValue=function(e){return zt.current.useDeferredValue(e)};de.useEffect=function(e,t){return zt.current.useEffect(e,t)};de.useId=function(){return zt.current.useId()};de.useImperativeHandle=function(e,t,n){return zt.current.useImperativeHandle(e,t,n)};de.useInsertionEffect=function(e,t){return zt.current.useInsertionEffect(e,t)};de.useLayoutEffect=function(e,t){return zt.current.useLayoutEffect(e,t)};de.useMemo=function(e,t){return zt.current.useMemo(e,t)};de.useReducer=function(e,t,n){return zt.current.useReducer(e,t,n)};de.useRef=function(e){return zt.current.useRef(e)};de.useState=function(e){return zt.current.useState(e)};de.useSyncExternalStore=function(e,t,n){return zt.current.useSyncExternalStore(e,t,n)};de.useTransition=function(){return zt.current.useTransition()};de.version="18.2.0";oI.exports=de;var R=oI.exports;const A=sn(R),dx=KO({__proto__:null,default:A},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hx=R,fx=Symbol.for("react.element"),px=Symbol.for("react.fragment"),mx=Object.prototype.hasOwnProperty,gx=hx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vx={key:!0,ref:!0,__self:!0,__source:!0};function pI(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)mx.call(t,r)&&!vx.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:fx,type:e,key:s,ref:o,props:i,_owner:gx.current}}ef.Fragment=px;ef.jsx=pI;ef.jsxs=pI;sI.exports=ef;var w=sI.exports,Gm={},mI={exports:{}},fn={},gI={exports:{}},vI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(V,X){var ee=V.length;V.push(X);e:for(;0<ee;){var k=ee-1>>>1,x=V[k];if(0<i(x,X))V[k]=X,V[ee]=x,ee=k;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var X=V[0],ee=V.pop();if(ee!==X){V[0]=ee;e:for(var k=0,x=V.length,j=x>>>1;k<j;){var W=2*(k+1)-1,G=V[W],ae=W+1,Te=V[ae];if(0>i(G,ee))ae<x&&0>i(Te,G)?(V[k]=Te,V[ae]=ee,k=ae):(V[k]=G,V[W]=ee,k=W);else if(ae<x&&0>i(Te,ee))V[k]=Te,V[ae]=ee,k=ae;else break e}}return X}function i(V,X){var ee=V.sortIndex-X.sortIndex;return ee!==0?ee:V.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,f=!1,v=!1,p=!1,y=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(V){for(var X=n(u);X!==null;){if(X.callback===null)r(u);else if(X.startTime<=V)r(u),X.sortIndex=X.expirationTime,t(l,X);else break;X=n(u)}}function E(V){if(p=!1,_(V),!v)if(n(l)!==null)v=!0,ie(S);else{var X=n(u);X!==null&&fe(E,X.startTime-V)}}function S(V,X){v=!1,p&&(p=!1,m(P),P=-1),f=!0;var ee=h;try{for(_(X),d=n(l);d!==null&&(!(d.expirationTime>X)||V&&!L());){var k=d.callback;if(typeof k=="function"){d.callback=null,h=d.priorityLevel;var x=k(d.expirationTime<=X);X=e.unstable_now(),typeof x=="function"?d.callback=x:d===n(l)&&r(l),_(X)}else r(l);d=n(l)}if(d!==null)var j=!0;else{var W=n(u);W!==null&&fe(E,W.startTime-X),j=!1}return j}finally{d=null,h=ee,f=!1}}var T=!1,I=null,P=-1,b=5,C=-1;function L(){return!(e.unstable_now()-C<b)}function z(){if(I!==null){var V=e.unstable_now();C=V;var X=!0;try{X=I(!0,V)}finally{X?q():(T=!1,I=null)}}else T=!1}var q;if(typeof g=="function")q=function(){g(z)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,ye=Ee.port2;Ee.port1.onmessage=z,q=function(){ye.postMessage(null)}}else q=function(){y(z,0)};function ie(V){I=V,T||(T=!0,q())}function fe(V,X){P=y(function(){V(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){v||f||(v=!0,ie(S))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(V){switch(h){case 1:case 2:case 3:var X=3;break;default:X=h}var ee=h;h=X;try{return V()}finally{h=ee}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,X){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ee=h;h=V;try{return X()}finally{h=ee}},e.unstable_scheduleCallback=function(V,X,ee){var k=e.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?k+ee:k):ee=k,V){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=ee+x,V={id:c++,callback:X,priorityLevel:V,startTime:ee,expirationTime:x,sortIndex:-1},ee>k?(V.sortIndex=ee,t(u,V),n(l)===null&&V===n(u)&&(p?(m(P),P=-1):p=!0,fe(E,ee-k))):(V.sortIndex=x,t(l,V),v||f||(v=!0,ie(S))),V},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(V){var X=h;return function(){var ee=h;h=X;try{return V.apply(this,arguments)}finally{h=ee}}}})(vI);gI.exports=vI;var yx=gI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yI=R,cn=yx;function M(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _I=new Set,Ol={};function zs(e,t){Fo(e,t),Fo(e+"Capture",t)}function Fo(e,t){for(Ol[e]=t,e=0;e<t.length;e++)_I.add(t[e])}var Fr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Km=Object.prototype.hasOwnProperty,_x=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,C0={},k0={};function wx(e){return Km.call(k0,e)?!0:Km.call(C0,e)?!1:_x.test(e)?k0[e]=!0:(C0[e]=!0,!1)}function Ex(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Sx(e,t,n,r){if(t===null||typeof t>"u"||Ex(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Wt(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var It={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){It[e]=new Wt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];It[t]=new Wt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){It[e]=new Wt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){It[e]=new Wt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){It[e]=new Wt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){It[e]=new Wt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){It[e]=new Wt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){It[e]=new Wt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){It[e]=new Wt(e,5,!1,e.toLowerCase(),null,!1,!1)});var ey=/[\-:]([a-z])/g;function ty(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ey,ty);It[t]=new Wt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ey,ty);It[t]=new Wt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ey,ty);It[t]=new Wt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){It[e]=new Wt(e,1,!1,e.toLowerCase(),null,!1,!1)});It.xlinkHref=new Wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){It[e]=new Wt(e,1,!1,e.toLowerCase(),null,!0,!0)});function ny(e,t,n,r){var i=It.hasOwnProperty(t)?It[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Sx(t,n,i,r)&&(n=null),r||i===null?wx(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Kr=yI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cc=Symbol.for("react.element"),lo=Symbol.for("react.portal"),uo=Symbol.for("react.fragment"),ry=Symbol.for("react.strict_mode"),Qm=Symbol.for("react.profiler"),wI=Symbol.for("react.provider"),EI=Symbol.for("react.context"),iy=Symbol.for("react.forward_ref"),Xm=Symbol.for("react.suspense"),Jm=Symbol.for("react.suspense_list"),sy=Symbol.for("react.memo"),ai=Symbol.for("react.lazy"),SI=Symbol.for("react.offscreen"),D0=Symbol.iterator;function Fa(e){return e===null||typeof e!="object"?null:(e=D0&&e[D0]||e["@@iterator"],typeof e=="function"?e:null)}var We=Object.assign,Fp;function tl(e){if(Fp===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Fp=t&&t[1]||""}return`
`+Fp+e}var Vp=!1;function jp(e,t){if(!e||Vp)return"";Vp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Vp=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?tl(e):""}function Tx(e){switch(e.tag){case 5:return tl(e.type);case 16:return tl("Lazy");case 13:return tl("Suspense");case 19:return tl("SuspenseList");case 0:case 2:case 15:return e=jp(e.type,!1),e;case 11:return e=jp(e.type.render,!1),e;case 1:return e=jp(e.type,!0),e;default:return""}}function Zm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case uo:return"Fragment";case lo:return"Portal";case Qm:return"Profiler";case ry:return"StrictMode";case Xm:return"Suspense";case Jm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case EI:return(e.displayName||"Context")+".Consumer";case wI:return(e._context.displayName||"Context")+".Provider";case iy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case sy:return t=e.displayName||null,t!==null?t:Zm(e.type)||"Memo";case ai:t=e._payload,e=e._init;try{return Zm(e(t))}catch{}}return null}function Ix(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zm(t);case 8:return t===ry?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function $i(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function TI(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ax(e){var t=TI(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function kc(e){e._valueTracker||(e._valueTracker=Ax(e))}function II(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=TI(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Vd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function eg(e,t){var n=t.checked;return We({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function b0(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=$i(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function AI(e,t){t=t.checked,t!=null&&ny(e,"checked",t,!1)}function tg(e,t){AI(e,t);var n=$i(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ng(e,t.type,n):t.hasOwnProperty("defaultValue")&&ng(e,t.type,$i(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function O0(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ng(e,t,n){(t!=="number"||Vd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var nl=Array.isArray;function Io(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$i(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function rg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(M(91));return We({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function x0(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(M(92));if(nl(n)){if(1<n.length)throw Error(M(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:$i(n)}}function RI(e,t){var n=$i(t.value),r=$i(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function N0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function PI(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ig(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?PI(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Dc,CI=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Dc=Dc||document.createElement("div"),Dc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Dc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function xl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var pl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rx=["Webkit","ms","Moz","O"];Object.keys(pl).forEach(function(e){Rx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pl[t]=pl[e]})});function kI(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||pl.hasOwnProperty(e)&&pl[e]?(""+t).trim():t+"px"}function DI(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=kI(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Px=We({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sg(e,t){if(t){if(Px[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(M(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(M(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(M(61))}if(t.style!=null&&typeof t.style!="object")throw Error(M(62))}}function og(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ag=null;function oy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var lg=null,Ao=null,Ro=null;function M0(e){if(e=Mu(e)){if(typeof lg!="function")throw Error(M(280));var t=e.stateNode;t&&(t=of(t),lg(e.stateNode,e.type,t))}}function bI(e){Ao?Ro?Ro.push(e):Ro=[e]:Ao=e}function OI(){if(Ao){var e=Ao,t=Ro;if(Ro=Ao=null,M0(e),t)for(e=0;e<t.length;e++)M0(t[e])}}function xI(e,t){return e(t)}function NI(){}var Up=!1;function MI(e,t,n){if(Up)return e(t,n);Up=!0;try{return xI(e,t,n)}finally{Up=!1,(Ao!==null||Ro!==null)&&(NI(),OI())}}function Nl(e,t){var n=e.stateNode;if(n===null)return null;var r=of(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(M(231,t,typeof n));return n}var ug=!1;if(Fr)try{var Va={};Object.defineProperty(Va,"passive",{get:function(){ug=!0}}),window.addEventListener("test",Va,Va),window.removeEventListener("test",Va,Va)}catch{ug=!1}function Cx(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var ml=!1,jd=null,Ud=!1,cg=null,kx={onError:function(e){ml=!0,jd=e}};function Dx(e,t,n,r,i,s,o,a,l){ml=!1,jd=null,Cx.apply(kx,arguments)}function bx(e,t,n,r,i,s,o,a,l){if(Dx.apply(this,arguments),ml){if(ml){var u=jd;ml=!1,jd=null}else throw Error(M(198));Ud||(Ud=!0,cg=u)}}function Ws(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function $I(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $0(e){if(Ws(e)!==e)throw Error(M(188))}function Ox(e){var t=e.alternate;if(!t){if(t=Ws(e),t===null)throw Error(M(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return $0(i),e;if(s===r)return $0(i),t;s=s.sibling}throw Error(M(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(M(189))}}if(n.alternate!==r)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?e:t}function LI(e){return e=Ox(e),e!==null?FI(e):null}function FI(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=FI(e);if(t!==null)return t;e=e.sibling}return null}var VI=cn.unstable_scheduleCallback,L0=cn.unstable_cancelCallback,xx=cn.unstable_shouldYield,Nx=cn.unstable_requestPaint,Xe=cn.unstable_now,Mx=cn.unstable_getCurrentPriorityLevel,ay=cn.unstable_ImmediatePriority,jI=cn.unstable_UserBlockingPriority,Bd=cn.unstable_NormalPriority,$x=cn.unstable_LowPriority,UI=cn.unstable_IdlePriority,tf=null,rr=null;function Lx(e){if(rr&&typeof rr.onCommitFiberRoot=="function")try{rr.onCommitFiberRoot(tf,e,void 0,(e.current.flags&128)===128)}catch{}}var Fn=Math.clz32?Math.clz32:jx,Fx=Math.log,Vx=Math.LN2;function jx(e){return e>>>=0,e===0?32:31-(Fx(e)/Vx|0)|0}var bc=64,Oc=4194304;function rl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function zd(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=rl(a):(s&=o,s!==0&&(r=rl(s)))}else o=n&~i,o!==0?r=rl(o):s!==0&&(r=rl(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Fn(t),i=1<<n,r|=e[n],t&=~i;return r}function Ux(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bx(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Fn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Ux(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function dg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function BI(){var e=bc;return bc<<=1,!(bc&4194240)&&(bc=64),e}function Bp(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Fn(t),e[t]=n}function zx(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Fn(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function ly(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Fn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Ie=0;function zI(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var WI,uy,HI,YI,qI,hg=!1,xc=[],Ei=null,Si=null,Ti=null,Ml=new Map,$l=new Map,ui=[],Wx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function F0(e,t){switch(e){case"focusin":case"focusout":Ei=null;break;case"dragenter":case"dragleave":Si=null;break;case"mouseover":case"mouseout":Ti=null;break;case"pointerover":case"pointerout":Ml.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(t.pointerId)}}function ja(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Mu(t),t!==null&&uy(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Hx(e,t,n,r,i){switch(t){case"focusin":return Ei=ja(Ei,e,t,n,r,i),!0;case"dragenter":return Si=ja(Si,e,t,n,r,i),!0;case"mouseover":return Ti=ja(Ti,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ml.set(s,ja(Ml.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,$l.set(s,ja($l.get(s)||null,e,t,n,r,i)),!0}return!1}function GI(e){var t=cs(e.target);if(t!==null){var n=Ws(t);if(n!==null){if(t=n.tag,t===13){if(t=$I(n),t!==null){e.blockedOn=t,qI(e.priority,function(){HI(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ud(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=fg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ag=r,n.target.dispatchEvent(r),ag=null}else return t=Mu(n),t!==null&&uy(t),e.blockedOn=n,!1;t.shift()}return!0}function V0(e,t,n){ud(e)&&n.delete(t)}function Yx(){hg=!1,Ei!==null&&ud(Ei)&&(Ei=null),Si!==null&&ud(Si)&&(Si=null),Ti!==null&&ud(Ti)&&(Ti=null),Ml.forEach(V0),$l.forEach(V0)}function Ua(e,t){e.blockedOn===t&&(e.blockedOn=null,hg||(hg=!0,cn.unstable_scheduleCallback(cn.unstable_NormalPriority,Yx)))}function Ll(e){function t(i){return Ua(i,e)}if(0<xc.length){Ua(xc[0],e);for(var n=1;n<xc.length;n++){var r=xc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ei!==null&&Ua(Ei,e),Si!==null&&Ua(Si,e),Ti!==null&&Ua(Ti,e),Ml.forEach(t),$l.forEach(t),n=0;n<ui.length;n++)r=ui[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ui.length&&(n=ui[0],n.blockedOn===null);)GI(n),n.blockedOn===null&&ui.shift()}var Po=Kr.ReactCurrentBatchConfig,Wd=!0;function qx(e,t,n,r){var i=Ie,s=Po.transition;Po.transition=null;try{Ie=1,cy(e,t,n,r)}finally{Ie=i,Po.transition=s}}function Gx(e,t,n,r){var i=Ie,s=Po.transition;Po.transition=null;try{Ie=4,cy(e,t,n,r)}finally{Ie=i,Po.transition=s}}function cy(e,t,n,r){if(Wd){var i=fg(e,t,n,r);if(i===null)Jp(e,t,r,Hd,n),F0(e,r);else if(Hx(i,e,t,n,r))r.stopPropagation();else if(F0(e,r),t&4&&-1<Wx.indexOf(e)){for(;i!==null;){var s=Mu(i);if(s!==null&&WI(s),s=fg(e,t,n,r),s===null&&Jp(e,t,r,Hd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Jp(e,t,r,null,n)}}var Hd=null;function fg(e,t,n,r){if(Hd=null,e=oy(r),e=cs(e),e!==null)if(t=Ws(e),t===null)e=null;else if(n=t.tag,n===13){if(e=$I(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Hd=e,null}function KI(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Mx()){case ay:return 1;case jI:return 4;case Bd:case $x:return 16;case UI:return 536870912;default:return 16}default:return 16}}var mi=null,dy=null,cd=null;function QI(){if(cd)return cd;var e,t=dy,n=t.length,r,i="value"in mi?mi.value:mi.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return cd=i.slice(e,1<r?1-r:void 0)}function dd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Nc(){return!0}function j0(){return!1}function pn(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Nc:j0,this.isPropagationStopped=j0,this}return We(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Nc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Nc)},persist:function(){},isPersistent:Nc}),t}var ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hy=pn(ca),Nu=We({},ca,{view:0,detail:0}),Kx=pn(Nu),zp,Wp,Ba,nf=We({},Nu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ba&&(Ba&&e.type==="mousemove"?(zp=e.screenX-Ba.screenX,Wp=e.screenY-Ba.screenY):Wp=zp=0,Ba=e),zp)},movementY:function(e){return"movementY"in e?e.movementY:Wp}}),U0=pn(nf),Qx=We({},nf,{dataTransfer:0}),Xx=pn(Qx),Jx=We({},Nu,{relatedTarget:0}),Hp=pn(Jx),Zx=We({},ca,{animationName:0,elapsedTime:0,pseudoElement:0}),eN=pn(Zx),tN=We({},ca,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),nN=pn(tN),rN=We({},ca,{data:0}),B0=pn(rN),iN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=oN[e])?!!t[e]:!1}function fy(){return aN}var lN=We({},Nu,{key:function(e){if(e.key){var t=iN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=dd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?sN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fy,charCode:function(e){return e.type==="keypress"?dd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?dd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),uN=pn(lN),cN=We({},nf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),z0=pn(cN),dN=We({},Nu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fy}),hN=pn(dN),fN=We({},ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),pN=pn(fN),mN=We({},nf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gN=pn(mN),vN=[9,13,27,32],py=Fr&&"CompositionEvent"in window,gl=null;Fr&&"documentMode"in document&&(gl=document.documentMode);var yN=Fr&&"TextEvent"in window&&!gl,XI=Fr&&(!py||gl&&8<gl&&11>=gl),W0=" ",H0=!1;function JI(e,t){switch(e){case"keyup":return vN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ZI(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var co=!1;function _N(e,t){switch(e){case"compositionend":return ZI(t);case"keypress":return t.which!==32?null:(H0=!0,W0);case"textInput":return e=t.data,e===W0&&H0?null:e;default:return null}}function wN(e,t){if(co)return e==="compositionend"||!py&&JI(e,t)?(e=QI(),cd=dy=mi=null,co=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return XI&&t.locale!=="ko"?null:t.data;default:return null}}var EN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Y0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!EN[e.type]:t==="textarea"}function eA(e,t,n,r){bI(r),t=Yd(t,"onChange"),0<t.length&&(n=new hy("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var vl=null,Fl=null;function SN(e){dA(e,0)}function rf(e){var t=po(e);if(II(t))return e}function TN(e,t){if(e==="change")return t}var tA=!1;if(Fr){var Yp;if(Fr){var qp="oninput"in document;if(!qp){var q0=document.createElement("div");q0.setAttribute("oninput","return;"),qp=typeof q0.oninput=="function"}Yp=qp}else Yp=!1;tA=Yp&&(!document.documentMode||9<document.documentMode)}function G0(){vl&&(vl.detachEvent("onpropertychange",nA),Fl=vl=null)}function nA(e){if(e.propertyName==="value"&&rf(Fl)){var t=[];eA(t,Fl,e,oy(e)),MI(SN,t)}}function IN(e,t,n){e==="focusin"?(G0(),vl=t,Fl=n,vl.attachEvent("onpropertychange",nA)):e==="focusout"&&G0()}function AN(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return rf(Fl)}function RN(e,t){if(e==="click")return rf(t)}function PN(e,t){if(e==="input"||e==="change")return rf(t)}function CN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jn=typeof Object.is=="function"?Object.is:CN;function Vl(e,t){if(jn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Km.call(t,i)||!jn(e[i],t[i]))return!1}return!0}function K0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Q0(e,t){var n=K0(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=K0(n)}}function rA(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rA(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function iA(){for(var e=window,t=Vd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Vd(e.document)}return t}function my(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function kN(e){var t=iA(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&rA(n.ownerDocument.documentElement,n)){if(r!==null&&my(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Q0(n,s);var o=Q0(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var DN=Fr&&"documentMode"in document&&11>=document.documentMode,ho=null,pg=null,yl=null,mg=!1;function X0(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mg||ho==null||ho!==Vd(r)||(r=ho,"selectionStart"in r&&my(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yl&&Vl(yl,r)||(yl=r,r=Yd(pg,"onSelect"),0<r.length&&(t=new hy("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ho)))}function Mc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fo={animationend:Mc("Animation","AnimationEnd"),animationiteration:Mc("Animation","AnimationIteration"),animationstart:Mc("Animation","AnimationStart"),transitionend:Mc("Transition","TransitionEnd")},Gp={},sA={};Fr&&(sA=document.createElement("div").style,"AnimationEvent"in window||(delete fo.animationend.animation,delete fo.animationiteration.animation,delete fo.animationstart.animation),"TransitionEvent"in window||delete fo.transitionend.transition);function sf(e){if(Gp[e])return Gp[e];if(!fo[e])return e;var t=fo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in sA)return Gp[e]=t[n];return e}var oA=sf("animationend"),aA=sf("animationiteration"),lA=sf("animationstart"),uA=sf("transitionend"),cA=new Map,J0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wi(e,t){cA.set(e,t),zs(t,[e])}for(var Kp=0;Kp<J0.length;Kp++){var Qp=J0[Kp],bN=Qp.toLowerCase(),ON=Qp[0].toUpperCase()+Qp.slice(1);Wi(bN,"on"+ON)}Wi(oA,"onAnimationEnd");Wi(aA,"onAnimationIteration");Wi(lA,"onAnimationStart");Wi("dblclick","onDoubleClick");Wi("focusin","onFocus");Wi("focusout","onBlur");Wi(uA,"onTransitionEnd");Fo("onMouseEnter",["mouseout","mouseover"]);Fo("onMouseLeave",["mouseout","mouseover"]);Fo("onPointerEnter",["pointerout","pointerover"]);Fo("onPointerLeave",["pointerout","pointerover"]);zs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zs("onBeforeInput",["compositionend","keypress","textInput","paste"]);zs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xN=new Set("cancel close invalid load scroll toggle".split(" ").concat(il));function Z0(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,bx(r,t,void 0,e),e.currentTarget=null}function dA(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Z0(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Z0(i,a,u),s=l}}}if(Ud)throw e=cg,Ud=!1,cg=null,e}function be(e,t){var n=t[wg];n===void 0&&(n=t[wg]=new Set);var r=e+"__bubble";n.has(r)||(hA(t,e,2,!1),n.add(r))}function Xp(e,t,n){var r=0;t&&(r|=4),hA(n,e,r,t)}var $c="_reactListening"+Math.random().toString(36).slice(2);function jl(e){if(!e[$c]){e[$c]=!0,_I.forEach(function(n){n!=="selectionchange"&&(xN.has(n)||Xp(n,!1,e),Xp(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$c]||(t[$c]=!0,Xp("selectionchange",!1,t))}}function hA(e,t,n,r){switch(KI(t)){case 1:var i=qx;break;case 4:i=Gx;break;default:i=cy}n=i.bind(null,t,n,e),i=void 0,!ug||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Jp(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=cs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}MI(function(){var u=s,c=oy(n),d=[];e:{var h=cA.get(e);if(h!==void 0){var f=hy,v=e;switch(e){case"keypress":if(dd(n)===0)break e;case"keydown":case"keyup":f=uN;break;case"focusin":v="focus",f=Hp;break;case"focusout":v="blur",f=Hp;break;case"beforeblur":case"afterblur":f=Hp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=U0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=Xx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=hN;break;case oA:case aA:case lA:f=eN;break;case uA:f=pN;break;case"scroll":f=Kx;break;case"wheel":f=gN;break;case"copy":case"cut":case"paste":f=nN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=z0}var p=(t&4)!==0,y=!p&&e==="scroll",m=p?h!==null?h+"Capture":null:h;p=[];for(var g=u,_;g!==null;){_=g;var E=_.stateNode;if(_.tag===5&&E!==null&&(_=E,m!==null&&(E=Nl(g,m),E!=null&&p.push(Ul(g,E,_)))),y)break;g=g.return}0<p.length&&(h=new f(h,v,null,n,c),d.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",h&&n!==ag&&(v=n.relatedTarget||n.fromElement)&&(cs(v)||v[Vr]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(v=n.relatedTarget||n.toElement,f=u,v=v?cs(v):null,v!==null&&(y=Ws(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(f=null,v=u),f!==v)){if(p=U0,E="onMouseLeave",m="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(p=z0,E="onPointerLeave",m="onPointerEnter",g="pointer"),y=f==null?h:po(f),_=v==null?h:po(v),h=new p(E,g+"leave",f,n,c),h.target=y,h.relatedTarget=_,E=null,cs(c)===u&&(p=new p(m,g+"enter",v,n,c),p.target=_,p.relatedTarget=y,E=p),y=E,f&&v)t:{for(p=f,m=v,g=0,_=p;_;_=eo(_))g++;for(_=0,E=m;E;E=eo(E))_++;for(;0<g-_;)p=eo(p),g--;for(;0<_-g;)m=eo(m),_--;for(;g--;){if(p===m||m!==null&&p===m.alternate)break t;p=eo(p),m=eo(m)}p=null}else p=null;f!==null&&eE(d,h,f,p,!1),v!==null&&y!==null&&eE(d,y,v,p,!0)}}e:{if(h=u?po(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var S=TN;else if(Y0(h))if(tA)S=PN;else{S=AN;var T=IN}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=RN);if(S&&(S=S(e,u))){eA(d,S,n,c);break e}T&&T(e,h,u),e==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&ng(h,"number",h.value)}switch(T=u?po(u):window,e){case"focusin":(Y0(T)||T.contentEditable==="true")&&(ho=T,pg=u,yl=null);break;case"focusout":yl=pg=ho=null;break;case"mousedown":mg=!0;break;case"contextmenu":case"mouseup":case"dragend":mg=!1,X0(d,n,c);break;case"selectionchange":if(DN)break;case"keydown":case"keyup":X0(d,n,c)}var I;if(py)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else co?JI(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(XI&&n.locale!=="ko"&&(co||P!=="onCompositionStart"?P==="onCompositionEnd"&&co&&(I=QI()):(mi=c,dy="value"in mi?mi.value:mi.textContent,co=!0)),T=Yd(u,P),0<T.length&&(P=new B0(P,e,null,n,c),d.push({event:P,listeners:T}),I?P.data=I:(I=ZI(n),I!==null&&(P.data=I)))),(I=yN?_N(e,n):wN(e,n))&&(u=Yd(u,"onBeforeInput"),0<u.length&&(c=new B0("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=I))}dA(d,t)})}function Ul(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yd(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Nl(e,n),s!=null&&r.unshift(Ul(e,s,i)),s=Nl(e,t),s!=null&&r.push(Ul(e,s,i))),e=e.return}return r}function eo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function eE(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Nl(n,s),l!=null&&o.unshift(Ul(n,l,a))):i||(l=Nl(n,s),l!=null&&o.push(Ul(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var NN=/\r\n?/g,MN=/\u0000|\uFFFD/g;function tE(e){return(typeof e=="string"?e:""+e).replace(NN,`
`).replace(MN,"")}function Lc(e,t,n){if(t=tE(t),tE(e)!==t&&n)throw Error(M(425))}function qd(){}var gg=null,vg=null;function yg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _g=typeof setTimeout=="function"?setTimeout:void 0,$N=typeof clearTimeout=="function"?clearTimeout:void 0,nE=typeof Promise=="function"?Promise:void 0,LN=typeof queueMicrotask=="function"?queueMicrotask:typeof nE<"u"?function(e){return nE.resolve(null).then(e).catch(FN)}:_g;function FN(e){setTimeout(function(){throw e})}function Zp(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Ll(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ll(t)}function Ii(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function rE(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),Qn="__reactFiber$"+da,Bl="__reactProps$"+da,Vr="__reactContainer$"+da,wg="__reactEvents$"+da,VN="__reactListeners$"+da,jN="__reactHandles$"+da;function cs(e){var t=e[Qn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Vr]||n[Qn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=rE(e);e!==null;){if(n=e[Qn])return n;e=rE(e)}return t}e=n,n=e.parentNode}return null}function Mu(e){return e=e[Qn]||e[Vr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function po(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(M(33))}function of(e){return e[Bl]||null}var Eg=[],mo=-1;function Hi(e){return{current:e}}function Me(e){0>mo||(e.current=Eg[mo],Eg[mo]=null,mo--)}function De(e,t){mo++,Eg[mo]=e.current,e.current=t}var Li={},$t=Hi(Li),Xt=Hi(!1),Is=Li;function Vo(e,t){var n=e.type.contextTypes;if(!n)return Li;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Jt(e){return e=e.childContextTypes,e!=null}function Gd(){Me(Xt),Me($t)}function iE(e,t,n){if($t.current!==Li)throw Error(M(168));De($t,t),De(Xt,n)}function fA(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(M(108,Ix(e)||"Unknown",i));return We({},n,r)}function Kd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Li,Is=$t.current,De($t,e),De(Xt,Xt.current),!0}function sE(e,t,n){var r=e.stateNode;if(!r)throw Error(M(169));n?(e=fA(e,t,Is),r.__reactInternalMemoizedMergedChildContext=e,Me(Xt),Me($t),De($t,e)):Me(Xt),De(Xt,n)}var Ir=null,af=!1,em=!1;function pA(e){Ir===null?Ir=[e]:Ir.push(e)}function UN(e){af=!0,pA(e)}function Yi(){if(!em&&Ir!==null){em=!0;var e=0,t=Ie;try{var n=Ir;for(Ie=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ir=null,af=!1}catch(i){throw Ir!==null&&(Ir=Ir.slice(e+1)),VI(ay,Yi),i}finally{Ie=t,em=!1}}return null}var go=[],vo=0,Qd=null,Xd=0,vn=[],yn=0,As=null,Rr=1,Pr="";function ss(e,t){go[vo++]=Xd,go[vo++]=Qd,Qd=e,Xd=t}function mA(e,t,n){vn[yn++]=Rr,vn[yn++]=Pr,vn[yn++]=As,As=e;var r=Rr;e=Pr;var i=32-Fn(r)-1;r&=~(1<<i),n+=1;var s=32-Fn(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Rr=1<<32-Fn(t)+i|n<<i|r,Pr=s+e}else Rr=1<<s|n<<i|r,Pr=e}function gy(e){e.return!==null&&(ss(e,1),mA(e,1,0))}function vy(e){for(;e===Qd;)Qd=go[--vo],go[vo]=null,Xd=go[--vo],go[vo]=null;for(;e===As;)As=vn[--yn],vn[yn]=null,Pr=vn[--yn],vn[yn]=null,Rr=vn[--yn],vn[yn]=null}var un=null,an=null,Ue=!1,Mn=null;function gA(e,t){var n=En(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function oE(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,un=e,an=Ii(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,un=e,an=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=As!==null?{id:Rr,overflow:Pr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=En(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,un=e,an=null,!0):!1;default:return!1}}function Sg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Tg(e){if(Ue){var t=an;if(t){var n=t;if(!oE(e,t)){if(Sg(e))throw Error(M(418));t=Ii(n.nextSibling);var r=un;t&&oE(e,t)?gA(r,n):(e.flags=e.flags&-4097|2,Ue=!1,un=e)}}else{if(Sg(e))throw Error(M(418));e.flags=e.flags&-4097|2,Ue=!1,un=e}}}function aE(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;un=e}function Fc(e){if(e!==un)return!1;if(!Ue)return aE(e),Ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!yg(e.type,e.memoizedProps)),t&&(t=an)){if(Sg(e))throw vA(),Error(M(418));for(;t;)gA(e,t),t=Ii(t.nextSibling)}if(aE(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){an=Ii(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}an=null}}else an=un?Ii(e.stateNode.nextSibling):null;return!0}function vA(){for(var e=an;e;)e=Ii(e.nextSibling)}function jo(){an=un=null,Ue=!1}function yy(e){Mn===null?Mn=[e]:Mn.push(e)}var BN=Kr.ReactCurrentBatchConfig;function xn(e,t){if(e&&e.defaultProps){t=We({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Jd=Hi(null),Zd=null,yo=null,_y=null;function wy(){_y=yo=Zd=null}function Ey(e){var t=Jd.current;Me(Jd),e._currentValue=t}function Ig(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Co(e,t){Zd=e,_y=yo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Qt=!0),e.firstContext=null)}function In(e){var t=e._currentValue;if(_y!==e)if(e={context:e,memoizedValue:t,next:null},yo===null){if(Zd===null)throw Error(M(308));yo=e,Zd.dependencies={lanes:0,firstContext:e}}else yo=yo.next=e;return t}var ds=null;function Sy(e){ds===null?ds=[e]:ds.push(e)}function yA(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Sy(t)):(n.next=i.next,i.next=n),t.interleaved=n,jr(e,r)}function jr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var li=!1;function Ty(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _A(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function xr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ai(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ve&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,jr(e,n)}return i=r.interleaved,i===null?(t.next=t,Sy(r)):(t.next=i.next,i.next=t),r.interleaved=t,jr(e,n)}function hd(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ly(e,n)}}function lE(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function eh(e,t,n,r){var i=e.updateQueue;li=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,f=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,p=a;switch(h=t,f=n,p.tag){case 1:if(v=p.payload,typeof v=="function"){d=v.call(f,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=p.payload,h=typeof v=="function"?v.call(f,d,h):v,h==null)break e;d=We({},d,h);break e;case 2:li=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Ps|=o,e.lanes=o,e.memoizedState=d}}function uE(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(M(191,i));i.call(r)}}}var wA=new yI.Component().refs;function Ag(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:We({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var lf={isMounted:function(e){return(e=e._reactInternals)?Ws(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Bt(),i=Pi(e),s=xr(r,i);s.payload=t,n!=null&&(s.callback=n),t=Ai(e,s,i),t!==null&&(Vn(t,e,i,r),hd(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Bt(),i=Pi(e),s=xr(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Ai(e,s,i),t!==null&&(Vn(t,e,i,r),hd(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Bt(),r=Pi(e),i=xr(n,r);i.tag=2,t!=null&&(i.callback=t),t=Ai(e,i,r),t!==null&&(Vn(t,e,r,n),hd(t,e,r))}};function cE(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Vl(n,r)||!Vl(i,s):!0}function EA(e,t,n){var r=!1,i=Li,s=t.contextType;return typeof s=="object"&&s!==null?s=In(s):(i=Jt(t)?Is:$t.current,r=t.contextTypes,s=(r=r!=null)?Vo(e,i):Li),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=lf,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function dE(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&lf.enqueueReplaceState(t,t.state,null)}function Rg(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=wA,Ty(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=In(s):(s=Jt(t)?Is:$t.current,i.context=Vo(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Ag(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&lf.enqueueReplaceState(i,i.state,null),eh(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function za(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var r=n.stateNode}if(!r)throw Error(M(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===wA&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,e))}return e}function Vc(e,t){throw e=Object.prototype.toString.call(t),Error(M(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function hE(e){var t=e._init;return t(e._payload)}function SA(e){function t(m,g){if(e){var _=m.deletions;_===null?(m.deletions=[g],m.flags|=16):_.push(g)}}function n(m,g){if(!e)return null;for(;g!==null;)t(m,g),g=g.sibling;return null}function r(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function i(m,g){return m=Ci(m,g),m.index=0,m.sibling=null,m}function s(m,g,_){return m.index=_,e?(_=m.alternate,_!==null?(_=_.index,_<g?(m.flags|=2,g):_):(m.flags|=2,g)):(m.flags|=1048576,g)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,g,_,E){return g===null||g.tag!==6?(g=am(_,m.mode,E),g.return=m,g):(g=i(g,_),g.return=m,g)}function l(m,g,_,E){var S=_.type;return S===uo?c(m,g,_.props.children,E,_.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ai&&hE(S)===g.type)?(E=i(g,_.props),E.ref=za(m,g,_),E.return=m,E):(E=yd(_.type,_.key,_.props,null,m.mode,E),E.ref=za(m,g,_),E.return=m,E)}function u(m,g,_,E){return g===null||g.tag!==4||g.stateNode.containerInfo!==_.containerInfo||g.stateNode.implementation!==_.implementation?(g=lm(_,m.mode,E),g.return=m,g):(g=i(g,_.children||[]),g.return=m,g)}function c(m,g,_,E,S){return g===null||g.tag!==7?(g=ys(_,m.mode,E,S),g.return=m,g):(g=i(g,_),g.return=m,g)}function d(m,g,_){if(typeof g=="string"&&g!==""||typeof g=="number")return g=am(""+g,m.mode,_),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Cc:return _=yd(g.type,g.key,g.props,null,m.mode,_),_.ref=za(m,null,g),_.return=m,_;case lo:return g=lm(g,m.mode,_),g.return=m,g;case ai:var E=g._init;return d(m,E(g._payload),_)}if(nl(g)||Fa(g))return g=ys(g,m.mode,_,null),g.return=m,g;Vc(m,g)}return null}function h(m,g,_,E){var S=g!==null?g.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:a(m,g,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Cc:return _.key===S?l(m,g,_,E):null;case lo:return _.key===S?u(m,g,_,E):null;case ai:return S=_._init,h(m,g,S(_._payload),E)}if(nl(_)||Fa(_))return S!==null?null:c(m,g,_,E,null);Vc(m,_)}return null}function f(m,g,_,E,S){if(typeof E=="string"&&E!==""||typeof E=="number")return m=m.get(_)||null,a(g,m,""+E,S);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Cc:return m=m.get(E.key===null?_:E.key)||null,l(g,m,E,S);case lo:return m=m.get(E.key===null?_:E.key)||null,u(g,m,E,S);case ai:var T=E._init;return f(m,g,_,T(E._payload),S)}if(nl(E)||Fa(E))return m=m.get(_)||null,c(g,m,E,S,null);Vc(g,E)}return null}function v(m,g,_,E){for(var S=null,T=null,I=g,P=g=0,b=null;I!==null&&P<_.length;P++){I.index>P?(b=I,I=null):b=I.sibling;var C=h(m,I,_[P],E);if(C===null){I===null&&(I=b);break}e&&I&&C.alternate===null&&t(m,I),g=s(C,g,P),T===null?S=C:T.sibling=C,T=C,I=b}if(P===_.length)return n(m,I),Ue&&ss(m,P),S;if(I===null){for(;P<_.length;P++)I=d(m,_[P],E),I!==null&&(g=s(I,g,P),T===null?S=I:T.sibling=I,T=I);return Ue&&ss(m,P),S}for(I=r(m,I);P<_.length;P++)b=f(I,m,P,_[P],E),b!==null&&(e&&b.alternate!==null&&I.delete(b.key===null?P:b.key),g=s(b,g,P),T===null?S=b:T.sibling=b,T=b);return e&&I.forEach(function(L){return t(m,L)}),Ue&&ss(m,P),S}function p(m,g,_,E){var S=Fa(_);if(typeof S!="function")throw Error(M(150));if(_=S.call(_),_==null)throw Error(M(151));for(var T=S=null,I=g,P=g=0,b=null,C=_.next();I!==null&&!C.done;P++,C=_.next()){I.index>P?(b=I,I=null):b=I.sibling;var L=h(m,I,C.value,E);if(L===null){I===null&&(I=b);break}e&&I&&L.alternate===null&&t(m,I),g=s(L,g,P),T===null?S=L:T.sibling=L,T=L,I=b}if(C.done)return n(m,I),Ue&&ss(m,P),S;if(I===null){for(;!C.done;P++,C=_.next())C=d(m,C.value,E),C!==null&&(g=s(C,g,P),T===null?S=C:T.sibling=C,T=C);return Ue&&ss(m,P),S}for(I=r(m,I);!C.done;P++,C=_.next())C=f(I,m,P,C.value,E),C!==null&&(e&&C.alternate!==null&&I.delete(C.key===null?P:C.key),g=s(C,g,P),T===null?S=C:T.sibling=C,T=C);return e&&I.forEach(function(z){return t(m,z)}),Ue&&ss(m,P),S}function y(m,g,_,E){if(typeof _=="object"&&_!==null&&_.type===uo&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Cc:e:{for(var S=_.key,T=g;T!==null;){if(T.key===S){if(S=_.type,S===uo){if(T.tag===7){n(m,T.sibling),g=i(T,_.props.children),g.return=m,m=g;break e}}else if(T.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ai&&hE(S)===T.type){n(m,T.sibling),g=i(T,_.props),g.ref=za(m,T,_),g.return=m,m=g;break e}n(m,T);break}else t(m,T);T=T.sibling}_.type===uo?(g=ys(_.props.children,m.mode,E,_.key),g.return=m,m=g):(E=yd(_.type,_.key,_.props,null,m.mode,E),E.ref=za(m,g,_),E.return=m,m=E)}return o(m);case lo:e:{for(T=_.key;g!==null;){if(g.key===T)if(g.tag===4&&g.stateNode.containerInfo===_.containerInfo&&g.stateNode.implementation===_.implementation){n(m,g.sibling),g=i(g,_.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else t(m,g);g=g.sibling}g=lm(_,m.mode,E),g.return=m,m=g}return o(m);case ai:return T=_._init,y(m,g,T(_._payload),E)}if(nl(_))return v(m,g,_,E);if(Fa(_))return p(m,g,_,E);Vc(m,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,g!==null&&g.tag===6?(n(m,g.sibling),g=i(g,_),g.return=m,m=g):(n(m,g),g=am(_,m.mode,E),g.return=m,m=g),o(m)):n(m,g)}return y}var Uo=SA(!0),TA=SA(!1),$u={},ir=Hi($u),zl=Hi($u),Wl=Hi($u);function hs(e){if(e===$u)throw Error(M(174));return e}function Iy(e,t){switch(De(Wl,t),De(zl,e),De(ir,$u),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ig(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ig(t,e)}Me(ir),De(ir,t)}function Bo(){Me(ir),Me(zl),Me(Wl)}function IA(e){hs(Wl.current);var t=hs(ir.current),n=ig(t,e.type);t!==n&&(De(zl,e),De(ir,n))}function Ay(e){zl.current===e&&(Me(ir),Me(zl))}var Be=Hi(0);function th(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tm=[];function Ry(){for(var e=0;e<tm.length;e++)tm[e]._workInProgressVersionPrimary=null;tm.length=0}var fd=Kr.ReactCurrentDispatcher,nm=Kr.ReactCurrentBatchConfig,Rs=0,ze=null,it=null,ut=null,nh=!1,_l=!1,Hl=0,zN=0;function Rt(){throw Error(M(321))}function Py(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!jn(e[n],t[n]))return!1;return!0}function Cy(e,t,n,r,i,s){if(Rs=s,ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fd.current=e===null||e.memoizedState===null?qN:GN,e=n(r,i),_l){s=0;do{if(_l=!1,Hl=0,25<=s)throw Error(M(301));s+=1,ut=it=null,t.updateQueue=null,fd.current=KN,e=n(r,i)}while(_l)}if(fd.current=rh,t=it!==null&&it.next!==null,Rs=0,ut=it=ze=null,nh=!1,t)throw Error(M(300));return e}function ky(){var e=Hl!==0;return Hl=0,e}function Kn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?ze.memoizedState=ut=e:ut=ut.next=e,ut}function An(){if(it===null){var e=ze.alternate;e=e!==null?e.memoizedState:null}else e=it.next;var t=ut===null?ze.memoizedState:ut.next;if(t!==null)ut=t,it=e;else{if(e===null)throw Error(M(310));it=e,e={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},ut===null?ze.memoizedState=ut=e:ut=ut.next=e}return ut}function Yl(e,t){return typeof t=="function"?t(e):t}function rm(e){var t=An(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=it,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Rs&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,ze.lanes|=c,Ps|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,jn(r,t.memoizedState)||(Qt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,ze.lanes|=s,Ps|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function im(e){var t=An(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);jn(s,t.memoizedState)||(Qt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function AA(){}function RA(e,t){var n=ze,r=An(),i=t(),s=!jn(r.memoizedState,i);if(s&&(r.memoizedState=i,Qt=!0),r=r.queue,Dy(kA.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||ut!==null&&ut.memoizedState.tag&1){if(n.flags|=2048,ql(9,CA.bind(null,n,r,i,t),void 0,null),ct===null)throw Error(M(349));Rs&30||PA(n,t,i)}return i}function PA(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function CA(e,t,n,r){t.value=n,t.getSnapshot=r,DA(t)&&bA(e)}function kA(e,t,n){return n(function(){DA(t)&&bA(e)})}function DA(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!jn(e,n)}catch{return!0}}function bA(e){var t=jr(e,1);t!==null&&Vn(t,e,1,-1)}function fE(e){var t=Kn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yl,lastRenderedState:e},t.queue=e,e=e.dispatch=YN.bind(null,ze,e),[t.memoizedState,e]}function ql(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function OA(){return An().memoizedState}function pd(e,t,n,r){var i=Kn();ze.flags|=e,i.memoizedState=ql(1|t,n,void 0,r===void 0?null:r)}function uf(e,t,n,r){var i=An();r=r===void 0?null:r;var s=void 0;if(it!==null){var o=it.memoizedState;if(s=o.destroy,r!==null&&Py(r,o.deps)){i.memoizedState=ql(t,n,s,r);return}}ze.flags|=e,i.memoizedState=ql(1|t,n,s,r)}function pE(e,t){return pd(8390656,8,e,t)}function Dy(e,t){return uf(2048,8,e,t)}function xA(e,t){return uf(4,2,e,t)}function NA(e,t){return uf(4,4,e,t)}function MA(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $A(e,t,n){return n=n!=null?n.concat([e]):null,uf(4,4,MA.bind(null,t,e),n)}function by(){}function LA(e,t){var n=An();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Py(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function FA(e,t){var n=An();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Py(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function VA(e,t,n){return Rs&21?(jn(n,t)||(n=BI(),ze.lanes|=n,Ps|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Qt=!0),e.memoizedState=n)}function WN(e,t){var n=Ie;Ie=n!==0&&4>n?n:4,e(!0);var r=nm.transition;nm.transition={};try{e(!1),t()}finally{Ie=n,nm.transition=r}}function jA(){return An().memoizedState}function HN(e,t,n){var r=Pi(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},UA(e))BA(t,n);else if(n=yA(e,t,n,r),n!==null){var i=Bt();Vn(n,e,r,i),zA(n,t,r)}}function YN(e,t,n){var r=Pi(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(UA(e))BA(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,jn(a,o)){var l=t.interleaved;l===null?(i.next=i,Sy(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=yA(e,t,i,r),n!==null&&(i=Bt(),Vn(n,e,r,i),zA(n,t,r))}}function UA(e){var t=e.alternate;return e===ze||t!==null&&t===ze}function BA(e,t){_l=nh=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function zA(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ly(e,n)}}var rh={readContext:In,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},qN={readContext:In,useCallback:function(e,t){return Kn().memoizedState=[e,t===void 0?null:t],e},useContext:In,useEffect:pE,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,pd(4194308,4,MA.bind(null,t,e),n)},useLayoutEffect:function(e,t){return pd(4194308,4,e,t)},useInsertionEffect:function(e,t){return pd(4,2,e,t)},useMemo:function(e,t){var n=Kn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Kn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=HN.bind(null,ze,e),[r.memoizedState,e]},useRef:function(e){var t=Kn();return e={current:e},t.memoizedState=e},useState:fE,useDebugValue:by,useDeferredValue:function(e){return Kn().memoizedState=e},useTransition:function(){var e=fE(!1),t=e[0];return e=WN.bind(null,e[1]),Kn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ze,i=Kn();if(Ue){if(n===void 0)throw Error(M(407));n=n()}else{if(n=t(),ct===null)throw Error(M(349));Rs&30||PA(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,pE(kA.bind(null,r,s,e),[e]),r.flags|=2048,ql(9,CA.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Kn(),t=ct.identifierPrefix;if(Ue){var n=Pr,r=Rr;n=(r&~(1<<32-Fn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Hl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=zN++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},GN={readContext:In,useCallback:LA,useContext:In,useEffect:Dy,useImperativeHandle:$A,useInsertionEffect:xA,useLayoutEffect:NA,useMemo:FA,useReducer:rm,useRef:OA,useState:function(){return rm(Yl)},useDebugValue:by,useDeferredValue:function(e){var t=An();return VA(t,it.memoizedState,e)},useTransition:function(){var e=rm(Yl)[0],t=An().memoizedState;return[e,t]},useMutableSource:AA,useSyncExternalStore:RA,useId:jA,unstable_isNewReconciler:!1},KN={readContext:In,useCallback:LA,useContext:In,useEffect:Dy,useImperativeHandle:$A,useInsertionEffect:xA,useLayoutEffect:NA,useMemo:FA,useReducer:im,useRef:OA,useState:function(){return im(Yl)},useDebugValue:by,useDeferredValue:function(e){var t=An();return it===null?t.memoizedState=e:VA(t,it.memoizedState,e)},useTransition:function(){var e=im(Yl)[0],t=An().memoizedState;return[e,t]},useMutableSource:AA,useSyncExternalStore:RA,useId:jA,unstable_isNewReconciler:!1};function zo(e,t){try{var n="",r=t;do n+=Tx(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function sm(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Pg(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var QN=typeof WeakMap=="function"?WeakMap:Map;function WA(e,t,n){n=xr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){sh||(sh=!0,Lg=r),Pg(e,t)},n}function HA(e,t,n){n=xr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Pg(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Pg(e,t),typeof r!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function mE(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new QN;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=cM.bind(null,e,t,n),t.then(e,e))}function gE(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function vE(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=xr(-1,1),t.tag=2,Ai(n,t,1))),n.lanes|=1),e)}var XN=Kr.ReactCurrentOwner,Qt=!1;function Vt(e,t,n,r){t.child=e===null?TA(t,null,n,r):Uo(t,e.child,n,r)}function yE(e,t,n,r,i){n=n.render;var s=t.ref;return Co(t,i),r=Cy(e,t,n,r,s,i),n=ky(),e!==null&&!Qt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ur(e,t,i)):(Ue&&n&&gy(t),t.flags|=1,Vt(e,t,r,i),t.child)}function _E(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Vy(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,YA(e,t,s,r,i)):(e=yd(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Vl,n(o,r)&&e.ref===t.ref)return Ur(e,t,i)}return t.flags|=1,e=Ci(s,r),e.ref=t.ref,e.return=t,t.child=e}function YA(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Vl(s,r)&&e.ref===t.ref)if(Qt=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Qt=!0);else return t.lanes=e.lanes,Ur(e,t,i)}return Cg(e,t,n,r,i)}function qA(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(wo,on),on|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,De(wo,on),on|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,De(wo,on),on|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,De(wo,on),on|=r;return Vt(e,t,i,n),t.child}function GA(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cg(e,t,n,r,i){var s=Jt(n)?Is:$t.current;return s=Vo(t,s),Co(t,i),n=Cy(e,t,n,r,s,i),r=ky(),e!==null&&!Qt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ur(e,t,i)):(Ue&&r&&gy(t),t.flags|=1,Vt(e,t,n,i),t.child)}function wE(e,t,n,r,i){if(Jt(n)){var s=!0;Kd(t)}else s=!1;if(Co(t,i),t.stateNode===null)md(e,t),EA(t,n,r),Rg(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=In(u):(u=Jt(n)?Is:$t.current,u=Vo(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&dE(t,o,r,u),li=!1;var h=t.memoizedState;o.state=h,eh(t,r,o,i),l=t.memoizedState,a!==r||h!==l||Xt.current||li?(typeof c=="function"&&(Ag(t,n,c,r),l=t.memoizedState),(a=li||cE(t,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,_A(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:xn(t.type,a),o.props=u,d=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=In(l):(l=Jt(n)?Is:$t.current,l=Vo(t,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&dE(t,o,r,l),li=!1,h=t.memoizedState,o.state=h,eh(t,r,o,i);var v=t.memoizedState;a!==d||h!==v||Xt.current||li?(typeof f=="function"&&(Ag(t,n,f,r),v=t.memoizedState),(u=li||cE(t,n,u,r,h,v,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return kg(e,t,n,r,s,i)}function kg(e,t,n,r,i,s){GA(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&sE(t,n,!1),Ur(e,t,s);r=t.stateNode,XN.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Uo(t,e.child,null,s),t.child=Uo(t,null,a,s)):Vt(e,t,a,s),t.memoizedState=r.state,i&&sE(t,n,!0),t.child}function KA(e){var t=e.stateNode;t.pendingContext?iE(e,t.pendingContext,t.pendingContext!==t.context):t.context&&iE(e,t.context,!1),Iy(e,t.containerInfo)}function EE(e,t,n,r,i){return jo(),yy(i),t.flags|=256,Vt(e,t,n,r),t.child}var Dg={dehydrated:null,treeContext:null,retryLane:0};function bg(e){return{baseLanes:e,cachePool:null,transitions:null}}function QA(e,t,n){var r=t.pendingProps,i=Be.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),De(Be,i&1),e===null)return Tg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=hf(o,r,0,null),e=ys(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=bg(n),t.memoizedState=Dg,e):Oy(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return JN(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Ci(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ci(a,s):(s=ys(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?bg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Dg,r}return s=e.child,e=s.sibling,r=Ci(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Oy(e,t){return t=hf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function jc(e,t,n,r){return r!==null&&yy(r),Uo(t,e.child,null,n),e=Oy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function JN(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=sm(Error(M(422))),jc(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=hf({mode:"visible",children:r.children},i,0,null),s=ys(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Uo(t,e.child,null,o),t.child.memoizedState=bg(o),t.memoizedState=Dg,s);if(!(t.mode&1))return jc(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(M(419)),r=sm(s,r,void 0),jc(e,t,o,r)}if(a=(o&e.childLanes)!==0,Qt||a){if(r=ct,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,jr(e,i),Vn(r,e,i,-1))}return Fy(),r=sm(Error(M(421))),jc(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=dM.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,an=Ii(i.nextSibling),un=t,Ue=!0,Mn=null,e!==null&&(vn[yn++]=Rr,vn[yn++]=Pr,vn[yn++]=As,Rr=e.id,Pr=e.overflow,As=t),t=Oy(t,r.children),t.flags|=4096,t)}function SE(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ig(e.return,t,n)}function om(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function XA(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Vt(e,t,r.children,n),r=Be.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&SE(e,n,t);else if(e.tag===19)SE(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(De(Be,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&th(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),om(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&th(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}om(t,!0,n,null,s);break;case"together":om(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function md(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ur(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ps|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(M(153));if(t.child!==null){for(e=t.child,n=Ci(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ci(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ZN(e,t,n){switch(t.tag){case 3:KA(t),jo();break;case 5:IA(t);break;case 1:Jt(t.type)&&Kd(t);break;case 4:Iy(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;De(Jd,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(De(Be,Be.current&1),t.flags|=128,null):n&t.child.childLanes?QA(e,t,n):(De(Be,Be.current&1),e=Ur(e,t,n),e!==null?e.sibling:null);De(Be,Be.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return XA(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),De(Be,Be.current),r)break;return null;case 22:case 23:return t.lanes=0,qA(e,t,n)}return Ur(e,t,n)}var JA,Og,ZA,eR;JA=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Og=function(){};ZA=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,hs(ir.current);var s=null;switch(n){case"input":i=eg(e,i),r=eg(e,r),s=[];break;case"select":i=We({},i,{value:void 0}),r=We({},r,{value:void 0}),s=[];break;case"textarea":i=rg(e,i),r=rg(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=qd)}sg(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ol.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ol.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&be("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};eR=function(e,t,n,r){n!==r&&(t.flags|=4)};function Wa(e,t){if(!Ue)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Pt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function eM(e,t,n){var r=t.pendingProps;switch(vy(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(t),null;case 1:return Jt(t.type)&&Gd(),Pt(t),null;case 3:return r=t.stateNode,Bo(),Me(Xt),Me($t),Ry(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Fc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Mn!==null&&(jg(Mn),Mn=null))),Og(e,t),Pt(t),null;case 5:Ay(t);var i=hs(Wl.current);if(n=t.type,e!==null&&t.stateNode!=null)ZA(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(M(166));return Pt(t),null}if(e=hs(ir.current),Fc(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Qn]=t,r[Bl]=s,e=(t.mode&1)!==0,n){case"dialog":be("cancel",r),be("close",r);break;case"iframe":case"object":case"embed":be("load",r);break;case"video":case"audio":for(i=0;i<il.length;i++)be(il[i],r);break;case"source":be("error",r);break;case"img":case"image":case"link":be("error",r),be("load",r);break;case"details":be("toggle",r);break;case"input":b0(r,s),be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},be("invalid",r);break;case"textarea":x0(r,s),be("invalid",r)}sg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Lc(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Lc(r.textContent,a,e),i=["children",""+a]):Ol.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&be("scroll",r)}switch(n){case"input":kc(r),O0(r,s,!0);break;case"textarea":kc(r),N0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=qd)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=PI(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Qn]=t,e[Bl]=r,JA(e,t,!1,!1),t.stateNode=e;e:{switch(o=og(n,r),n){case"dialog":be("cancel",e),be("close",e),i=r;break;case"iframe":case"object":case"embed":be("load",e),i=r;break;case"video":case"audio":for(i=0;i<il.length;i++)be(il[i],e);i=r;break;case"source":be("error",e),i=r;break;case"img":case"image":case"link":be("error",e),be("load",e),i=r;break;case"details":be("toggle",e),i=r;break;case"input":b0(e,r),i=eg(e,r),be("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=We({},r,{value:void 0}),be("invalid",e);break;case"textarea":x0(e,r),i=rg(e,r),be("invalid",e);break;default:i=r}sg(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?DI(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&CI(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&xl(e,l):typeof l=="number"&&xl(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ol.hasOwnProperty(s)?l!=null&&s==="onScroll"&&be("scroll",e):l!=null&&ny(e,s,l,o))}switch(n){case"input":kc(e),O0(e,r,!1);break;case"textarea":kc(e),N0(e);break;case"option":r.value!=null&&e.setAttribute("value",""+$i(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Io(e,!!r.multiple,s,!1):r.defaultValue!=null&&Io(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=qd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Pt(t),null;case 6:if(e&&t.stateNode!=null)eR(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(M(166));if(n=hs(Wl.current),hs(ir.current),Fc(t)){if(r=t.stateNode,n=t.memoizedProps,r[Qn]=t,(s=r.nodeValue!==n)&&(e=un,e!==null))switch(e.tag){case 3:Lc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Lc(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Qn]=t,t.stateNode=r}return Pt(t),null;case 13:if(Me(Be),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ue&&an!==null&&t.mode&1&&!(t.flags&128))vA(),jo(),t.flags|=98560,s=!1;else if(s=Fc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(M(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(M(317));s[Qn]=t}else jo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Pt(t),s=!1}else Mn!==null&&(jg(Mn),Mn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Be.current&1?st===0&&(st=3):Fy())),t.updateQueue!==null&&(t.flags|=4),Pt(t),null);case 4:return Bo(),Og(e,t),e===null&&jl(t.stateNode.containerInfo),Pt(t),null;case 10:return Ey(t.type._context),Pt(t),null;case 17:return Jt(t.type)&&Gd(),Pt(t),null;case 19:if(Me(Be),s=t.memoizedState,s===null)return Pt(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Wa(s,!1);else{if(st!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=th(e),o!==null){for(t.flags|=128,Wa(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return De(Be,Be.current&1|2),t.child}e=e.sibling}s.tail!==null&&Xe()>Wo&&(t.flags|=128,r=!0,Wa(s,!1),t.lanes=4194304)}else{if(!r)if(e=th(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Wa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ue)return Pt(t),null}else 2*Xe()-s.renderingStartTime>Wo&&n!==1073741824&&(t.flags|=128,r=!0,Wa(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Xe(),t.sibling=null,n=Be.current,De(Be,r?n&1|2:n&1),t):(Pt(t),null);case 22:case 23:return Ly(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?on&1073741824&&(Pt(t),t.subtreeFlags&6&&(t.flags|=8192)):Pt(t),null;case 24:return null;case 25:return null}throw Error(M(156,t.tag))}function tM(e,t){switch(vy(t),t.tag){case 1:return Jt(t.type)&&Gd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Bo(),Me(Xt),Me($t),Ry(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ay(t),null;case 13:if(Me(Be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(M(340));jo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Me(Be),null;case 4:return Bo(),null;case 10:return Ey(t.type._context),null;case 22:case 23:return Ly(),null;case 24:return null;default:return null}}var Uc=!1,bt=!1,nM=typeof WeakSet=="function"?WeakSet:Set,Y=null;function _o(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ye(e,t,r)}else n.current=null}function xg(e,t,n){try{n()}catch(r){Ye(e,t,r)}}var TE=!1;function rM(e,t){if(gg=Wd,e=iA(),my(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=e,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===e)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(vg={focusedElem:e,selectionRange:n},Wd=!1,Y=t;Y!==null;)if(t=Y,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Y=e;else for(;Y!==null;){t=Y;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var p=v.memoizedProps,y=v.memoizedState,m=t.stateNode,g=m.getSnapshotBeforeUpdate(t.elementType===t.type?p:xn(t.type,p),y);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(E){Ye(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,Y=e;break}Y=t.return}return v=TE,TE=!1,v}function wl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&xg(t,n,s)}i=i.next}while(i!==r)}}function cf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ng(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function tR(e){var t=e.alternate;t!==null&&(e.alternate=null,tR(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Qn],delete t[Bl],delete t[wg],delete t[VN],delete t[jN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function nR(e){return e.tag===5||e.tag===3||e.tag===4}function IE(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||nR(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=qd));else if(r!==4&&(e=e.child,e!==null))for(Mg(e,t,n),e=e.sibling;e!==null;)Mg(e,t,n),e=e.sibling}function $g(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for($g(e,t,n),e=e.sibling;e!==null;)$g(e,t,n),e=e.sibling}var vt=null,Nn=!1;function ni(e,t,n){for(n=n.child;n!==null;)rR(e,t,n),n=n.sibling}function rR(e,t,n){if(rr&&typeof rr.onCommitFiberUnmount=="function")try{rr.onCommitFiberUnmount(tf,n)}catch{}switch(n.tag){case 5:bt||_o(n,t);case 6:var r=vt,i=Nn;vt=null,ni(e,t,n),vt=r,Nn=i,vt!==null&&(Nn?(e=vt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):vt.removeChild(n.stateNode));break;case 18:vt!==null&&(Nn?(e=vt,n=n.stateNode,e.nodeType===8?Zp(e.parentNode,n):e.nodeType===1&&Zp(e,n),Ll(e)):Zp(vt,n.stateNode));break;case 4:r=vt,i=Nn,vt=n.stateNode.containerInfo,Nn=!0,ni(e,t,n),vt=r,Nn=i;break;case 0:case 11:case 14:case 15:if(!bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&xg(n,t,o),i=i.next}while(i!==r)}ni(e,t,n);break;case 1:if(!bt&&(_o(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ye(n,t,a)}ni(e,t,n);break;case 21:ni(e,t,n);break;case 22:n.mode&1?(bt=(r=bt)||n.memoizedState!==null,ni(e,t,n),bt=r):ni(e,t,n);break;default:ni(e,t,n)}}function AE(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new nM),t.forEach(function(r){var i=hM.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function On(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:vt=a.stateNode,Nn=!1;break e;case 3:vt=a.stateNode.containerInfo,Nn=!0;break e;case 4:vt=a.stateNode.containerInfo,Nn=!0;break e}a=a.return}if(vt===null)throw Error(M(160));rR(s,o,i),vt=null,Nn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ye(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)iR(t,e),t=t.sibling}function iR(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(On(t,e),Gn(e),r&4){try{wl(3,e,e.return),cf(3,e)}catch(p){Ye(e,e.return,p)}try{wl(5,e,e.return)}catch(p){Ye(e,e.return,p)}}break;case 1:On(t,e),Gn(e),r&512&&n!==null&&_o(n,n.return);break;case 5:if(On(t,e),Gn(e),r&512&&n!==null&&_o(n,n.return),e.flags&32){var i=e.stateNode;try{xl(i,"")}catch(p){Ye(e,e.return,p)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&AI(i,s),og(a,o);var u=og(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?DI(i,d):c==="dangerouslySetInnerHTML"?CI(i,d):c==="children"?xl(i,d):ny(i,c,d,u)}switch(a){case"input":tg(i,s);break;case"textarea":RI(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Io(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?Io(i,!!s.multiple,s.defaultValue,!0):Io(i,!!s.multiple,s.multiple?[]:"",!1))}i[Bl]=s}catch(p){Ye(e,e.return,p)}}break;case 6:if(On(t,e),Gn(e),r&4){if(e.stateNode===null)throw Error(M(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(p){Ye(e,e.return,p)}}break;case 3:if(On(t,e),Gn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ll(t.containerInfo)}catch(p){Ye(e,e.return,p)}break;case 4:On(t,e),Gn(e);break;case 13:On(t,e),Gn(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(My=Xe())),r&4&&AE(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(bt=(u=bt)||c,On(t,e),bt=u):On(t,e),Gn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(Y=e,c=e.child;c!==null;){for(d=Y=c;Y!==null;){switch(h=Y,f=h.child,h.tag){case 0:case 11:case 14:case 15:wl(4,h,h.return);break;case 1:_o(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(p){Ye(r,n,p)}}break;case 5:_o(h,h.return);break;case 22:if(h.memoizedState!==null){PE(d);continue}}f!==null?(f.return=h,Y=f):PE(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=kI("display",o))}catch(p){Ye(e,e.return,p)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(p){Ye(e,e.return,p)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:On(t,e),Gn(e),r&4&&AE(e);break;case 21:break;default:On(t,e),Gn(e)}}function Gn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(nR(n)){var r=n;break e}n=n.return}throw Error(M(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(xl(i,""),r.flags&=-33);var s=IE(e);$g(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=IE(e);Mg(e,a,o);break;default:throw Error(M(161))}}catch(l){Ye(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function iM(e,t,n){Y=e,sR(e)}function sR(e,t,n){for(var r=(e.mode&1)!==0;Y!==null;){var i=Y,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Uc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||bt;a=Uc;var u=bt;if(Uc=o,(bt=l)&&!u)for(Y=i;Y!==null;)o=Y,l=o.child,o.tag===22&&o.memoizedState!==null?CE(i):l!==null?(l.return=o,Y=l):CE(i);for(;s!==null;)Y=s,sR(s),s=s.sibling;Y=i,Uc=a,bt=u}RE(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Y=s):RE(e)}}function RE(e){for(;Y!==null;){var t=Y;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:bt||cf(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!bt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:xn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&uE(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}uE(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Ll(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}bt||t.flags&512&&Ng(t)}catch(h){Ye(t,t.return,h)}}if(t===e){Y=null;break}if(n=t.sibling,n!==null){n.return=t.return,Y=n;break}Y=t.return}}function PE(e){for(;Y!==null;){var t=Y;if(t===e){Y=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Y=n;break}Y=t.return}}function CE(e){for(;Y!==null;){var t=Y;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{cf(4,t)}catch(l){Ye(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Ye(t,i,l)}}var s=t.return;try{Ng(t)}catch(l){Ye(t,s,l)}break;case 5:var o=t.return;try{Ng(t)}catch(l){Ye(t,o,l)}}}catch(l){Ye(t,t.return,l)}if(t===e){Y=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Y=a;break}Y=t.return}}var sM=Math.ceil,ih=Kr.ReactCurrentDispatcher,xy=Kr.ReactCurrentOwner,Sn=Kr.ReactCurrentBatchConfig,ve=0,ct=null,tt=null,Et=0,on=0,wo=Hi(0),st=0,Gl=null,Ps=0,df=0,Ny=0,El=null,Gt=null,My=0,Wo=1/0,Er=null,sh=!1,Lg=null,Ri=null,Bc=!1,gi=null,oh=0,Sl=0,Fg=null,gd=-1,vd=0;function Bt(){return ve&6?Xe():gd!==-1?gd:gd=Xe()}function Pi(e){return e.mode&1?ve&2&&Et!==0?Et&-Et:BN.transition!==null?(vd===0&&(vd=BI()),vd):(e=Ie,e!==0||(e=window.event,e=e===void 0?16:KI(e.type)),e):1}function Vn(e,t,n,r){if(50<Sl)throw Sl=0,Fg=null,Error(M(185));xu(e,n,r),(!(ve&2)||e!==ct)&&(e===ct&&(!(ve&2)&&(df|=n),st===4&&ci(e,Et)),Zt(e,r),n===1&&ve===0&&!(t.mode&1)&&(Wo=Xe()+500,af&&Yi()))}function Zt(e,t){var n=e.callbackNode;Bx(e,t);var r=zd(e,e===ct?Et:0);if(r===0)n!==null&&L0(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&L0(n),t===1)e.tag===0?UN(kE.bind(null,e)):pA(kE.bind(null,e)),LN(function(){!(ve&6)&&Yi()}),n=null;else{switch(zI(r)){case 1:n=ay;break;case 4:n=jI;break;case 16:n=Bd;break;case 536870912:n=UI;break;default:n=Bd}n=fR(n,oR.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oR(e,t){if(gd=-1,vd=0,ve&6)throw Error(M(327));var n=e.callbackNode;if(ko()&&e.callbackNode!==n)return null;var r=zd(e,e===ct?Et:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ah(e,r);else{t=r;var i=ve;ve|=2;var s=lR();(ct!==e||Et!==t)&&(Er=null,Wo=Xe()+500,vs(e,t));do try{lM();break}catch(a){aR(e,a)}while(!0);wy(),ih.current=s,ve=i,tt!==null?t=0:(ct=null,Et=0,t=st)}if(t!==0){if(t===2&&(i=dg(e),i!==0&&(r=i,t=Vg(e,i))),t===1)throw n=Gl,vs(e,0),ci(e,r),Zt(e,Xe()),n;if(t===6)ci(e,r);else{if(i=e.current.alternate,!(r&30)&&!oM(i)&&(t=ah(e,r),t===2&&(s=dg(e),s!==0&&(r=s,t=Vg(e,s))),t===1))throw n=Gl,vs(e,0),ci(e,r),Zt(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(M(345));case 2:os(e,Gt,Er);break;case 3:if(ci(e,r),(r&130023424)===r&&(t=My+500-Xe(),10<t)){if(zd(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Bt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=_g(os.bind(null,e,Gt,Er),t);break}os(e,Gt,Er);break;case 4:if(ci(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Fn(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*sM(r/1960))-r,10<r){e.timeoutHandle=_g(os.bind(null,e,Gt,Er),r);break}os(e,Gt,Er);break;case 5:os(e,Gt,Er);break;default:throw Error(M(329))}}}return Zt(e,Xe()),e.callbackNode===n?oR.bind(null,e):null}function Vg(e,t){var n=El;return e.current.memoizedState.isDehydrated&&(vs(e,t).flags|=256),e=ah(e,t),e!==2&&(t=Gt,Gt=n,t!==null&&jg(t)),e}function jg(e){Gt===null?Gt=e:Gt.push.apply(Gt,e)}function oM(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!jn(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ci(e,t){for(t&=~Ny,t&=~df,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Fn(t),r=1<<n;e[n]=-1,t&=~r}}function kE(e){if(ve&6)throw Error(M(327));ko();var t=zd(e,0);if(!(t&1))return Zt(e,Xe()),null;var n=ah(e,t);if(e.tag!==0&&n===2){var r=dg(e);r!==0&&(t=r,n=Vg(e,r))}if(n===1)throw n=Gl,vs(e,0),ci(e,t),Zt(e,Xe()),n;if(n===6)throw Error(M(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,os(e,Gt,Er),Zt(e,Xe()),null}function $y(e,t){var n=ve;ve|=1;try{return e(t)}finally{ve=n,ve===0&&(Wo=Xe()+500,af&&Yi())}}function Cs(e){gi!==null&&gi.tag===0&&!(ve&6)&&ko();var t=ve;ve|=1;var n=Sn.transition,r=Ie;try{if(Sn.transition=null,Ie=1,e)return e()}finally{Ie=r,Sn.transition=n,ve=t,!(ve&6)&&Yi()}}function Ly(){on=wo.current,Me(wo)}function vs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,$N(n)),tt!==null)for(n=tt.return;n!==null;){var r=n;switch(vy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Gd();break;case 3:Bo(),Me(Xt),Me($t),Ry();break;case 5:Ay(r);break;case 4:Bo();break;case 13:Me(Be);break;case 19:Me(Be);break;case 10:Ey(r.type._context);break;case 22:case 23:Ly()}n=n.return}if(ct=e,tt=e=Ci(e.current,null),Et=on=t,st=0,Gl=null,Ny=df=Ps=0,Gt=El=null,ds!==null){for(t=0;t<ds.length;t++)if(n=ds[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ds=null}return e}function aR(e,t){do{var n=tt;try{if(wy(),fd.current=rh,nh){for(var r=ze.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}nh=!1}if(Rs=0,ut=it=ze=null,_l=!1,Hl=0,xy.current=null,n===null||n.return===null){st=1,Gl=t,tt=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=Et,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=gE(o);if(f!==null){f.flags&=-257,vE(f,o,a,s,t),f.mode&1&&mE(s,u,t),t=f,l=u;var v=t.updateQueue;if(v===null){var p=new Set;p.add(l),t.updateQueue=p}else v.add(l);break e}else{if(!(t&1)){mE(s,u,t),Fy();break e}l=Error(M(426))}}else if(Ue&&a.mode&1){var y=gE(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),vE(y,o,a,s,t),yy(zo(l,a));break e}}s=l=zo(l,a),st!==4&&(st=2),El===null?El=[s]:El.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=WA(s,l,t);lE(s,m);break e;case 1:a=l;var g=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ri===null||!Ri.has(_)))){s.flags|=65536,t&=-t,s.lanes|=t;var E=HA(s,a,t);lE(s,E);break e}}s=s.return}while(s!==null)}cR(n)}catch(S){t=S,tt===n&&n!==null&&(tt=n=n.return);continue}break}while(!0)}function lR(){var e=ih.current;return ih.current=rh,e===null?rh:e}function Fy(){(st===0||st===3||st===2)&&(st=4),ct===null||!(Ps&268435455)&&!(df&268435455)||ci(ct,Et)}function ah(e,t){var n=ve;ve|=2;var r=lR();(ct!==e||Et!==t)&&(Er=null,vs(e,t));do try{aM();break}catch(i){aR(e,i)}while(!0);if(wy(),ve=n,ih.current=r,tt!==null)throw Error(M(261));return ct=null,Et=0,st}function aM(){for(;tt!==null;)uR(tt)}function lM(){for(;tt!==null&&!xx();)uR(tt)}function uR(e){var t=hR(e.alternate,e,on);e.memoizedProps=e.pendingProps,t===null?cR(e):tt=t,xy.current=null}function cR(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=tM(n,t),n!==null){n.flags&=32767,tt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{st=6,tt=null;return}}else if(n=eM(n,t,on),n!==null){tt=n;return}if(t=t.sibling,t!==null){tt=t;return}tt=t=e}while(t!==null);st===0&&(st=5)}function os(e,t,n){var r=Ie,i=Sn.transition;try{Sn.transition=null,Ie=1,uM(e,t,n,r)}finally{Sn.transition=i,Ie=r}return null}function uM(e,t,n,r){do ko();while(gi!==null);if(ve&6)throw Error(M(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(M(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(zx(e,s),e===ct&&(tt=ct=null,Et=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bc||(Bc=!0,fR(Bd,function(){return ko(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Sn.transition,Sn.transition=null;var o=Ie;Ie=1;var a=ve;ve|=4,xy.current=null,rM(e,n),iR(n,e),kN(vg),Wd=!!gg,vg=gg=null,e.current=n,iM(n),Nx(),ve=a,Ie=o,Sn.transition=s}else e.current=n;if(Bc&&(Bc=!1,gi=e,oh=i),s=e.pendingLanes,s===0&&(Ri=null),Lx(n.stateNode),Zt(e,Xe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(sh)throw sh=!1,e=Lg,Lg=null,e;return oh&1&&e.tag!==0&&ko(),s=e.pendingLanes,s&1?e===Fg?Sl++:(Sl=0,Fg=e):Sl=0,Yi(),null}function ko(){if(gi!==null){var e=zI(oh),t=Sn.transition,n=Ie;try{if(Sn.transition=null,Ie=16>e?16:e,gi===null)var r=!1;else{if(e=gi,gi=null,oh=0,ve&6)throw Error(M(331));var i=ve;for(ve|=4,Y=e.current;Y!==null;){var s=Y,o=s.child;if(Y.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Y=u;Y!==null;){var c=Y;switch(c.tag){case 0:case 11:case 15:wl(8,c,s)}var d=c.child;if(d!==null)d.return=c,Y=d;else for(;Y!==null;){c=Y;var h=c.sibling,f=c.return;if(tR(c),c===u){Y=null;break}if(h!==null){h.return=f,Y=h;break}Y=f}}}var v=s.alternate;if(v!==null){var p=v.child;if(p!==null){v.child=null;do{var y=p.sibling;p.sibling=null,p=y}while(p!==null)}}Y=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Y=o;else e:for(;Y!==null;){if(s=Y,s.flags&2048)switch(s.tag){case 0:case 11:case 15:wl(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,Y=m;break e}Y=s.return}}var g=e.current;for(Y=g;Y!==null;){o=Y;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,Y=_;else e:for(o=g;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:cf(9,a)}}catch(S){Ye(a,a.return,S)}if(a===o){Y=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,Y=E;break e}Y=a.return}}if(ve=i,Yi(),rr&&typeof rr.onPostCommitFiberRoot=="function")try{rr.onPostCommitFiberRoot(tf,e)}catch{}r=!0}return r}finally{Ie=n,Sn.transition=t}}return!1}function DE(e,t,n){t=zo(n,t),t=WA(e,t,1),e=Ai(e,t,1),t=Bt(),e!==null&&(xu(e,1,t),Zt(e,t))}function Ye(e,t,n){if(e.tag===3)DE(e,e,n);else for(;t!==null;){if(t.tag===3){DE(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ri===null||!Ri.has(r))){e=zo(n,e),e=HA(t,e,1),t=Ai(t,e,1),e=Bt(),t!==null&&(xu(t,1,e),Zt(t,e));break}}t=t.return}}function cM(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Bt(),e.pingedLanes|=e.suspendedLanes&n,ct===e&&(Et&n)===n&&(st===4||st===3&&(Et&130023424)===Et&&500>Xe()-My?vs(e,0):Ny|=n),Zt(e,t)}function dR(e,t){t===0&&(e.mode&1?(t=Oc,Oc<<=1,!(Oc&130023424)&&(Oc=4194304)):t=1);var n=Bt();e=jr(e,t),e!==null&&(xu(e,t,n),Zt(e,n))}function dM(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),dR(e,n)}function hM(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(M(314))}r!==null&&r.delete(t),dR(e,n)}var hR;hR=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xt.current)Qt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Qt=!1,ZN(e,t,n);Qt=!!(e.flags&131072)}else Qt=!1,Ue&&t.flags&1048576&&mA(t,Xd,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;md(e,t),e=t.pendingProps;var i=Vo(t,$t.current);Co(t,n),i=Cy(null,t,r,e,i,n);var s=ky();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Jt(r)?(s=!0,Kd(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ty(t),i.updater=lf,t.stateNode=i,i._reactInternals=t,Rg(t,r,e,n),t=kg(null,t,r,!0,s,n)):(t.tag=0,Ue&&s&&gy(t),Vt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(md(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=pM(r),e=xn(r,e),i){case 0:t=Cg(null,t,r,e,n);break e;case 1:t=wE(null,t,r,e,n);break e;case 11:t=yE(null,t,r,e,n);break e;case 14:t=_E(null,t,r,xn(r.type,e),n);break e}throw Error(M(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xn(r,i),Cg(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xn(r,i),wE(e,t,r,i,n);case 3:e:{if(KA(t),e===null)throw Error(M(387));r=t.pendingProps,s=t.memoizedState,i=s.element,_A(e,t),eh(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=zo(Error(M(423)),t),t=EE(e,t,r,n,i);break e}else if(r!==i){i=zo(Error(M(424)),t),t=EE(e,t,r,n,i);break e}else for(an=Ii(t.stateNode.containerInfo.firstChild),un=t,Ue=!0,Mn=null,n=TA(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(jo(),r===i){t=Ur(e,t,n);break e}Vt(e,t,r,n)}t=t.child}return t;case 5:return IA(t),e===null&&Tg(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,yg(r,i)?o=null:s!==null&&yg(r,s)&&(t.flags|=32),GA(e,t),Vt(e,t,o,n),t.child;case 6:return e===null&&Tg(t),null;case 13:return QA(e,t,n);case 4:return Iy(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Uo(t,null,r,n):Vt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xn(r,i),yE(e,t,r,i,n);case 7:return Vt(e,t,t.pendingProps,n),t.child;case 8:return Vt(e,t,t.pendingProps.children,n),t.child;case 12:return Vt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,De(Jd,r._currentValue),r._currentValue=o,s!==null)if(jn(s.value,o)){if(s.children===i.children&&!Xt.current){t=Ur(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=xr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Ig(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(M(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ig(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Vt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Co(t,n),i=In(i),r=r(i),t.flags|=1,Vt(e,t,r,n),t.child;case 14:return r=t.type,i=xn(r,t.pendingProps),i=xn(r.type,i),_E(e,t,r,i,n);case 15:return YA(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xn(r,i),md(e,t),t.tag=1,Jt(r)?(e=!0,Kd(t)):e=!1,Co(t,n),EA(t,r,i),Rg(t,r,i,n),kg(null,t,r,!0,e,n);case 19:return XA(e,t,n);case 22:return qA(e,t,n)}throw Error(M(156,t.tag))};function fR(e,t){return VI(e,t)}function fM(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(e,t,n,r){return new fM(e,t,n,r)}function Vy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pM(e){if(typeof e=="function")return Vy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===iy)return 11;if(e===sy)return 14}return 2}function Ci(e,t){var n=e.alternate;return n===null?(n=En(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function yd(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")Vy(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case uo:return ys(n.children,i,s,t);case ry:o=8,i|=8;break;case Qm:return e=En(12,n,t,i|2),e.elementType=Qm,e.lanes=s,e;case Xm:return e=En(13,n,t,i),e.elementType=Xm,e.lanes=s,e;case Jm:return e=En(19,n,t,i),e.elementType=Jm,e.lanes=s,e;case SI:return hf(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case wI:o=10;break e;case EI:o=9;break e;case iy:o=11;break e;case sy:o=14;break e;case ai:o=16,r=null;break e}throw Error(M(130,e==null?e:typeof e,""))}return t=En(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function ys(e,t,n,r){return e=En(7,e,r,t),e.lanes=n,e}function hf(e,t,n,r){return e=En(22,e,r,t),e.elementType=SI,e.lanes=n,e.stateNode={isHidden:!1},e}function am(e,t,n){return e=En(6,e,null,t),e.lanes=n,e}function lm(e,t,n){return t=En(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function mM(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bp(0),this.expirationTimes=Bp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jy(e,t,n,r,i,s,o,a,l){return e=new mM(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=En(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ty(s),e}function gM(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lo,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function pR(e){if(!e)return Li;e=e._reactInternals;e:{if(Ws(e)!==e||e.tag!==1)throw Error(M(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Jt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(M(171))}if(e.tag===1){var n=e.type;if(Jt(n))return fA(e,n,t)}return t}function mR(e,t,n,r,i,s,o,a,l){return e=jy(n,r,!0,e,i,s,o,a,l),e.context=pR(null),n=e.current,r=Bt(),i=Pi(n),s=xr(r,i),s.callback=t??null,Ai(n,s,i),e.current.lanes=i,xu(e,i,r),Zt(e,r),e}function ff(e,t,n,r){var i=t.current,s=Bt(),o=Pi(i);return n=pR(n),t.context===null?t.context=n:t.pendingContext=n,t=xr(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ai(i,t,o),e!==null&&(Vn(e,i,o,s),hd(e,i,o)),o}function lh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function bE(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Uy(e,t){bE(e,t),(e=e.alternate)&&bE(e,t)}function vM(){return null}var gR=typeof reportError=="function"?reportError:function(e){console.error(e)};function By(e){this._internalRoot=e}pf.prototype.render=By.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(M(409));ff(e,t,null,null)};pf.prototype.unmount=By.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cs(function(){ff(null,e,null,null)}),t[Vr]=null}};function pf(e){this._internalRoot=e}pf.prototype.unstable_scheduleHydration=function(e){if(e){var t=YI();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ui.length&&t!==0&&t<ui[n].priority;n++);ui.splice(n,0,e),n===0&&GI(e)}};function zy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function mf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function OE(){}function yM(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=lh(o);s.call(u)}}var o=mR(t,r,e,0,null,!1,!1,"",OE);return e._reactRootContainer=o,e[Vr]=o.current,jl(e.nodeType===8?e.parentNode:e),Cs(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=lh(l);a.call(u)}}var l=jy(e,0,!1,null,null,!1,!1,"",OE);return e._reactRootContainer=l,e[Vr]=l.current,jl(e.nodeType===8?e.parentNode:e),Cs(function(){ff(t,l,n,r)}),l}function gf(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=lh(o);a.call(l)}}ff(t,o,e,i)}else o=yM(n,t,e,i,r);return lh(o)}WI=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=rl(t.pendingLanes);n!==0&&(ly(t,n|1),Zt(t,Xe()),!(ve&6)&&(Wo=Xe()+500,Yi()))}break;case 13:Cs(function(){var r=jr(e,1);if(r!==null){var i=Bt();Vn(r,e,1,i)}}),Uy(e,1)}};uy=function(e){if(e.tag===13){var t=jr(e,134217728);if(t!==null){var n=Bt();Vn(t,e,134217728,n)}Uy(e,134217728)}};HI=function(e){if(e.tag===13){var t=Pi(e),n=jr(e,t);if(n!==null){var r=Bt();Vn(n,e,t,r)}Uy(e,t)}};YI=function(){return Ie};qI=function(e,t){var n=Ie;try{return Ie=e,t()}finally{Ie=n}};lg=function(e,t,n){switch(t){case"input":if(tg(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=of(r);if(!i)throw Error(M(90));II(r),tg(r,i)}}}break;case"textarea":RI(e,n);break;case"select":t=n.value,t!=null&&Io(e,!!n.multiple,t,!1)}};xI=$y;NI=Cs;var _M={usingClientEntryPoint:!1,Events:[Mu,po,of,bI,OI,$y]},Ha={findFiberByHostInstance:cs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},wM={bundleType:Ha.bundleType,version:Ha.version,rendererPackageName:Ha.rendererPackageName,rendererConfig:Ha.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=LI(e),e===null?null:e.stateNode},findFiberByHostInstance:Ha.findFiberByHostInstance||vM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zc.isDisabled&&zc.supportsFiber)try{tf=zc.inject(wM),rr=zc}catch{}}fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_M;fn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zy(t))throw Error(M(200));return gM(e,t,null,n)};fn.createRoot=function(e,t){if(!zy(e))throw Error(M(299));var n=!1,r="",i=gR;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=jy(e,1,!1,null,null,n,!1,r,i),e[Vr]=t.current,jl(e.nodeType===8?e.parentNode:e),new By(t)};fn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(M(188)):(e=Object.keys(e).join(","),Error(M(268,e)));return e=LI(t),e=e===null?null:e.stateNode,e};fn.flushSync=function(e){return Cs(e)};fn.hydrate=function(e,t,n){if(!mf(t))throw Error(M(200));return gf(null,e,t,!0,n)};fn.hydrateRoot=function(e,t,n){if(!zy(e))throw Error(M(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=gR;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=mR(t,null,e,1,n??null,i,!1,s,o),e[Vr]=t.current,jl(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new pf(t)};fn.render=function(e,t,n){if(!mf(t))throw Error(M(200));return gf(null,e,t,!1,n)};fn.unmountComponentAtNode=function(e){if(!mf(e))throw Error(M(40));return e._reactRootContainer?(Cs(function(){gf(null,null,e,!1,function(){e._reactRootContainer=null,e[Vr]=null})}),!0):!1};fn.unstable_batchedUpdates=$y;fn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!mf(n))throw Error(M(200));if(e==null||e._reactInternals===void 0)throw Error(M(38));return gf(e,t,n,!1,r)};fn.version="18.2.0-next-9e3b772b8-20220608";function vR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vR)}catch(e){console.error(e)}}vR(),mI.exports=fn;var yR=mI.exports;const _R=sn(yR);var xE=yR;Gm.createRoot=xE.createRoot,Gm.hydrateRoot=xE.hydrateRoot;let Wc;const EM=new Uint8Array(16);function SM(){if(!Wc&&(Wc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Wc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Wc(EM)}const gt=[];for(let e=0;e<256;++e)gt.push((e+256).toString(16).slice(1));function TM(e,t=0){return gt[e[t+0]]+gt[e[t+1]]+gt[e[t+2]]+gt[e[t+3]]+"-"+gt[e[t+4]]+gt[e[t+5]]+"-"+gt[e[t+6]]+gt[e[t+7]]+"-"+gt[e[t+8]]+gt[e[t+9]]+"-"+gt[e[t+10]]+gt[e[t+11]]+gt[e[t+12]]+gt[e[t+13]]+gt[e[t+14]]+gt[e[t+15]]}const IM=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),NE={randomUUID:IM};function ME(e,t,n){if(NE.randomUUID&&!t&&!e)return NE.randomUUID();e=e||{};const r=e.random||(e.rng||SM)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return TM(r)}/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kl(){return Kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kl.apply(this,arguments)}var vi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(vi||(vi={}));const $E="popstate";function AM(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return Ug("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:uh(i)}return PM(t,n,null,e)}function rt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function wR(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function RM(){return Math.random().toString(36).substr(2,8)}function LE(e,t){return{usr:e.state,key:e.key,idx:t}}function Ug(e,t,n,r){return n===void 0&&(n=null),Kl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ha(t):t,{state:n,key:t&&t.key||r||RM()})}function uh(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ha(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function PM(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=vi.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Kl({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=vi.Pop;let y=c(),m=y==null?null:y-u;u=y,l&&l({action:a,location:p.location,delta:m})}function h(y,m){a=vi.Push;let g=Ug(p.location,y,m);n&&n(g,y),u=c()+1;let _=LE(g,u),E=p.createHref(g);try{o.pushState(_,"",E)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(E)}s&&l&&l({action:a,location:p.location,delta:1})}function f(y,m){a=vi.Replace;let g=Ug(p.location,y,m);n&&n(g,y),u=c();let _=LE(g,u),E=p.createHref(g);o.replaceState(_,"",E),s&&l&&l({action:a,location:p.location,delta:0})}function v(y){let m=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof y=="string"?y:uh(y);return g=g.replace(/ $/,"%20"),rt(m,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,m)}let p={get action(){return a},get location(){return e(i,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener($E,d),l=y,()=>{i.removeEventListener($E,d),l=null}},createHref(y){return t(i,y)},createURL:v,encodeLocation(y){let m=v(y);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:f,go(y){return o.go(y)}};return p}var FE;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(FE||(FE={}));function CM(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?ha(t):t,i=Wy(r.pathname||"/",n);if(i==null)return null;let s=ER(e);kM(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let l=UM(i);o=FM(s[a],l)}return o}function ER(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(rt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=ki([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(rt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),ER(s.children,t,c,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:$M(u,s.index),routesMeta:c})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of SR(s.path))i(s,o,l)}),t}function SR(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=SR(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function kM(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:LM(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const DM=/^:[\w-]+$/,bM=3,OM=2,xM=1,NM=10,MM=-2,VE=e=>e==="*";function $M(e,t){let n=e.split("/"),r=n.length;return n.some(VE)&&(r+=MM),t&&(r+=OM),n.filter(i=>!VE(i)).reduce((i,s)=>i+(DM.test(s)?bM:s===""?xM:NM),r)}function LM(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function FM(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",c=VM({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:ki([i,c.pathname]),pathnameBase:HM(ki([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=ki([i,c.pathnameBase]))}return s}function VM(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=jM(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:h,isOptional:f}=c;if(h==="*"){let p=a[d]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const v=a[d];return f&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function jM(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),wR(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function UM(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return wR(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Wy(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function BM(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?ha(e):e;return{pathname:n?n.startsWith("/")?n:zM(n,t):t,search:YM(r),hash:qM(i)}}function zM(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function um(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function WM(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function TR(e,t){let n=WM(e);return t?n.map((r,i)=>i===e.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function IR(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=ha(e):(i=Kl({},e),rt(!i.pathname||!i.pathname.includes("?"),um("?","pathname","search",i)),rt(!i.pathname||!i.pathname.includes("#"),um("#","pathname","hash",i)),rt(!i.search||!i.search.includes("#"),um("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?t[d]:"/"}let l=BM(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const ki=e=>e.join("/").replace(/\/\/+/g,"/"),HM=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),YM=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,qM=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function GM(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const AR=["post","put","patch","delete"];new Set(AR);const KM=["get",...AR];new Set(KM);/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ql(){return Ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ql.apply(this,arguments)}const Hy=R.createContext(null),QM=R.createContext(null),Hs=R.createContext(null),vf=R.createContext(null),Ys=R.createContext({outlet:null,matches:[],isDataRoute:!1}),RR=R.createContext(null);function XM(e,t){let{relative:n}=t===void 0?{}:t;Lu()||rt(!1);let{basename:r,navigator:i}=R.useContext(Hs),{hash:s,pathname:o,search:a}=CR(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ki([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Lu(){return R.useContext(vf)!=null}function Fu(){return Lu()||rt(!1),R.useContext(vf).location}function PR(e){R.useContext(Hs).static||R.useLayoutEffect(e)}function fa(){let{isDataRoute:e}=R.useContext(Ys);return e?c$():JM()}function JM(){Lu()||rt(!1);let e=R.useContext(Hy),{basename:t,future:n,navigator:r}=R.useContext(Hs),{matches:i}=R.useContext(Ys),{pathname:s}=Fu(),o=JSON.stringify(TR(i,n.v7_relativeSplatPath)),a=R.useRef(!1);return PR(()=>{a.current=!0}),R.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=IR(u,JSON.parse(o),s,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:ki([t,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[t,r,o,s,e])}function CR(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=R.useContext(Hs),{matches:i}=R.useContext(Ys),{pathname:s}=Fu(),o=JSON.stringify(TR(i,r.v7_relativeSplatPath));return R.useMemo(()=>IR(e,JSON.parse(o),s,n==="path"),[e,o,s,n])}function ZM(e,t){return e$(e,t)}function e$(e,t,n,r){Lu()||rt(!1);let{navigator:i}=R.useContext(Hs),{matches:s}=R.useContext(Ys),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Fu(),c;if(t){var d;let y=typeof t=="string"?ha(t):t;l==="/"||(d=y.pathname)!=null&&d.startsWith(l)||rt(!1),c=y}else c=u;let h=c.pathname||"/",f=h;if(l!=="/"){let y=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let v=CM(e,{pathname:f}),p=s$(v&&v.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:ki([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:ki([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,n,r);return t&&p?R.createElement(vf.Provider,{value:{location:Ql({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:vi.Pop}},p):p}function t$(){let e=u$(),t=GM(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},t),n?R.createElement("pre",{style:i},n):null,null)}const n$=R.createElement(t$,null);class r$ extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?R.createElement(Ys.Provider,{value:this.props.routeContext},R.createElement(RR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function i$(e){let{routeContext:t,match:n,children:r}=e,i=R.useContext(Hy);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(Ys.Provider,{value:t},r)}function s$(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if((s=n)!=null&&s.errors)e=n.matches;else return null}let o=e,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id]));c>=0||rt(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:f}=n,v=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||v){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,h)=>{let f,v=!1,p=null,y=null;n&&(f=a&&d.route.id?a[d.route.id]:void 0,p=d.route.errorElement||n$,l&&(u<0&&h===0?(d$("route-fallback",!1),v=!0,y=null):u===h&&(v=!0,y=d.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,h+1)),g=()=>{let _;return f?_=p:v?_=y:d.route.Component?_=R.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=c,R.createElement(i$,{match:d,routeContext:{outlet:c,matches:m,isDataRoute:n!=null},children:_})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?R.createElement(r$,{location:n.location,revalidation:n.revalidation,component:p,error:f,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var kR=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(kR||{}),ch=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ch||{});function o$(e){let t=R.useContext(Hy);return t||rt(!1),t}function a$(e){let t=R.useContext(QM);return t||rt(!1),t}function l$(e){let t=R.useContext(Ys);return t||rt(!1),t}function DR(e){let t=l$(),n=t.matches[t.matches.length-1];return n.route.id||rt(!1),n.route.id}function u$(){var e;let t=R.useContext(RR),n=a$(ch.UseRouteError),r=DR(ch.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function c$(){let{router:e}=o$(kR.UseNavigateStable),t=DR(ch.UseNavigateStable),n=R.useRef(!1);return PR(()=>{n.current=!0}),R.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Ql({fromRouteId:t},s)))},[e,t])}const jE={};function d$(e,t,n){!t&&!jE[e]&&(jE[e]=!0)}function gn(e){rt(!1)}function h$(e){let{basename:t="/",children:n=null,location:r,navigationType:i=vi.Pop,navigator:s,static:o=!1,future:a}=e;Lu()&&rt(!1);let l=t.replace(/^\/*/,"/"),u=R.useMemo(()=>({basename:l,navigator:s,static:o,future:Ql({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=ha(r));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:v="default"}=r,p=R.useMemo(()=>{let y=Wy(c,l);return y==null?null:{location:{pathname:y,search:d,hash:h,state:f,key:v},navigationType:i}},[l,c,d,h,f,v,i]);return p==null?null:R.createElement(Hs.Provider,{value:u},R.createElement(vf.Provider,{children:n,value:p}))}function f$(e){let{children:t,location:n}=e;return ZM(Bg(t),n)}new Promise(()=>{});function Bg(e,t){t===void 0&&(t=[]);let n=[];return R.Children.forEach(e,(r,i)=>{if(!R.isValidElement(r))return;let s=[...t,i];if(r.type===R.Fragment){n.push.apply(n,Bg(r.props.children,s));return}r.type!==gn&&rt(!1),!r.props.index||!r.props.children||rt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Bg(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zg(){return zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zg.apply(this,arguments)}function p$(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function m$(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function g$(e,t){return e.button===0&&(!t||t==="_self")&&!m$(e)}const v$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],y$="6";try{window.__reactRouterVersion=y$}catch{}const _$="startTransition",UE=dx[_$];function w$(e){let{basename:t,children:n,future:r,window:i}=e,s=R.useRef();s.current==null&&(s.current=AM({window:i,v5Compat:!0}));let o=s.current,[a,l]=R.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=R.useCallback(d=>{u&&UE?UE(()=>l(d)):l(d)},[l,u]);return R.useLayoutEffect(()=>o.listen(c),[o,c]),R.createElement(h$,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const E$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",S$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_r=R.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:d}=t,h=p$(t,v$),{basename:f}=R.useContext(Hs),v,p=!1;if(typeof u=="string"&&S$.test(u)&&(v=u,E$))try{let _=new URL(window.location.href),E=u.startsWith("//")?new URL(_.protocol+u):new URL(u),S=Wy(E.pathname,f);E.origin===_.origin&&S!=null?u=S+E.search+E.hash:p=!0}catch{}let y=XM(u,{relative:i}),m=T$(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:d});function g(_){r&&r(_),_.defaultPrevented||m(_)}return R.createElement("a",zg({},h,{href:v||y,onClick:p||s?r:g,ref:n,target:l}))});var BE;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(BE||(BE={}));var zE;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(zE||(zE={}));function T$(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=t===void 0?{}:t,l=fa(),u=Fu(),c=CR(e,{relative:o});return R.useCallback(d=>{if(g$(d,n)){d.preventDefault();let h=r!==void 0?r:uh(u)===uh(c);l(e,{replace:h,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,c,r,i,n,e,s,o,a])}const qi=()=>{const[e,t]=R.useState(!1),n=()=>{t(!e)},r=()=>{t(!1)},i=()=>{localStorage.clear(),r()};return R.useEffect(()=>{const s=o=>{document.querySelector(".burger-menu").contains(o.target)||r()};return e&&document.addEventListener("click",s),()=>{document.removeEventListener("click",s)}},[e]),w.jsxs("div",{className:"burger-menu",children:[w.jsxs("div",{className:"burger-icon",onClick:n,children:[w.jsx("div",{className:`burger-line ${e?"open":""}`}),w.jsx("div",{className:`burger-line ${e?"open":""}`}),w.jsx("div",{className:`burger-line ${e?"open":""}`})]}),w.jsx("div",{className:`menu ${e?"open":""}`,children:w.jsxs("ul",{className:"burger-menu-options",children:[w.jsx("li",{children:w.jsx(_r,{to:"/home",onClick:r,children:"Home"})}),w.jsx("li",{children:w.jsx(_r,{to:"/plant-details",onClick:r,children:"Search"})}),w.jsx("li",{children:w.jsx(_r,{to:"/weather",onClick:r,children:"Weather"})}),w.jsx("li",{children:w.jsx(_r,{to:"/calendar",onClick:r,children:"Calendar"})}),w.jsx("li",{children:w.jsx(_r,{to:"/discussion-board",onClick:r,children:"Discussion Board"})}),w.jsx("li",{children:w.jsx(_r,{to:"/reminders",onClick:r,children:"Reminders"})}),w.jsx("li",{children:w.jsx(_r,{to:"/optimal-plants",onClick:r,children:"Optimal Plants"})}),w.jsx("li",{children:w.jsx(_r,{to:"/about-us",onClick:r,children:"About Us"})}),w.jsx("li",{children:w.jsx(_r,{to:"/",onClick:i,children:"Logout"})})]})})]})};var WE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},I$=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},OR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(h=64)),r.push(n[c],n[d],n[h],n[f])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(bR(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):I$(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new A$;const h=s<<2|a>>4;if(r.push(h),u!==64){const f=a<<4&240|u>>2;if(r.push(f),d!==64){const v=u<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class A$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const R$=function(e){const t=bR(e);return OR.encodeByteArray(t,!0)},dh=function(e){return R$(e).replace(/\./g,"")},xR=function(e){try{return OR.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C$=()=>P$().__FIREBASE_DEFAULTS__,k$=()=>{if(typeof process>"u"||typeof WE>"u")return;const e=WE.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},D$=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&xR(e[1]);return t&&JSON.parse(t)},Yy=()=>{try{return C$()||k$()||D$()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},NR=e=>{var t,n;return(n=(t=Yy())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},b$=e=>{const t=NR(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},MR=()=>{var e;return(e=Yy())===null||e===void 0?void 0:e.config},$R=e=>{var t;return(t=Yy())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x$(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[dh(JSON.stringify(n)),dh(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function N$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lt())}function M$(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function $$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function L$(){const e=Lt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function F$(){try{return typeof indexedDB=="object"}catch{return!1}}function V$(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j$="FirebaseError";class Qr extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=j$,Object.setPrototypeOf(this,Qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vu.prototype.create)}}class Vu{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?U$(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Qr(i,a,r)}}function U$(e,t){return e.replace(B$,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const B$=/\{\$([^}]+)}/g;function z$(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function hh(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(HE(s)&&HE(o)){if(!hh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function HE(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function sl(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(s)}}),t}function ol(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function W$(e,t){const n=new H$(e,t);return n.subscribe.bind(n)}class H${constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Y$(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=cm),i.error===void 0&&(i.error=cm),i.complete===void 0&&(i.complete=cm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Y$(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function cm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(e){return e&&e._delegate?e._delegate:e}class ks{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q${constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new O$;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(K$(t))try{this.getOrInitializeService({instanceIdentifier:as})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=as){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=as){return this.instances.has(t)}getOptions(t=as){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:G$(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=as){return this.component?this.component.multipleInstances?t:as:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function G$(e){return e===as?void 0:e}function K$(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q${constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new q$(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var he;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(he||(he={}));const X$={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},J$=he.INFO,Z$={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},eL=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=Z$[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class qy{constructor(t){this.name=t,this._logLevel=J$,this._logHandler=eL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in he))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?X$[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...t),this._logHandler(this,he.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...t),this._logHandler(this,he.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,he.INFO,...t),this._logHandler(this,he.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,he.WARN,...t),this._logHandler(this,he.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...t),this._logHandler(this,he.ERROR,...t)}}const tL=(e,t)=>t.some(n=>e instanceof n);let YE,qE;function nL(){return YE||(YE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rL(){return qE||(qE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const LR=new WeakMap,Wg=new WeakMap,FR=new WeakMap,dm=new WeakMap,Gy=new WeakMap;function iL(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Di(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&LR.set(n,e)}).catch(()=>{}),Gy.set(t,e),t}function sL(e){if(Wg.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});Wg.set(e,t)}let Hg={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Wg.get(e);if(t==="objectStoreNames")return e.objectStoreNames||FR.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Di(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function oL(e){Hg=e(Hg)}function aL(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(hm(this),t,...n);return FR.set(r,t.sort?t.sort():[t]),Di(r)}:rL().includes(e)?function(...t){return e.apply(hm(this),t),Di(LR.get(this))}:function(...t){return Di(e.apply(hm(this),t))}}function lL(e){return typeof e=="function"?aL(e):(e instanceof IDBTransaction&&sL(e),tL(e,nL())?new Proxy(e,Hg):e)}function Di(e){if(e instanceof IDBRequest)return iL(e);if(dm.has(e))return dm.get(e);const t=lL(e);return t!==e&&(dm.set(e,t),Gy.set(t,e)),t}const hm=e=>Gy.get(e);function uL(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=Di(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Di(o.result),l.oldVersion,l.newVersion,Di(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const cL=["get","getKey","getAll","getAllKeys","count"],dL=["put","add","delete","clear"],fm=new Map;function GE(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(fm.get(t))return fm.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=dL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||cL.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return fm.set(t,s),s}oL(e=>({...e,get:(t,n,r)=>GE(t,n)||e.get(t,n,r),has:(t,n)=>!!GE(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function fL(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Yg="@firebase/app",KE="0.9.23";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds=new qy("@firebase/app"),pL="@firebase/app-compat",mL="@firebase/analytics-compat",gL="@firebase/analytics",vL="@firebase/app-check-compat",yL="@firebase/app-check",_L="@firebase/auth",wL="@firebase/auth-compat",EL="@firebase/database",SL="@firebase/database-compat",TL="@firebase/functions",IL="@firebase/functions-compat",AL="@firebase/installations",RL="@firebase/installations-compat",PL="@firebase/messaging",CL="@firebase/messaging-compat",kL="@firebase/performance",DL="@firebase/performance-compat",bL="@firebase/remote-config",OL="@firebase/remote-config-compat",xL="@firebase/storage",NL="@firebase/storage-compat",ML="@firebase/firestore",$L="@firebase/firestore-compat",LL="firebase",FL="10.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg="[DEFAULT]",VL={[Yg]:"fire-core",[pL]:"fire-core-compat",[gL]:"fire-analytics",[mL]:"fire-analytics-compat",[yL]:"fire-app-check",[vL]:"fire-app-check-compat",[_L]:"fire-auth",[wL]:"fire-auth-compat",[EL]:"fire-rtdb",[SL]:"fire-rtdb-compat",[TL]:"fire-fn",[IL]:"fire-fn-compat",[AL]:"fire-iid",[RL]:"fire-iid-compat",[PL]:"fire-fcm",[CL]:"fire-fcm-compat",[kL]:"fire-perf",[DL]:"fire-perf-compat",[bL]:"fire-rc",[OL]:"fire-rc-compat",[xL]:"fire-gcs",[NL]:"fire-gcs-compat",[ML]:"fire-fst",[$L]:"fire-fst-compat","fire-js":"fire-js",[LL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh=new Map,Gg=new Map;function jL(e,t){try{e.container.addComponent(t)}catch(n){Ds.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ho(e){const t=e.name;if(Gg.has(t))return Ds.debug(`There were multiple attempts to register component ${t}.`),!1;Gg.set(t,e);for(const n of fh.values())jL(n,e);return!0}function Ky(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},bi=new Vu("app","Firebase",UL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw bi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=FL;function VR(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:qg,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw bi.create("bad-app-name",{appName:String(i)});if(n||(n=MR()),!n)throw bi.create("no-options");const s=fh.get(i);if(s){if(hh(n,s.options)&&hh(r,s.config))return s;throw bi.create("duplicate-app",{appName:i})}const o=new Q$(i);for(const l of Gg.values())o.addComponent(l);const a=new BL(n,r,o);return fh.set(i,a),a}function jR(e=qg){const t=fh.get(e);if(!t&&e===qg&&MR())return VR();if(!t)throw bi.create("no-app",{appName:e});return t}function Oi(e,t,n){var r;let i=(r=VL[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ds.warn(a.join(" "));return}Ho(new ks(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL="firebase-heartbeat-database",WL=1,Xl="firebase-heartbeat-store";let pm=null;function UR(){return pm||(pm=uL(zL,WL,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Xl)}}}).catch(e=>{throw bi.create("idb-open",{originalErrorMessage:e.message})})),pm}async function HL(e){try{return await(await UR()).transaction(Xl).objectStore(Xl).get(BR(e))}catch(t){if(t instanceof Qr)Ds.warn(t.message);else{const n=bi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ds.warn(n.message)}}}async function QE(e,t){try{const r=(await UR()).transaction(Xl,"readwrite");await r.objectStore(Xl).put(t,BR(e)),await r.done}catch(n){if(n instanceof Qr)Ds.warn(n.message);else{const r=bi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ds.warn(r.message)}}}function BR(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL=1024,qL=30*24*60*60*1e3;class GL{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new QL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t;const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=XE();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=qL}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=XE(),{heartbeatsToSend:r,unsentEntries:i}=KL(this._heartbeatsCache.heartbeats),s=dh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function XE(){return new Date().toISOString().substring(0,10)}function KL(e,t=YL){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),JE(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),JE(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class QL{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return F$()?V$().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await HL(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return QE(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return QE(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function JE(e){return dh(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XL(e){Ho(new ks("platform-logger",t=>new hL(t),"PRIVATE")),Ho(new ks("heartbeat",t=>new GL(t),"PRIVATE")),Oi(Yg,KE,e),Oi(Yg,KE,"esm2017"),Oi("fire-js","")}XL("");var JL="firebase",ZL="10.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Oi(JL,ZL,"app");var e2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},B,Qy=Qy||{},re=e2||self;function yf(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Uu(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function t2(e){return Object.prototype.hasOwnProperty.call(e,mm)&&e[mm]||(e[mm]=++n2)}var mm="closure_uid_"+(1e9*Math.random()>>>0),n2=0;function r2(e,t,n){return e.call.apply(e.bind,arguments)}function i2(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function xt(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?xt=r2:xt=i2,xt.apply(null,arguments)}function Hc(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function ft(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[i].apply(r,o)}}function Gi(){this.s=this.s,this.o=this.o}var s2=0;Gi.prototype.s=!1;Gi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),s2!=0)&&t2(this)};Gi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const zR=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Xy(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function ZE(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(yf(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function Nt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Nt.prototype.h=function(){this.defaultPrevented=!0};var o2=function(){if(!re.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{re.addEventListener("test",()=>{},t),re.removeEventListener("test",()=>{},t)}catch{}return e}();function Jl(e){return/^[\s\xa0]*$/.test(e)}function _f(){var e=re.navigator;return e&&(e=e.userAgent)?e:""}function Xn(e){return _f().indexOf(e)!=-1}function Jy(e){return Jy[" "](e),e}Jy[" "]=function(){};function a2(e,t){var n=Z2;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var l2=Xn("Opera"),Yo=Xn("Trident")||Xn("MSIE"),WR=Xn("Edge"),Kg=WR||Yo,HR=Xn("Gecko")&&!(_f().toLowerCase().indexOf("webkit")!=-1&&!Xn("Edge"))&&!(Xn("Trident")||Xn("MSIE"))&&!Xn("Edge"),u2=_f().toLowerCase().indexOf("webkit")!=-1&&!Xn("Edge");function YR(){var e=re.document;return e?e.documentMode:void 0}var Qg;e:{var gm="",vm=function(){var e=_f();if(HR)return/rv:([^\);]+)(\)|;)/.exec(e);if(WR)return/Edge\/([\d\.]+)/.exec(e);if(Yo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(u2)return/WebKit\/(\S+)/.exec(e);if(l2)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(vm&&(gm=vm?vm[1]:""),Yo){var ym=YR();if(ym!=null&&ym>parseFloat(gm)){Qg=String(ym);break e}}Qg=gm}var Xg;if(re.document&&Yo){var eS=YR();Xg=eS||parseInt(Qg,10)||void 0}else Xg=void 0;var c2=Xg;function Zl(e,t){if(Nt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(HR){e:{try{Jy(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:d2[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Zl.$.h.call(this)}}ft(Zl,Nt);var d2={2:"touch",3:"pen",4:"mouse"};Zl.prototype.h=function(){Zl.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Bu="closure_listenable_"+(1e6*Math.random()|0),h2=0;function f2(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++h2,this.fa=this.ia=!1}function wf(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Zy(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function p2(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function qR(e){const t={};for(const n in e)t[n]=e[n];return t}const tS="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function GR(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<tS.length;s++)n=tS[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ef(e){this.src=e,this.g={},this.h=0}Ef.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=Zg(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new f2(t,this.src,s,!!r,i),t.ia=n,e.push(t)),t};function Jg(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=zR(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(wf(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Zg(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}var e_="closure_lm_"+(1e6*Math.random()|0),_m={};function KR(e,t,n,r,i){if(r&&r.once)return XR(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)KR(e,t[s],n,r,i);return null}return n=r_(n),e&&e[Bu]?e.O(t,n,Uu(r)?!!r.capture:!!r,i):QR(e,t,n,!1,r,i)}function QR(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=Uu(i)?!!i.capture:!!i,a=n_(e);if(a||(e[e_]=a=new Ef(e)),n=a.add(t,n,r,o,s),n.proxy)return n;if(r=m2(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)o2||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ZR(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function m2(){function e(n){return t.call(e.src,e.listener,n)}const t=g2;return e}function XR(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)XR(e,t[s],n,r,i);return null}return n=r_(n),e&&e[Bu]?e.P(t,n,Uu(r)?!!r.capture:!!r,i):QR(e,t,n,!0,r,i)}function JR(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)JR(e,t[s],n,r,i);else r=Uu(r)?!!r.capture:!!r,n=r_(n),e&&e[Bu]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=Zg(s,n,r,i),-1<n&&(wf(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=n_(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Zg(t,n,r,i)),(n=-1<e?t[e]:null)&&t_(n))}function t_(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[Bu])Jg(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ZR(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=n_(t))?(Jg(n,e),n.h==0&&(n.src=null,t[e_]=null)):wf(e)}}}function ZR(e){return e in _m?_m[e]:_m[e]="on"+e}function g2(e,t){if(e.fa)e=!0;else{t=new Zl(t,this);var n=e.listener,r=e.la||e.src;e.ia&&t_(e),e=n.call(r,t)}return e}function n_(e){return e=e[e_],e instanceof Ef?e:null}var wm="__closure_events_fn_"+(1e9*Math.random()>>>0);function r_(e){return typeof e=="function"?e:(e[wm]||(e[wm]=function(t){return e.handleEvent(t)}),e[wm])}function ht(){Gi.call(this),this.i=new Ef(this),this.S=this,this.J=null}ft(ht,Gi);ht.prototype[Bu]=!0;ht.prototype.removeEventListener=function(e,t,n,r){JR(this,e,t,n,r)};function St(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new Nt(t,e);else if(t instanceof Nt)t.target=t.target||e;else{var i=t;t=new Nt(r,e),GR(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Yc(o,r,!0,t)&&i}if(o=t.g=e,i=Yc(o,r,!0,t)&&i,i=Yc(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=Yc(o,r,!1,t)&&i}ht.prototype.N=function(){if(ht.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)wf(n[r]);delete e.g[t],e.h--}}this.J=null};ht.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};ht.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Yc(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Jg(e.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var i_=re.JSON.stringify;class v2{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function y2(){var e=s_;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class _2{constructor(){this.h=this.g=null}add(t,n){const r=eP.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var eP=new v2(()=>new w2,e=>e.reset());class w2{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function E2(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function S2(e){re.setTimeout(()=>{throw e},0)}let eu,tu=!1,s_=new _2,tP=()=>{const e=re.Promise.resolve(void 0);eu=()=>{e.then(T2)}};var T2=()=>{for(var e;e=y2();){try{e.h.call(e.g)}catch(n){S2(n)}var t=eP;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}tu=!1};function Sf(e,t){ht.call(this),this.h=e||1,this.g=t||re,this.j=xt(this.qb,this),this.l=Date.now()}ft(Sf,ht);B=Sf.prototype;B.ga=!1;B.T=null;B.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),St(this,"tick"),this.ga&&(o_(this),this.start()))}};B.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function o_(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}B.N=function(){Sf.$.N.call(this),o_(this),delete this.g};function a_(e,t,n){if(typeof e=="function")n&&(e=xt(e,n));else if(e&&typeof e.handleEvent=="function")e=xt(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:re.setTimeout(e,t||0)}function nP(e){e.g=a_(()=>{e.g=null,e.i&&(e.i=!1,nP(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class I2 extends Gi{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:nP(this)}N(){super.N(),this.g&&(re.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nu(e){Gi.call(this),this.h=e,this.g={}}ft(nu,Gi);var nS=[];function rP(e,t,n,r){Array.isArray(n)||(n&&(nS[0]=n.toString()),n=nS);for(var i=0;i<n.length;i++){var s=KR(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function iP(e){Zy(e.g,function(t,n){this.g.hasOwnProperty(n)&&t_(t)},e),e.g={}}nu.prototype.N=function(){nu.$.N.call(this),iP(this)};nu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Tf(){this.g=!0}Tf.prototype.Ea=function(){this.g=!1};function A2(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function R2(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function Eo(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+C2(e,n)+(r?" "+r:"")})}function P2(e,t){e.info(function(){return"TIMEOUT: "+t})}Tf.prototype.info=function(){};function C2(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return i_(n)}catch{return t}}var qs={},rS=null;function If(){return rS=rS||new ht}qs.Ta="serverreachability";function sP(e){Nt.call(this,qs.Ta,e)}ft(sP,Nt);function ru(e){const t=If();St(t,new sP(t))}qs.STAT_EVENT="statevent";function oP(e,t){Nt.call(this,qs.STAT_EVENT,e),this.stat=t}ft(oP,Nt);function Ut(e){const t=If();St(t,new oP(t,e))}qs.Ua="timingevent";function aP(e,t){Nt.call(this,qs.Ua,e),this.size=t}ft(aP,Nt);function zu(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return re.setTimeout(function(){e()},t)}var Af={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},lP={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function l_(){}l_.prototype.h=null;function iS(e){return e.h||(e.h=e.i())}function uP(){}var Wu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function u_(){Nt.call(this,"d")}ft(u_,Nt);function c_(){Nt.call(this,"c")}ft(c_,Nt);var ev;function Rf(){}ft(Rf,l_);Rf.prototype.g=function(){return new XMLHttpRequest};Rf.prototype.i=function(){return{}};ev=new Rf;function Hu(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new nu(this),this.P=k2,e=Kg?125:void 0,this.V=new Sf(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new cP}function cP(){this.i=null,this.g="",this.h=!1}var k2=45e3,tv={},ph={};B=Hu.prototype;B.setTimeout=function(e){this.P=e};function nv(e,t,n){e.L=1,e.v=Cf(Br(t)),e.s=n,e.S=!0,dP(e,null)}function dP(e,t){e.G=Date.now(),Yu(e),e.A=Br(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),_P(n.i,"t",r),e.C=0,n=e.l.J,e.h=new cP,e.g=jP(e.l,n?t:null,!e.s),0<e.O&&(e.M=new I2(xt(e.Pa,e,e.g),e.O)),rP(e.U,e.g,"readystatechange",e.nb),t=e.I?qR(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),ru(),A2(e.j,e.u,e.A,e.m,e.W,e.s)}B.nb=function(e){e=e.target;const t=this.M;t&&er(e)==3?t.l():this.Pa(e)};B.Pa=function(e){try{if(e==this.g)e:{const c=er(this.g);var t=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||Kg||this.g&&(this.h.h||this.g.ja()||lS(this.g)))){this.J||c!=4||t==7||(t==8||0>=d?ru(3):ru(2)),Pf(this);var n=this.g.da();this.ca=n;t:if(hP(this)){var r=lS(this.g);e="";var i=r.length,s=er(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fs(this),Tl(this);var o="";break t}this.h.i=new re.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,R2(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Jl(a)){var u=a;break t}}u=null}if(n=u)Eo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rv(this,n);else{this.i=!1,this.o=3,Ut(12),fs(this),Tl(this);break e}}this.S?(fP(this,c,o),Kg&&this.i&&c==3&&(rP(this.U,this.V,"tick",this.mb),this.V.start())):(Eo(this.j,this.m,o,null),rv(this,o)),c==4&&fs(this),this.i&&!this.J&&(c==4?$P(this.l,this):(this.i=!1,Yu(this)))}else Q2(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Ut(12)):(this.o=0,Ut(13)),fs(this),Tl(this)}}}catch{}finally{}};function hP(e){return e.g?e.u=="GET"&&e.L!=2&&e.l.Ha:!1}function fP(e,t,n){let r=!0,i;for(;!e.J&&e.C<n.length;)if(i=D2(e,n),i==ph){t==4&&(e.o=4,Ut(14),r=!1),Eo(e.j,e.m,null,"[Incomplete Response]");break}else if(i==tv){e.o=4,Ut(15),Eo(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Eo(e.j,e.m,i,null),rv(e,i);hP(e)&&i!=ph&&i!=tv&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Ut(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),g_(t),t.M=!0,Ut(11))):(Eo(e.j,e.m,n,"[Invalid Chunked Response]"),fs(e),Tl(e))}B.mb=function(){if(this.g){var e=er(this.g),t=this.g.ja();this.C<t.length&&(Pf(this),fP(this,e,t),this.i&&e!=4&&Yu(this))}};function D2(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?ph:(n=Number(t.substring(n,r)),isNaN(n)?tv:(r+=1,r+n>t.length?ph:(t=t.slice(r,r+n),e.C=r+n,t)))}B.cancel=function(){this.J=!0,fs(this)};function Yu(e){e.Y=Date.now()+e.P,pP(e,e.P)}function pP(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=zu(xt(e.lb,e),t)}function Pf(e){e.B&&(re.clearTimeout(e.B),e.B=null)}B.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(P2(this.j,this.A),this.L!=2&&(ru(),Ut(17)),fs(this),this.o=2,Tl(this)):pP(this,this.Y-e)};function Tl(e){e.l.H==0||e.J||$P(e.l,e)}function fs(e){Pf(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,o_(e.V),iP(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function rv(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||iv(n.i,e))){if(!e.K&&iv(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)vh(n),bf(n);else break e;m_(n),Ut(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=zu(xt(n.ib,n),6e3));if(1>=SP(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ps(n,11)}else if((e.K||n.g==e)&&vh(n),!Jl(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=e.g;if(f){const v=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var s=r.i;s.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(d_(s,s.h),s.h=null))}if(r.F){const p=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;p&&(r.Da=p,xe(r.I,r.F,p))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=e;if(r.wa=VP(r,r.J?r.pa:null,r.Y),o.K){TP(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Pf(a),Yu(a)),r.g=o}else NP(r);0<n.j.length&&Of(n)}else u[0]!="stop"&&u[0]!="close"||ps(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?ps(n,7):p_(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}ru(4)}catch{}}function b2(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(yf(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function O2(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(yf(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function mP(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(yf(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=O2(e),r=b2(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var gP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function x2(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function _s(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof _s){this.h=e.h,mh(this,e.j),this.s=e.s,this.g=e.g,gh(this,e.m),this.l=e.l;var t=e.i,n=new iu;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),sS(this,n),this.o=e.o}else e&&(t=String(e).match(gP))?(this.h=!1,mh(this,t[1]||"",!0),this.s=al(t[2]||""),this.g=al(t[3]||"",!0),gh(this,t[4]),this.l=al(t[5]||"",!0),sS(this,t[6]||"",!0),this.o=al(t[7]||"")):(this.h=!1,this.i=new iu(null,this.h))}_s.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ll(t,oS,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(ll(t,oS,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(ll(n,n.charAt(0)=="/"?$2:M2,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ll(n,F2)),e.join("")};function Br(e){return new _s(e)}function mh(e,t,n){e.j=n?al(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function gh(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function sS(e,t,n){t instanceof iu?(e.i=t,V2(e.i,e.h)):(n||(t=ll(t,L2)),e.i=new iu(t,e.h))}function xe(e,t,n){e.i.set(t,n)}function Cf(e){return xe(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function al(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ll(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,N2),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function N2(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var oS=/[#\/\?@]/g,M2=/[#\?:]/g,$2=/[#\?]/g,L2=/[#\?@]/g,F2=/#/g;function iu(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ki(e){e.g||(e.g=new Map,e.h=0,e.i&&x2(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}B=iu.prototype;B.add=function(e,t){Ki(this),this.i=null,e=ma(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function vP(e,t){Ki(e),t=ma(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function yP(e,t){return Ki(e),t=ma(e,t),e.g.has(t)}B.forEach=function(e,t){Ki(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};B.ta=function(){Ki(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};B.Z=function(e){Ki(this);let t=[];if(typeof e=="string")yP(this,e)&&(t=t.concat(this.g.get(ma(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};B.set=function(e,t){return Ki(this),this.i=null,e=ma(this,e),yP(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};B.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function _P(e,t,n){vP(e,t),0<n.length&&(e.i=null,e.g.set(ma(e,t),Xy(n)),e.h+=n.length)}B.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function ma(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function V2(e,t){t&&!e.j&&(Ki(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(vP(this,r),_P(this,i,n))},e)),e.j=t}var j2=class{constructor(e,t){this.g=e,this.map=t}};function wP(e){this.l=e||U2,re.PerformanceNavigationTiming?(e=re.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(re.g&&re.g.Ka&&re.g.Ka()&&re.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var U2=10;function EP(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function SP(e){return e.h?1:e.g?e.g.size:0}function iv(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function d_(e,t){e.g?e.g.add(t):e.h=t}function TP(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}wP.prototype.cancel=function(){if(this.i=IP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function IP(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Xy(e.i)}var B2=class{stringify(e){return re.JSON.stringify(e,void 0)}parse(e){return re.JSON.parse(e,void 0)}};function z2(){this.g=new B2}function W2(e,t,n){const r=n||"";try{mP(e,function(i,s){let o=i;Uu(i)&&(o=i_(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function H2(e,t){const n=new Tf;if(re.Image){const r=new Image;r.onload=Hc(qc,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Hc(qc,n,r,"TestLoadImage: error",!1,t),r.onabort=Hc(qc,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Hc(qc,n,r,"TestLoadImage: timeout",!1,t),re.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function qc(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function qu(e){this.l=e.ec||null,this.j=e.ob||!1}ft(qu,l_);qu.prototype.g=function(){return new kf(this.l,this.j)};qu.prototype.i=function(e){return function(){return e}}({});function kf(e,t){ht.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=h_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ft(kf,ht);var h_=0;B=kf.prototype;B.open=function(e,t){if(this.readyState!=h_)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,su(this)};B.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||re).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};B.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gu(this)),this.readyState=h_};B.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,su(this)),this.g&&(this.readyState=3,su(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof re.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;AP(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function AP(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}B.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Gu(this):su(this),this.readyState==3&&AP(this)}};B.Za=function(e){this.g&&(this.response=this.responseText=e,Gu(this))};B.Ya=function(e){this.g&&(this.response=e,Gu(this))};B.ka=function(){this.g&&Gu(this)};function Gu(e){e.readyState=4,e.l=null,e.j=null,e.A=null,su(e)}B.setRequestHeader=function(e,t){this.v.append(e,t)};B.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};B.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function su(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(kf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var Y2=re.JSON.parse;function Ge(e){ht.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=RP,this.L=this.M=!1}ft(Ge,ht);var RP="",q2=/^https?$/i,G2=["POST","PUT"];B=Ge.prototype;B.Oa=function(e){this.M=e};B.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ev.g(),this.C=this.u?iS(this.u):iS(ev),this.g.onreadystatechange=xt(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){aS(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=re.FormData&&e instanceof re.FormData,!(0<=zR(G2,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{kP(this),0<this.B&&((this.L=K2(this.g))?(this.g.timeout=this.B,this.g.ontimeout=xt(this.ua,this)):this.A=a_(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){aS(this,s)}};function K2(e){return Yo&&typeof e.timeout=="number"&&e.ontimeout!==void 0}B.ua=function(){typeof Qy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,St(this,"timeout"),this.abort(8))};function aS(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,PP(e),Df(e)}function PP(e){e.F||(e.F=!0,St(e,"complete"),St(e,"error"))}B.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,St(this,"complete"),St(this,"abort"),Df(this))};B.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Df(this,!0)),Ge.$.N.call(this)};B.La=function(){this.s||(this.G||this.v||this.l?CP(this):this.kb())};B.kb=function(){CP(this)};function CP(e){if(e.h&&typeof Qy<"u"&&(!e.C[1]||er(e)!=4||e.da()!=2)){if(e.v&&er(e)==4)a_(e.La,0,e);else if(St(e,"readystatechange"),er(e)==4){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=o===0){var i=String(e.I).match(gP)[1]||null;!i&&re.self&&re.self.location&&(i=re.self.location.protocol.slice(0,-1)),r=!q2.test(i?i.toLowerCase():"")}n=r}if(n)St(e,"complete"),St(e,"success");else{e.m=6;try{var s=2<er(e)?e.g.statusText:""}catch{s=""}e.j=s+" ["+e.da()+"]",PP(e)}}finally{Df(e)}}}}function Df(e,t){if(e.g){kP(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||St(e,"ready");try{n.onreadystatechange=r}catch{}}}function kP(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(re.clearTimeout(e.A),e.A=null)}B.isActive=function(){return!!this.g};function er(e){return e.g?e.g.readyState:0}B.da=function(){try{return 2<er(this)?this.g.status:-1}catch{return-1}};B.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};B.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),Y2(t)}};function lS(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case RP:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function Q2(e){const t={};e=(e.g&&2<=er(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(Jl(e[r]))continue;var n=E2(e[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}p2(t,function(r){return r.join(", ")})}B.Ia=function(){return this.m};B.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function DP(e){let t="";return Zy(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function f_(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=DP(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):xe(e,t,n))}function Ya(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function bP(e){this.Ga=0,this.j=[],this.l=new Tf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ya("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ya("baseRetryDelayMs",5e3,e),this.hb=Ya("retryDelaySeedMs",1e4,e),this.eb=Ya("forwardChannelMaxRetries",2,e),this.xa=Ya("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new wP(e&&e.concurrentRequestLimit),this.Ja=new z2,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}B=bP.prototype;B.ra=8;B.H=1;function p_(e){if(OP(e),e.H==3){var t=e.W++,n=Br(e.I);if(xe(n,"SID",e.K),xe(n,"RID",t),xe(n,"TYPE","terminate"),Ku(e,n),t=new Hu(e,e.l,t),t.L=2,t.v=Cf(Br(n)),n=!1,re.navigator&&re.navigator.sendBeacon)try{n=re.navigator.sendBeacon(t.v.toString(),"")}catch{}!n&&re.Image&&(new Image().src=t.v,n=!0),n||(t.g=jP(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Yu(t)}FP(e)}function bf(e){e.g&&(g_(e),e.g.cancel(),e.g=null)}function OP(e){bf(e),e.u&&(re.clearTimeout(e.u),e.u=null),vh(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&re.clearTimeout(e.m),e.m=null)}function Of(e){if(!EP(e.i)&&!e.m){e.m=!0;var t=e.Na;eu||tP(),tu||(eu(),tu=!0),s_.add(t,e),e.C=0}}function X2(e,t){return SP(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=zu(xt(e.Na,e,t),LP(e,e.C)),e.C++,!0)}B.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Hu(this,this.l,e);let s=this.s;if(this.U&&(s?(s=qR(s),GR(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=xP(this,i,t),n=Br(this.I),xe(n,"RID",e),xe(n,"CVER",22),this.F&&xe(n,"X-HTTP-Session-Id",this.F),Ku(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(DP(s)))+"&"+t:this.o&&f_(n,this.o,s)),d_(this.i,i),this.bb&&xe(n,"TYPE","init"),this.P?(xe(n,"$req",t),xe(n,"SID","null"),i.aa=!0,nv(i,n,null)):nv(i,n,t),this.H=2}}else this.H==3&&(e?uS(this,e):this.j.length==0||EP(this.i)||uS(this))};function uS(e,t){var n;t?n=t.m:n=e.W++;const r=Br(e.I);xe(r,"SID",e.K),xe(r,"RID",n),xe(r,"AID",e.V),Ku(e,r),e.o&&e.s&&f_(r,e.o,e.s),n=new Hu(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=xP(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),d_(e.i,n),nv(n,r,t)}function Ku(e,t){e.na&&Zy(e.na,function(n,r){xe(t,r,n)}),e.h&&mP({},function(n,r){xe(t,r,n)})}function xP(e,t,n){n=Math.min(e.j.length,n);var r=e.h?xt(e.h.Va,e.h,e):null;e:{var i=e.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{W2(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function NP(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;eu||tP(),tu||(eu(),tu=!0),s_.add(t,e),e.A=0}}function m_(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=zu(xt(e.Ma,e),LP(e,e.A)),e.A++,!0)}B.Ma=function(){if(this.u=null,MP(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=zu(xt(this.jb,this),e)}};B.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ut(10),bf(this),MP(this))};function g_(e){e.B!=null&&(re.clearTimeout(e.B),e.B=null)}function MP(e){e.g=new Hu(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=Br(e.wa);xe(t,"RID","rpc"),xe(t,"SID",e.K),xe(t,"AID",e.V),xe(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&xe(t,"TO",e.qa),xe(t,"TYPE","xmlhttp"),Ku(e,t),e.o&&e.s&&f_(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Cf(Br(t)),n.s=null,n.S=!0,dP(n,e)}B.ib=function(){this.v!=null&&(this.v=null,bf(this),m_(this),Ut(19))};function vh(e){e.v!=null&&(re.clearTimeout(e.v),e.v=null)}function $P(e,t){var n=null;if(e.g==t){vh(e),g_(e),e.g=null;var r=2}else if(iv(e.i,t))n=t.F,TP(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;r=If(),St(r,new aP(r,n)),Of(e)}else NP(e);else if(i=t.o,i==3||i==0&&0<t.ca||!(r==1&&X2(e,t)||r==2&&m_(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ps(e,5);break;case 4:ps(e,10);break;case 3:ps(e,6);break;default:ps(e,2)}}}function LP(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function ps(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=xt(e.pb,e);n||(n=new _s("//www.google.com/images/cleardot.gif"),re.location&&re.location.protocol=="http"||mh(n,"https"),Cf(n)),H2(n.toString(),r)}else Ut(2);e.H=0,e.h&&e.h.za(t),FP(e),OP(e)}B.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Ut(2)):(this.l.info("Failed to ping google.com"),Ut(1))};function FP(e){if(e.H=0,e.ma=[],e.h){const t=IP(e.i);(t.length!=0||e.j.length!=0)&&(ZE(e.ma,t),ZE(e.ma,e.j),e.i.i.length=0,Xy(e.j),e.j.length=0),e.h.ya()}}function VP(e,t,n){var r=n instanceof _s?Br(n):new _s(n);if(r.g!="")t&&(r.g=t+"."+r.g),gh(r,r.m);else{var i=re.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new _s(null);r&&mh(s,r),t&&(s.g=t),i&&gh(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&xe(r,n,t),xe(r,"VER",e.ra),Ku(e,r),r}function jP(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ha&&!e.va?new Ge(new qu({ob:!0})):new Ge(e.va),t.Oa(e.J),t}B.isActive=function(){return!!this.h&&this.h.isActive(this)};function UP(){}B=UP.prototype;B.Ba=function(){};B.Aa=function(){};B.za=function(){};B.ya=function(){};B.isActive=function(){return!0};B.Va=function(){};function yh(){if(Yo&&!(10<=Number(c2)))throw Error("Environmental error: no available transport.")}yh.prototype.g=function(e,t){return new dn(e,t)};function dn(e,t){ht.call(this),this.g=new bP(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Jl(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Jl(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new ga(this)}ft(dn,ht);dn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Ut(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=VP(e,null,e.Y),Of(e)};dn.prototype.close=function(){p_(this.g)};dn.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=i_(e),e=n);t.j.push(new j2(t.fb++,e)),t.H==3&&Of(t)};dn.prototype.N=function(){this.g.h=null,delete this.j,p_(this.g),delete this.g,dn.$.N.call(this)};function BP(e){u_.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}ft(BP,u_);function zP(){c_.call(this),this.status=1}ft(zP,c_);function ga(e){this.g=e}ft(ga,UP);ga.prototype.Ba=function(){St(this.g,"a")};ga.prototype.Aa=function(e){St(this.g,new BP(e))};ga.prototype.za=function(e){St(this.g,new zP)};ga.prototype.ya=function(){St(this.g,"b")};function J2(){this.blockSize=-1}function Un(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}ft(Un,J2);Un.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Em(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^s&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^s)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~s))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}Un.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(i==0)for(;s<=n;)Em(this,e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){Em(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){Em(this,r),i=0;break}}this.h=i,this.i+=t};Un.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function Ae(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=e[i]|0;r&&s==t||(n[i]=s,r=!1)}this.g=n}var Z2={};function v_(e){return-128<=e&&128>e?a2(e,function(t){return new Ae([t|0],0>t?-1:0)}):new Ae([e|0],0>e?-1:0)}function tr(e){if(isNaN(e)||!isFinite(e))return Do;if(0>e)return _t(tr(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=sv;return new Ae(t,0)}function WP(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return _t(WP(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=tr(Math.pow(t,8)),r=Do,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),o=parseInt(e.substring(i,i+s),t);8>s?(s=tr(Math.pow(t,s)),r=r.R(s).add(tr(o))):(r=r.R(n),r=r.add(tr(o)))}return r}var sv=4294967296,Do=v_(0),ov=v_(1),cS=v_(16777216);B=Ae.prototype;B.ea=function(){if(wn(this))return-_t(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:sv+r)*t,t*=sv}return e};B.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(Cr(this))return"0";if(wn(this))return"-"+_t(this).toString(e);for(var t=tr(Math.pow(e,6)),n=this,r="";;){var i=wh(n,t).g;n=_h(n,i.R(t));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,Cr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};B.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function Cr(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function wn(e){return e.h==-1}B.X=function(e){return e=_h(this,e),wn(e)?-1:Cr(e)?0:1};function _t(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Ae(n,~e.h).add(ov)}B.abs=function(){return wn(this)?_t(this):this};B.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(this.D(i)&65535)+(e.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Ae(n,n[n.length-1]&-2147483648?-1:0)};function _h(e,t){return e.add(_t(t))}B.R=function(e){if(Cr(this)||Cr(e))return Do;if(wn(this))return wn(e)?_t(this).R(_t(e)):_t(_t(this).R(e));if(wn(e))return _t(this.R(_t(e)));if(0>this.X(cS)&&0>e.X(cS))return tr(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=e.D(i)>>>16,l=e.D(i)&65535;n[2*r+2*i]+=o*l,Gc(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Gc(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Gc(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Gc(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Ae(n,0)};function Gc(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function qa(e,t){this.g=e,this.h=t}function wh(e,t){if(Cr(t))throw Error("division by zero");if(Cr(e))return new qa(Do,Do);if(wn(e))return t=wh(_t(e),t),new qa(_t(t.g),_t(t.h));if(wn(t))return t=wh(e,_t(t)),new qa(_t(t.g),t.h);if(30<e.g.length){if(wn(e)||wn(t))throw Error("slowDivide_ only works with positive integers.");for(var n=ov,r=t;0>=r.X(e);)n=dS(n),r=dS(r);var i=to(n,1),s=to(r,1);for(r=to(r,2),n=to(n,2);!Cr(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=to(r,1),n=to(n,1)}return t=_h(e,i.R(t)),new qa(i,t)}for(i=Do;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=tr(n),o=s.R(t);wn(o)||0<o.X(e);)n-=r,s=tr(n),o=s.R(t);Cr(s)&&(s=ov),i=i.add(s),e=_h(e,o)}return new qa(i,e)}B.gb=function(e){return wh(this,e).h};B.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Ae(n,this.h&e.h)};B.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Ae(n,this.h|e.h)};B.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Ae(n,this.h^e.h)};function dS(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Ae(n,e.h)}function to(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Ae(i,e.h)}yh.prototype.createWebChannel=yh.prototype.g;dn.prototype.send=dn.prototype.u;dn.prototype.open=dn.prototype.m;dn.prototype.close=dn.prototype.close;Af.NO_ERROR=0;Af.TIMEOUT=8;Af.HTTP_ERROR=6;lP.COMPLETE="complete";uP.EventType=Wu;Wu.OPEN="a";Wu.CLOSE="b";Wu.ERROR="c";Wu.MESSAGE="d";ht.prototype.listen=ht.prototype.O;Ge.prototype.listenOnce=Ge.prototype.P;Ge.prototype.getLastError=Ge.prototype.Sa;Ge.prototype.getLastErrorCode=Ge.prototype.Ia;Ge.prototype.getStatus=Ge.prototype.da;Ge.prototype.getResponseJson=Ge.prototype.Wa;Ge.prototype.getResponseText=Ge.prototype.ja;Ge.prototype.send=Ge.prototype.ha;Ge.prototype.setWithCredentials=Ge.prototype.Oa;Un.prototype.digest=Un.prototype.l;Un.prototype.reset=Un.prototype.reset;Un.prototype.update=Un.prototype.j;Ae.prototype.add=Ae.prototype.add;Ae.prototype.multiply=Ae.prototype.R;Ae.prototype.modulo=Ae.prototype.gb;Ae.prototype.compare=Ae.prototype.X;Ae.prototype.toNumber=Ae.prototype.ea;Ae.prototype.toString=Ae.prototype.toString;Ae.prototype.getBits=Ae.prototype.D;Ae.fromNumber=tr;Ae.fromString=WP;var eF=function(){return new yh},tF=function(){return If()},Sm=Af,nF=lP,rF=qs,hS={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},iF=qu,Kc=uP,sF=Ge,oF=Un,bo=Ae;const fS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Dt.UNAUTHENTICATED=new Dt(null),Dt.GOOGLE_CREDENTIALS=new Dt("google-credentials-uid"),Dt.FIRST_PARTY=new Dt("first-party-uid"),Dt.MOCK_USER=new Dt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let va="10.5.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs=new qy("@firebase/firestore");function Ga(){return bs.logLevel}function Q(e,...t){if(bs.logLevel<=he.DEBUG){const n=t.map(y_);bs.debug(`Firestore (${va}): ${e}`,...n)}}function zr(e,...t){if(bs.logLevel<=he.ERROR){const n=t.map(y_);bs.error(`Firestore (${va}): ${e}`,...n)}}function qo(e,...t){if(bs.logLevel<=he.WARN){const n=t.map(y_);bs.warn(`Firestore (${va}): ${e}`,...n)}}function y_(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(e="Unexpected state"){const t=`FIRESTORE (${va}) INTERNAL ASSERTION FAILED: `+e;throw zr(t),new Error(t)}function $e(e,t){e||ne()}function oe(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends Qr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class aF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Dt.UNAUTHENTICATED))}shutdown(){}}class lF{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class uF{constructor(t){this.t=t,this.currentUser=Dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new xi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new xi,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new xi)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($e(typeof r.accessToken=="string"),new HP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return $e(t===null||typeof t=="string"),new Dt(t)}}class cF{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Dt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class dF{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new cF(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hF{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fF{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=s=>{s.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?($e(typeof n.token=="string"),this.R=n.token,new hF(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pF(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=pF(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function Se(e,t){return e<t?-1:e>t?1:0}function Go(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new K(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new K(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new K(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Je.fromMillis(Date.now())}static fromDate(t){return Je.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new Je(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Se(this.nanoseconds,t.nanoseconds):Se(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(t){this.timestamp=t}static fromTimestamp(t){return new se(t)}static min(){return new se(new Je(0,0))}static max(){return new se(new Je(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(t,n,r){n===void 0?n=0:n>t.length&&ne(),r===void 0?r=t.length-n:r>t.length-n&&ne(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return ou.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ou?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Ne extends ou{construct(t,n,r){return new Ne(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new K(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ne(n)}static emptyPath(){return new Ne([])}}const mF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wt extends ou{construct(t,n,r){return new wt(t,n,r)}static isValidIdentifier(t){return mF.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new wt(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new K(O.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new K(O.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new K(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new K(O.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new wt(n)}static emptyPath(){return new wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.path=t}static fromPath(t){return new Z(Ne.fromString(t))}static fromName(t){return new Z(Ne.fromString(t).popFirst(5))}static empty(){return new Z(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Ne.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Z(new Ne(t.slice()))}}function gF(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=se.fromTimestamp(r===1e9?new Je(n+1,0):new Je(n,r));return new Fi(i,Z.empty(),t)}function vF(e){return new Fi(e.readTime,e.key,-1)}class Fi{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Fi(se.min(),Z.empty(),-1)}static max(){return new Fi(se.max(),Z.empty(),-1)}}function yF(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Z.comparator(e.documentKey,t.documentKey),n!==0?n:Se(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _F="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qu(e){if(e.code!==O.FAILED_PRECONDITION||e.message!==_F)throw e;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new N((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof N?n:N.resolve(n)}catch(n){return N.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):N.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):N.reject(n)}static resolve(t){return new N((n,r)=>{n(t)})}static reject(t){return new N((n,r)=>{r(t)})}static waitFor(t){return new N((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(t){let n=N.resolve(!1);for(const r of t)n=n.next(i=>i?N.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new N((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(t[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(t,n){return new N((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}function Xu(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}__._e=-1;function xf(e){return e==null}function Eh(e){return e===0&&1/e==-1/0}function EF(e){return typeof e=="number"&&Number.isInteger(e)&&!Eh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Gs(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function qP(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t,n){this.comparator=t,this.root=n||yt.EMPTY}insert(t,n){return new He(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,yt.BLACK,null,null))}remove(t){return new He(this.comparator,this.root.remove(t,this.comparator).copy(null,null,yt.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Qc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Qc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Qc(this.root,t,this.comparator,!0)}}class Qc{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class yt{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??yt.RED,this.left=i??yt.EMPTY,this.right=s??yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new yt(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return yt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return yt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ne();const t=this.left.check();if(t!==this.right.check())throw ne();return t+(this.isRed()?0:1)}}yt.EMPTY=null,yt.RED=!0,yt.BLACK=!1;yt.EMPTY=new class{constructor(){this.size=0}get key(){throw ne()}get value(){throw ne()}get color(){throw ne()}get left(){throw ne()}get right(){throw ne()}copy(t,n,r,i,s){return this}insert(t,n,r){return new yt(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(t){this.comparator=t,this.data=new He(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new mS(this.data.getIterator())}getIteratorFrom(t){return new mS(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Tt)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Tt(this.comparator);return n.data=t,n}}class mS{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t){this.fields=t,t.sort(wt.comparator)}static empty(){return new ln([])}unionWith(t){let n=new Tt(wt.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new ln(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Go(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new GP("Invalid base64 string: "+s):s}}(t);return new Ft(n)}static fromUint8Array(t){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new Ft(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Se(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const SF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vi(e){if($e(!!e),typeof e=="string"){let t=0;const n=SF.exec(e);if($e(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:et(e.seconds),nanos:et(e.nanos)}}function et(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Os(e){return typeof e=="string"?Ft.fromBase64String(e):Ft.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function E_(e){const t=e.mapValue.fields.__previous_value__;return w_(t)?E_(t):t}function au(e){const t=Vi(e.mapValue.fields.__local_write_time__.timestampValue);return new Je(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(t,n,r,i,s,o,a,l,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class lu{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new lu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof lu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function xs(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?w_(e)?4:IF(e)?9007199254740991:10:ne()}function hr(e,t){if(e===t)return!0;const n=xs(e);if(n!==xs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return au(e).isEqual(au(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Vi(i.timestampValue),a=Vi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,s){return Os(i.bytesValue).isEqual(Os(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return et(i.geoPointValue.latitude)===et(s.geoPointValue.latitude)&&et(i.geoPointValue.longitude)===et(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return et(i.integerValue)===et(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=et(i.doubleValue),a=et(s.doubleValue);return o===a?Eh(o)===Eh(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return Go(e.arrayValue.values||[],t.arrayValue.values||[],hr);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(pS(o)!==pS(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!hr(o[l],a[l])))return!1;return!0}(e,t);default:return ne()}}function uu(e,t){return(e.values||[]).find(n=>hr(n,t))!==void 0}function Ko(e,t){if(e===t)return 0;const n=xs(e),r=xs(t);if(n!==r)return Se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Se(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=et(s.integerValue||s.doubleValue),l=et(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return gS(e.timestampValue,t.timestampValue);case 4:return gS(au(e),au(t));case 5:return Se(e.stringValue,t.stringValue);case 6:return function(s,o){const a=Os(s),l=Os(o);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Se(a[u],l[u]);if(c!==0)return c}return Se(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=Se(et(s.latitude),et(o.latitude));return a!==0?a:Se(et(s.longitude),et(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Ko(a[u],l[u]);if(c)return c}return Se(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===Xc.mapValue&&o===Xc.mapValue)return 0;if(s===Xc.mapValue)return 1;if(o===Xc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=Se(l[d],c[d]);if(h!==0)return h;const f=Ko(a[l[d]],u[c[d]]);if(f!==0)return f}return Se(l.length,c.length)}(e.mapValue,t.mapValue);default:throw ne()}}function gS(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Se(e,t);const n=Vi(e),r=Vi(t),i=Se(n.seconds,r.seconds);return i!==0?i:Se(n.nanos,r.nanos)}function Qo(e){return av(e)}function av(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=Vi(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Os(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Z.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=av(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${av(n.fields[o])}`;return i+"}"}(e.mapValue):ne()}function vS(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function lv(e){return!!e&&"integerValue"in e}function S_(e){return!!e&&"arrayValue"in e}function yS(e){return!!e&&"nullValue"in e}function _S(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function _d(e){return!!e&&"mapValue"in e}function Il(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Gs(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Il(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Il(e.arrayValue.values[n]);return t}return Object.assign({},e)}function IF(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(t){this.value=t}static empty(){return new Kt({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!_d(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Il(n)}setAll(t){let n=wt.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Il(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());_d(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return hr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];_d(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){Gs(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new Kt(Il(this.value))}}function KP(e){const t=[];return Gs(e.fields,(n,r)=>{const i=new wt([n]);if(_d(r)){const s=KP(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new ln(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new Ot(t,0,se.min(),se.min(),se.min(),Kt.empty(),0)}static newFoundDocument(t,n,r,i){return new Ot(t,1,n,se.min(),r,i,0)}static newNoDocument(t,n){return new Ot(t,2,n,se.min(),se.min(),Kt.empty(),0)}static newUnknownDocument(t,n){return new Ot(t,3,n,se.min(),se.min(),Kt.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Kt.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ot&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ot(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(t,n){this.position=t,this.inclusive=n}}function wS(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=Z.comparator(Z.fromName(o.referenceValue),n.key):r=Ko(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function ES(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!hr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(t,n="asc"){this.field=t,this.dir=n}}function AF(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{}class nt extends QP{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new PF(t,n,r):n==="array-contains"?new DF(t,r):n==="in"?new bF(t,r):n==="not-in"?new OF(t,r):n==="array-contains-any"?new xF(t,r):new nt(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new CF(t,r):new kF(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ko(n,this.value)):n!==null&&xs(this.value)===xs(n)&&this.matchesComparison(Ko(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bn extends QP{constructor(t,n){super(),this.filters=t,this.op=n,this.ue=null}static create(t,n){return new Bn(t,n)}matches(t){return XP(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function XP(e){return e.op==="and"}function JP(e){return RF(e)&&XP(e)}function RF(e){for(const t of e.filters)if(t instanceof Bn)return!1;return!0}function uv(e){if(e instanceof nt)return e.field.canonicalString()+e.op.toString()+Qo(e.value);if(JP(e))return e.filters.map(t=>uv(t)).join(",");{const t=e.filters.map(n=>uv(n)).join(",");return`${e.op}(${t})`}}function ZP(e,t){return e instanceof nt?function(r,i){return i instanceof nt&&r.op===i.op&&r.field.isEqual(i.field)&&hr(r.value,i.value)}(e,t):e instanceof Bn?function(r,i){return i instanceof Bn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&ZP(o,i.filters[a]),!0):!1}(e,t):void ne()}function eC(e){return e instanceof nt?function(n){return`${n.field.canonicalString()} ${n.op} ${Qo(n.value)}`}(e):e instanceof Bn?function(n){return n.op.toString()+" {"+n.getFilters().map(eC).join(" ,")+"}"}(e):"Filter"}class PF extends nt{constructor(t,n,r){super(t,n,r),this.key=Z.fromName(r.referenceValue)}matches(t){const n=Z.comparator(t.key,this.key);return this.matchesComparison(n)}}class CF extends nt{constructor(t,n){super(t,"in",n),this.keys=tC("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class kF extends nt{constructor(t,n){super(t,"not-in",n),this.keys=tC("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function tC(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Z.fromName(r.referenceValue))}class DF extends nt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return S_(n)&&uu(n.arrayValue,this.value)}}class bF extends nt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&uu(this.value.arrayValue,n)}}class OF extends nt{constructor(t,n){super(t,"not-in",n)}matches(t){if(uu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!uu(this.value.arrayValue,n)}}class xF extends nt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!S_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>uu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function SS(e,t=null,n=[],r=[],i=null,s=null,o=null){return new NF(e,t,n,r,i,s,o)}function T_(e){const t=oe(e);if(t.ce===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>uv(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),xf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Qo(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Qo(r)).join(",")),t.ce=n}return t.ce}function I_(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!AF(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!ZP(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ES(e.startAt,t.startAt)&&ES(e.endAt,t.endAt)}function cv(e){return Z.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function MF(e,t,n,r,i,s,o,a){return new Ju(e,t,n,r,i,s,o,a)}function A_(e){return new Ju(e)}function TS(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function nC(e){return e.collectionGroup!==null}function Al(e){const t=oe(e);if(t.le===null){t.le=[];const n=new Set;for(const s of t.explicitOrderBy)t.le.push(s),n.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Tt(wt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.le.push(new Th(s,r))}),n.has(wt.keyField().canonicalString())||t.le.push(new Th(wt.keyField(),r))}return t.le}function sr(e){const t=oe(e);return t.he||(t.he=$F(t,Al(e))),t.he}function $F(e,t){if(e.limitType==="F")return SS(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Th(i.field,s)});const n=e.endAt?new Sh(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Sh(e.startAt.position,e.startAt.inclusive):null;return SS(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function dv(e,t){const n=e.filters.concat([t]);return new Ju(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function hv(e,t,n){return new Ju(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Nf(e,t){return I_(sr(e),sr(t))&&e.limitType===t.limitType}function rC(e){return`${T_(sr(e))}|lt:${e.limitType}`}function ro(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>eC(i)).join(", ")}]`),xf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Qo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Qo(i)).join(",")),`Target(${r})`}(sr(e))}; limitType=${e.limitType})`}function Mf(e,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Z.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,i){for(const s of Al(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=wS(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Al(r),i)||r.endAt&&!function(o,a,l){const u=wS(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Al(r),i))}(e,t)}function LF(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function iC(e){return(t,n)=>{let r=!1;for(const i of Al(e)){const s=FF(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function FF(e,t,n){const r=e.field.isKeyField()?Z.comparator(t.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Ko(l,u):ne()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ne()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Gs(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return qP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VF=new He(Z.comparator);function Wr(){return VF}const sC=new He(Z.comparator);function ul(...e){let t=sC;for(const n of e)t=t.insert(n.key,n);return t}function oC(e){let t=sC;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function ms(){return Rl()}function aC(){return Rl()}function Rl(){return new ya(e=>e.toString(),(e,t)=>e.isEqual(t))}const jF=new He(Z.comparator),UF=new Tt(Z.comparator);function ue(...e){let t=UF;for(const n of e)t=t.add(n);return t}const BF=new Tt(Se);function zF(){return BF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Eh(t)?"-0":t}}function uC(e){return{integerValue:""+e}}function WF(e,t){return EF(t)?uC(t):lC(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(){this._=void 0}}function HF(e,t,n){return e instanceof Ih?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&w_(s)&&(s=E_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,t):e instanceof Xo?dC(e,t):e instanceof cu?hC(e,t):function(i,s){const o=cC(i,s),a=IS(o)+IS(i.Ie);return lv(o)&&lv(i.Ie)?uC(a):lC(i.serializer,a)}(e,t)}function YF(e,t,n){return e instanceof Xo?dC(e,t):e instanceof cu?hC(e,t):n}function cC(e,t){return e instanceof Ah?function(r){return lv(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class Ih extends $f{}class Xo extends $f{constructor(t){super(),this.elements=t}}function dC(e,t){const n=fC(t);for(const r of e.elements)n.some(i=>hr(i,r))||n.push(r);return{arrayValue:{values:n}}}class cu extends $f{constructor(t){super(),this.elements=t}}function hC(e,t){let n=fC(t);for(const r of e.elements)n=n.filter(i=>!hr(i,r));return{arrayValue:{values:n}}}class Ah extends $f{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function IS(e){return et(e.integerValue||e.doubleValue)}function fC(e){return S_(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(t,n){this.field=t,this.transform=n}}function GF(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof Xo&&i instanceof Xo||r instanceof cu&&i instanceof cu?Go(r.elements,i.elements,hr):r instanceof Ah&&i instanceof Ah?hr(r.Ie,i.Ie):r instanceof Ih&&i instanceof Ih}(e.transform,t.transform)}class KF{constructor(t,n){this.version=t,this.transformResults=n}}class or{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new or}static exists(t){return new or(void 0,t)}static updateTime(t){return new or(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function wd(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Lf{}function pC(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new gC(e.key,or.none()):new Zu(e.key,e.data,or.none());{const n=e.data,r=Kt.empty();let i=new Tt(wt.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Qi(e.key,r,new ln(i.toArray()),or.none())}}function QF(e,t,n){e instanceof Zu?function(i,s,o){const a=i.value.clone(),l=RS(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Qi?function(i,s,o){if(!wd(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=RS(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(mC(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function Pl(e,t,n,r){return e instanceof Zu?function(s,o,a,l){if(!wd(s.precondition,o))return a;const u=s.value.clone(),c=PS(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(e,t,n,r):e instanceof Qi?function(s,o,a,l){if(!wd(s.precondition,o))return a;const u=PS(s.fieldTransforms,l,o),c=o.data;return c.setAll(mC(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(e,t,n,r):function(s,o,a){return wd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function XF(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=cC(r.transform,i||null);s!=null&&(n===null&&(n=Kt.empty()),n.set(r.field,s))}return n||null}function AS(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Go(r,i,(s,o)=>GF(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Zu extends Lf{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Qi extends Lf{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function mC(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function RS(e,t,n){const r=new Map;$e(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,YF(o,a,n[i]))}return r}function PS(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,HF(s,o,t))}return r}class gC extends Lf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JF extends Lf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&QF(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Pl(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Pl(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=aC();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=pC(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),ue())}isEqual(t){return this.batchId===t.batchId&&Go(this.mutations,t.mutations,(n,r)=>AS(n,r))&&Go(this.baseMutations,t.baseMutations,(n,r)=>AS(n,r))}}class R_{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){$e(t.mutations.length===r.length);let i=function(){return jF}();const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new R_(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eV=class{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze,pe;function nV(e){switch(e){default:return ne();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0}}function vC(e){if(e===void 0)return zr("GRPC error has no .code"),O.UNKNOWN;switch(e){case Ze.OK:return O.OK;case Ze.CANCELLED:return O.CANCELLED;case Ze.UNKNOWN:return O.UNKNOWN;case Ze.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case Ze.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case Ze.INTERNAL:return O.INTERNAL;case Ze.UNAVAILABLE:return O.UNAVAILABLE;case Ze.UNAUTHENTICATED:return O.UNAUTHENTICATED;case Ze.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case Ze.NOT_FOUND:return O.NOT_FOUND;case Ze.ALREADY_EXISTS:return O.ALREADY_EXISTS;case Ze.PERMISSION_DENIED:return O.PERMISSION_DENIED;case Ze.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case Ze.ABORTED:return O.ABORTED;case Ze.OUT_OF_RANGE:return O.OUT_OF_RANGE;case Ze.UNIMPLEMENTED:return O.UNIMPLEMENTED;case Ze.DATA_LOSS:return O.DATA_LOSS;default:return ne()}}(pe=Ze||(Ze={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV=new bo([4294967295,4294967295],0);function CS(e){const t=rV().encode(e),n=new oF;return n.update(t),new Uint8Array(n.digest())}function kS(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new bo([n,r],0),new bo([i,s],0)]}class P_{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new cl(`Invalid padding: ${n}`);if(r<0)throw new cl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new cl(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new cl(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*t.length-n,this.Ee=bo.fromNumber(this.Te)}de(t,n,r){let i=t.add(n.multiply(bo.fromNumber(r)));return i.compare(iV)===1&&(i=new bo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const n=CS(t),[r,i]=kS(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new P_(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.Te===0)return;const n=CS(t),[r,i]=kS(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class cl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,ec.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Ff(se.min(),i,new He(Se),Wr(),ue())}}class ec{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new ec(r,n,ue(),ue(),ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(t,n,r,i){this.Ve=t,this.removedTargetIds=n,this.key=r,this.me=i}}class yC{constructor(t,n){this.targetId=t,this.fe=n}}class _C{constructor(t,n,r=Ft.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class DS{constructor(){this.ge=0,this.pe=OS(),this.ye=Ft.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=ue(),n=ue(),r=ue();return this.pe.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ne()}}),new ec(this.ye,this.we,t,n,r)}Fe(){this.Se=!1,this.pe=OS()}Me(t,n){this.Se=!0,this.pe=this.pe.insert(t,n)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class sV{constructor(t){this.Le=t,this.ke=new Map,this.qe=Wr(),this.Qe=bS(),this.Ke=new He(Se)}$e(t){for(const n of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(n,t.me):this.We(n,t.key,t.me);for(const n of t.removedTargetIds)this.We(n,t.key,t.me)}Ge(t){this.forEachTarget(t,n=>{const r=this.ze(n);switch(t.state){case 0:this.je(n)&&r.Ce(t.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(t.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(t.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(t.resumeToken));break;default:ne()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(t){const n=t.targetId,r=t.fe.count,i=this.Ye(n);if(i){const s=i.target;if(cv(s))if(r===0){const o=new Z(s.path);this.We(n,o,Ot.newNoDocument(o,se.min()))}else $e(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(t),l=a?this.et(a,t,o):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(t){const n=t.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Os(r).toUint8Array()}catch(l){if(l instanceof GP)return qo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new P_(o,i,s)}catch(l){return qo(l instanceof cl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(t,n,r){return n.fe.count===r-this.rt(t,n.targetId)?0:2}rt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.We(n,s,null),i++)}),i}it(t){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&cv(a.target)){const l=new Z(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,Ot.newNoDocument(l,t))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=ue();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(t));const i=new Ff(t,n,this.Ke,this.qe,r);return this.qe=Wr(),this.Qe=bS(),this.Ke=new He(Se),i}Ue(t,n){if(!this.je(t))return;const r=this.st(t,n.key)?2:0;this.ze(t).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(t))}We(t,n,r){if(!this.je(t))return;const i=this.ze(t);this.st(t,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(t)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(t){this.ke.delete(t)}Ze(t){const n=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let n=this.ke.get(t);return n||(n=new DS,this.ke.set(t,n)),n}ot(t){let n=this.Qe.get(t);return n||(n=new Tt(Se),this.Qe=this.Qe.insert(t,n)),n}je(t){const n=this.Ye(t)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",t),n}Ye(t){const n=this.ke.get(t);return n&&n.be?null:this.Le._t(t)}He(t){this.ke.set(t,new DS),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.We(t,n,null)})}st(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function bS(){return new He(Z.comparator)}function OS(){return new He(Z.comparator)}const oV={asc:"ASCENDING",desc:"DESCENDING"},aV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lV={and:"AND",or:"OR"};class uV{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function fv(e,t){return e.useProto3Json||xf(t)?t:{value:t}}function Rh(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function wC(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function cV(e,t){return Rh(e,t.toTimestamp())}function ar(e){return $e(!!e),se.fromTimestamp(function(n){const r=Vi(n);return new Je(r.seconds,r.nanos)}(e))}function C_(e,t){return function(r){return new Ne(["projects",r.projectId,"databases",r.database])}(e).child("documents").child(t).canonicalString()}function EC(e){const t=Ne.fromString(e);return $e(AC(t)),t}function pv(e,t){return C_(e.databaseId,t.path)}function Tm(e,t){const n=EC(t);if(n.get(1)!==e.databaseId.projectId)throw new K(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new K(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Z(SC(n))}function mv(e,t){return C_(e.databaseId,t)}function dV(e){const t=EC(e);return t.length===4?Ne.emptyPath():SC(t)}function gv(e){return new Ne(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function SC(e){return $e(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function xS(e,t,n){return{name:pv(e,t),fields:n.value.mapValue.fields}}function hV(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ne()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?($e(c===void 0||typeof c=="string"),Ft.fromBase64String(c||"")):($e(c===void 0||c instanceof Uint8Array),Ft.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(u){const c=u.code===void 0?O.UNKNOWN:vC(u.code);return new K(c,u.message||"")}(o);n=new _C(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Tm(e,r.document.name),s=ar(r.document.updateTime),o=r.document.createTime?ar(r.document.createTime):se.min(),a=new Kt({mapValue:{fields:r.document.fields}}),l=Ot.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Ed(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Tm(e,r.document),s=r.readTime?ar(r.readTime):se.min(),o=Ot.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ed([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Tm(e,r.document),s=r.removedTargetIds||[];n=new Ed([],s,i,null)}else{if(!("filter"in t))return ne();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new tV(i,s),a=r.targetId;n=new yC(a,o)}}return n}function fV(e,t){let n;if(t instanceof Zu)n={update:xS(e,t.key,t.value)};else if(t instanceof gC)n={delete:pv(e,t.key)};else if(t instanceof Qi)n={update:xS(e,t.key,t.data),updateMask:SV(t.fieldMask)};else{if(!(t instanceof JF))return ne();n={verify:pv(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Ih)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Xo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof cu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ah)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw ne()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:cV(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ne()}(e,t.precondition)),n}function pV(e,t){return e&&e.length>0?($e(t!==void 0),e.map(n=>function(i,s){let o=i.updateTime?ar(i.updateTime):ar(s);return o.isEqual(se.min())&&(o=ar(s)),new KF(o,i.transformResults||[])}(n,t))):[]}function mV(e,t){return{documents:[mv(e,t.path)]}}function gV(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=mv(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=mv(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return IC(Bn.create(l,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(d){return{field:io(d.field),direction:_V(d.dir)}}(u))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=fv(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),n}function vV(e){let t=dV(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){$e(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(d){const h=TC(d);return h instanceof Bn&&JP(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(v){return new Th(so(v.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,xf(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,f=d.values||[];return new Sh(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,f=d.values||[];return new Sh(f,h)}(n.endAt)),MF(t,i,o,s,a,"F",l,u)}function yV(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function TC(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=so(n.unaryFilter.field);return nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=so(n.unaryFilter.field);return nt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=so(n.unaryFilter.field);return nt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=so(n.unaryFilter.field);return nt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ne()}}(e):e.fieldFilter!==void 0?function(n){return nt.create(so(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ne()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Bn.create(n.compositeFilter.filters.map(r=>TC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ne()}}(n.compositeFilter.op))}(e):ne()}function _V(e){return oV[e]}function wV(e){return aV[e]}function EV(e){return lV[e]}function io(e){return{fieldPath:e.canonicalString()}}function so(e){return wt.fromServerFormat(e.fieldPath)}function IC(e){return e instanceof nt?function(n){if(n.op==="=="){if(_S(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NAN"}};if(yS(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_S(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NAN"}};if(yS(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(n.field),op:wV(n.op),value:n.value}}}(e):e instanceof Bn?function(n){const r=n.getFilters().map(i=>IC(i));return r.length===1?r[0]:{compositeFilter:{op:EV(n.op),filters:r}}}(e):ne()}function SV(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function AC(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(t,n,r,i,s=se.min(),o=se.min(),a=Ft.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new yi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new yi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(t){this.ut=t}}function IV(e){const t=vV({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?hv(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(){this.on=new RV}addToCollectionParentIndex(t,n){return this.on.add(n),N.resolve()}getCollectionParents(t,n){return N.resolve(this.on.getEntries(n))}addFieldIndex(t,n){return N.resolve()}deleteFieldIndex(t,n){return N.resolve()}deleteAllFieldIndexes(t){return N.resolve()}createTargetIndexes(t,n){return N.resolve()}getDocumentsMatchingTarget(t,n){return N.resolve(null)}getIndexType(t,n){return N.resolve(0)}getFieldIndexes(t,n){return N.resolve([])}getNextCollectionGroupToUpdate(t){return N.resolve(null)}getMinOffset(t,n){return N.resolve(Fi.min())}getMinOffsetFromCollectionGroup(t,n){return N.resolve(Fi.min())}updateCollectionGroup(t,n,r){return N.resolve()}updateIndexEntries(t,n){return N.resolve()}}class RV{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Tt(Ne.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Tt(Ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new Jo(0)}static Nn(){return new Jo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(){this.changes=new ya(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ot.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?N.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&Pl(r.mutation,i,ln.empty(),Je.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,ue()).next(()=>r))}getLocalViewOfDocuments(t,n,r=ue()){const i=ms();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=ul();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=ms();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,ue()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=Wr();const o=Rl(),a=function(){return Rl()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Qi)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Pl(c.mutation,u,c.mutation.getFieldMask(),Je.now())):o.set(u.key,ln.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new CV(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(t,n){const r=Rl();let i=new He((o,a)=>o-a),s=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||ln.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||ue()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=aC();c.forEach(h=>{if(!s.has(h)){const f=pC(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,d))}return N.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(o){return Z.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):nC(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):N.resolve(ms());let a=-1,l=s;return o.next(u=>N.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?N.resolve():this.remoteDocumentCache.getEntry(t,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,l,u,ue())).next(c=>({batchId:a,changes:oC(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Z(n)).next(r=>{let i=ul();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const s=n.collectionGroup;let o=ul();return this.indexManager.getCollectionParents(t,s).next(a=>N.forEach(a,l=>{const u=function(d,h){return new Ju(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(t,u,r,i).next(c=>{c.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,Ot.newInvalidDocument(c)))});let a=ul();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&Pl(c.mutation,u,ln.empty(),Je.now()),Mf(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,n){return N.resolve(this.ur.get(n))}saveBundleMetadata(t,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ar(i.createTime)}}(n)),N.resolve()}getNamedQuery(t,n){return N.resolve(this.cr.get(n))}saveNamedQuery(t,n){return this.cr.set(n.name,function(i){return{name:i.name,query:IV(i.bundledQuery),readTime:ar(i.readTime)}}(n)),N.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(){this.overlays=new He(Z.comparator),this.lr=new Map}getOverlay(t,n){return N.resolve(this.overlays.get(n))}getOverlays(t,n){const r=ms();return N.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.lt(t,n,s)}),N.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),N.resolve()}getOverlaysForCollection(t,n,r){const i=ms(),s=n.length+1,o=new Z(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return N.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new He((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=ms(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=ms(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return N.resolve(a)}lt(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new eV(n,r));let s=this.lr.get(n);s===void 0&&(s=ue(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(){this.hr=new Tt(lt.Pr),this.Ir=new Tt(lt.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,n){const r=new lt(t,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.dr(new lt(t,n))}Ar(t,n){t.forEach(r=>this.removeReference(r,n))}Rr(t){const n=new Z(new Ne([])),r=new lt(n,t),i=new lt(n,t+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const n=new Z(new Ne([])),r=new lt(n,t),i=new lt(n,t+1);let s=ue();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new lt(t,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class lt{constructor(t,n){this.key=t,this.gr=n}static Pr(t,n){return Z.comparator(t.key,n.key)||Se(t.gr,n.gr)}static Tr(t,n){return Se(t.gr,n.gr)||Z.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Tt(lt.Pr)}checkEmpty(t){return N.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new ZF(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new lt(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return N.resolve(o)}lookupMutationBatch(t,n){return N.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.Sr(r),s=i<0?0:i;return N.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(t){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new lt(n,0),i=new lt(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),N.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Tt(Se);return n.forEach(i=>{const s=new lt(i,0),o=new lt(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),N.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;Z.isDocumentKey(s)||(s=s.child(""));const o=new lt(new Z(s),0);let a=new Tt(Se);return this.yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.gr)),!0)},o),N.resolve(this.br(a))}br(t){const n=[];return t.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){$e(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return N.forEach(n.mutations,i=>{const s=new lt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.yr=r})}Fn(t){}containsKey(t,n){const r=new lt(n,0),i=this.yr.firstAfterOrEqual(r);return N.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,N.resolve()}Dr(t,n){return this.Sr(t)}Sr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}wr(t){const n=this.Sr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(t){this.Cr=t,this.docs=function(){return new He(Z.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return N.resolve(r?r.document.mutableCopy():Ot.newInvalidDocument(n))}getEntries(t,n){let r=Wr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ot.newInvalidDocument(i))}),N.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=Wr();const o=n.path,a=new Z(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||yF(vF(c),r)<=0||(i.has(c.key)||Mf(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return N.resolve(s)}getAllFromCollectionGroup(t,n,r,i){ne()}vr(t,n){return N.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new NV(this)}getSize(t){return N.resolve(this.size)}}class NV extends PV{constructor(t){super(),this._r=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(t,i)):this._r.removeEntry(r)}),N.waitFor(n)}getFromCache(t,n){return this._r.getEntry(t,n)}getAllFromCache(t,n){return this._r.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(t){this.persistence=t,this.Fr=new ya(n=>T_(n),I_),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.Mr=0,this.Or=new k_,this.targetCount=0,this.Nr=Jo.On()}forEachTarget(t,n){return this.Fr.forEach((r,i)=>n(i)),N.resolve()}getLastRemoteSnapshotVersion(t){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return N.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),N.resolve()}kn(t){this.Fr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Nr=new Jo(n),this.highestTargetId=n),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,n){return this.kn(n),this.targetCount+=1,N.resolve()}updateTargetData(t,n){return this.kn(n),N.resolve()}removeTargetData(t,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,N.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),N.waitFor(s).next(()=>i)}getTargetCount(t){return N.resolve(this.targetCount)}getTargetData(t,n){const r=this.Fr.get(n)||null;return N.resolve(r)}addMatchingKeys(t,n,r){return this.Or.Er(n,r),N.resolve()}removeMatchingKeys(t,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),N.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Or.Rr(n),N.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Or.mr(n);return N.resolve(r)}containsKey(t,n){return N.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(t,n){this.Br={},this.overlays={},this.Lr=new __(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new MV(this),this.indexManager=new AV,this.remoteDocumentCache=function(i){return new xV(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new TV(n),this.Kr=new DV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new bV,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Br[t.toKey()];return r||(r=new OV(n,this.referenceDelegate),this.Br[t.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,n,r){Q("MemoryPersistence","Starting transaction:",t);const i=new LV(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(t,n){return N.or(Object.values(this.Br).map(r=>()=>r.containsKey(t,n)))}}class LV extends wF{constructor(t){super(),this.currentSequenceNumber=t}}class D_{constructor(t){this.persistence=t,this.Gr=new k_,this.zr=null}static jr(t){return new D_(t)}get Hr(){if(this.zr)return this.zr;throw ne()}addReference(t,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),N.resolve()}removeReference(t,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),N.resolve()}markPotentiallyOrphaned(t,n){return this.Hr.add(n.toString()),N.resolve()}removeTarget(t,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}$r(){this.zr=new Set}Ur(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.Hr,r=>{const i=Z.fromPath(r);return this.Jr(t,i).next(s=>{s||n.removeEntry(i,se.min())})}).next(()=>(this.zr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Jr(t,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(t){return 0}Jr(t,n){return N.or([()=>N.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Wr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.ki=r,this.qi=i}static Qi(t,n){let r=ue(),i=ue();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new b_(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(t,n){this.Gi=t,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(t,n,r,i){const s={result:null};return this.zi(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(t,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new FV;return this.Hi(t,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(t,n,o,a.size)})}).next(()=>s.result)}Ji(t,n,r,i){return r.documentReadCount<this.Ui?(Ga()<=he.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",ro(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),N.resolve()):(Ga()<=he.DEBUG&&Q("QueryEngine","Query:",ro(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Ga()<=he.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",ro(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,sr(n))):N.resolve())}zi(t,n){if(TS(n))return N.resolve(null);let r=sr(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=hv(n,null,"F"),r=sr(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=ue(...s);return this.Gi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.Yi(n,a);return this.Zi(n,u,o,l.readTime)?this.zi(t,hv(n,null,"F")):this.Xi(t,u,n,l)}))})))}ji(t,n,r,i){return TS(n)||i.isEqual(se.min())?N.resolve(null):this.Gi.getDocuments(t,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?N.resolve(null):(Ga()<=he.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ro(n)),this.Xi(t,o,n,gF(i,-1)).next(a=>a))})}Yi(t,n){let r=new Tt(iC(t));return n.forEach((i,s)=>{Mf(t,s)&&(r=r.add(s))}),r}Zi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(t,n,r){return Ga()<=he.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",ro(n)),this.Gi.getDocumentsMatchingQuery(t,n,Fi.min(),r)}Xi(t,n,r,i){return this.Gi.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(t,n,r,i){this.persistence=t,this.es=n,this.serializer=i,this.ts=new He(Se),this.ns=new ya(s=>T_(s),I_),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(r)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new kV(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ts))}}function UV(e,t,n,r){return new jV(e,t,n,r)}async function RC(e,t){const n=oe(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ue();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})}function BV(e,t){const n=oe(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,h=d.keys();let f=N.resolve();return h.forEach(v=>{f=f.next(()=>c.getEntry(l,v)).next(p=>{const y=u.docVersions.get(v);$e(y!==null),p.version.compareTo(y)<0&&(d.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ue();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function PC(e){const t=oe(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.qr.getLastRemoteSnapshotVersion(n))}function zV(e,t){const n=oe(e),r=t.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];t.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.qr.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.qr.addMatchingKeys(s,c.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(d)!==null?f=f.withResumeToken(Ft.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),function(p,y,m){return p.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(h,f,c)&&a.push(n.qr.updateTargetData(s,f))});let l=Wr(),u=ue();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(WV(s,o,t.documentUpdates).next(c=>{l=c.us,u=c.cs})),!r.isEqual(se.min())){const c=n.qr.getLastRemoteSnapshotVersion(s).next(d=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return N.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ts=i,s))}function WV(e,t,n){let r=ue(),i=ue();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=Wr();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(se.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):Q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{us:o,cs:i}})}function HV(e,t){const n=oe(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function YV(e,t){const n=oe(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,t).next(s=>s?(i=s,N.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new yi(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(t,r.targetId)),r})}async function vv(e,t,n){const r=oe(e),i=r.ts.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Xu(o))throw o;Q("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.ts=r.ts.remove(t),r.ns.delete(i.target)}function NS(e,t,n){const r=oe(e);let i=se.min(),s=ue();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=oe(l),h=d.ns.get(c);return h!==void 0?N.resolve(d.ts.get(h)):d.qr.getTargetData(u,c)}(r,o,sr(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.es.getDocumentsMatchingQuery(o,t,n?i:se.min(),n?s:ue())).next(a=>(qV(r,LF(t),a),{documents:a,ls:s})))}function qV(e,t,n){let r=e.rs.get(t)||se.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.rs.set(t,r)}class MS{constructor(){this.activeTargetIds=zF()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class GV{constructor(){this.eo=new MS,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,n,r){this.no[t]=n}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new MS,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{ro(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){Q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jc=null;function Im(){return Jc===null?Jc=function(){return 268435456+Math.round(2147483648*Math.random())}():Jc++,"0x"+Jc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}onMessage(t){this.Eo=t}close(){this.lo()}send(t){this.co(t)}Ao(){this.Po()}Ro(t){this.To(t)}Vo(t){this.Eo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ct="WebChannelConnection";class JV extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=Im(),l=this.So(n,r);Q("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,s,o),this.Do(n,l,u,i).then(c=>(Q("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw qo("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+va}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){const i=QV[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Do(t,n,r,i){const s=Im();return new Promise((o,a)=>{const l=new sF;l.setWithCredentials(!0),l.listenOnce(nF.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Sm.NO_ERROR:const c=l.getResponseJson();Q(Ct,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(c)),o(c);break;case Sm.TIMEOUT:Q(Ct,`RPC '${t}' ${s} timed out`),a(new K(O.DEADLINE_EXCEEDED,"Request time out"));break;case Sm.HTTP_ERROR:const d=l.getStatus();if(Q(Ct,`RPC '${t}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const v=function(y){const m=y.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(m)>=0?m:O.UNKNOWN}(f.status);a(new K(v,f.message))}else a(new K(O.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new K(O.UNAVAILABLE,"Connection failed."));break;default:ne()}}finally{Q(Ct,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(i);Q(Ct,`RPC '${t}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}vo(t,n,r){const i=Im(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=eF(),a=tF(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new iF({})),this.bo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");Q(Ct,`Creating RPC '${t}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let h=!1,f=!1;const v=new XV({co:y=>{f?Q(Ct,`Not sending because RPC '${t}' stream ${i} is closed:`,y):(h||(Q(Ct,`Opening RPC '${t}' stream ${i} transport.`),d.open(),h=!0),Q(Ct,`RPC '${t}' stream ${i} sending:`,y),d.send(y))},lo:()=>d.close()}),p=(y,m,g)=>{y.listen(m,_=>{try{g(_)}catch(E){setTimeout(()=>{throw E},0)}})};return p(d,Kc.EventType.OPEN,()=>{f||Q(Ct,`RPC '${t}' stream ${i} transport opened.`)}),p(d,Kc.EventType.CLOSE,()=>{f||(f=!0,Q(Ct,`RPC '${t}' stream ${i} transport closed`),v.Ro())}),p(d,Kc.EventType.ERROR,y=>{f||(f=!0,qo(Ct,`RPC '${t}' stream ${i} transport errored:`,y),v.Ro(new K(O.UNAVAILABLE,"The operation could not be completed")))}),p(d,Kc.EventType.MESSAGE,y=>{var m;if(!f){const g=y.data[0];$e(!!g);const _=g,E=_.error||((m=_[0])===null||m===void 0?void 0:m.error);if(E){Q(Ct,`RPC '${t}' stream ${i} received error:`,E);const S=E.status;let T=function(b){const C=Ze[b];if(C!==void 0)return vC(C)}(S),I=E.message;T===void 0&&(T=O.INTERNAL,I="Unknown error status: "+S+" with message "+E.message),f=!0,v.Ro(new K(T,I)),d.close()}else Q(Ct,`RPC '${t}' stream ${i} received:`,g),v.Vo(g)}}),p(a,rF.STAT_EVENT,y=>{y.stat===hS.PROXY?Q(Ct,`RPC '${t}' stream ${i} detected buffering proxy`):y.stat===hS.NOPROXY&&Q(Ct,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.Ao()},0),v}}function Am(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(e){return new uV(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(t,n,r=1e3,i=1.5,s=6e4){this.si=t,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&Q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(t,n,r,i,s,o,a,l){this.si=t,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new CC(t,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(t){this.t_(),this.stream.send(t)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(t,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,t!==4?this.zo.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(zr(n.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Io(n)}r_(){}auth(){this.state=1;const t=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{t(()=>{const i=new K(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(t,n){const r=this.i_(this.Uo);this.stream=this.__(t,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(t){return Q("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}i_(t){return n=>{this.si.enqueueAndForget(()=>this.Uo===t?n():(Q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ZV extends kC{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(t,n){return this.connection.vo("Listen",t,n)}onMessage(t){this.zo.reset();const n=hV(this.serializer,t),r=function(s){if(!("targetChange"in s))return se.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?se.min():o.readTime?ar(o.readTime):se.min()}(t);return this.listener.a_(n,r)}u_(t){const n={};n.database=gv(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=cv(l)?{documents:mV(s,l)}:{query:gV(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=wC(s,o.resumeToken);const u=fv(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(se.min())>0){a.readTime=Rh(s,o.snapshotVersion.toTimestamp());const u=fv(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,t);const r=yV(this.serializer,t);r&&(n.labels=r),this.e_(n)}c_(t){const n={};n.database=gv(this.serializer),n.removeTarget=t,this.e_(n)}}class ej extends kC{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(t,n){return this.connection.vo("Write",t,n)}onMessage(t){if($e(!!t.streamToken),this.lastStreamToken=t.streamToken,this.l_){this.zo.reset();const n=pV(t.writeResults,t.commitTime),r=ar(t.commitTime);return this.listener.I_(r,n)}return $e(!t.writeResults||t.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const t={};t.database=gv(this.serializer),this.e_(t)}P_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>fV(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new K(O.FAILED_PRECONDITION,"The client has already been terminated.")}wo(t,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(t,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new K(O.UNKNOWN,i.toString())})}Co(t,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(t,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K(O.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class nj{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(t){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.p_("Offline")))}set(t){this.S_(),this.V_=0,t==="Online"&&(this.f_=!1),this.p_(t)}p_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}y_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(zr(n),this.f_=!1):Q("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{r.enqueueAndForget(async()=>{Ks(this)&&(Q("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=oe(l);u.C_.add(4),await tc(u),u.M_.set("Unknown"),u.C_.delete(4),await jf(u)}(this))})}),this.M_=new nj(r,i)}}async function jf(e){if(Ks(e))for(const t of e.v_)await t(!0)}async function tc(e){for(const t of e.v_)await t(!1)}function DC(e,t){const n=oe(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),N_(n)?x_(n):_a(n).Ho()&&O_(n,t))}function bC(e,t){const n=oe(e),r=_a(n);n.D_.delete(t),r.Ho()&&OC(n,t),n.D_.size===0&&(r.Ho()?r.Zo():Ks(n)&&n.M_.set("Unknown"))}function O_(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(se.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}_a(e).u_(t)}function OC(e,t){e.x_.Oe(t),_a(e).c_(t)}function x_(e){e.x_=new sV({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.D_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),_a(e).start(),e.M_.g_()}function N_(e){return Ks(e)&&!_a(e).jo()&&e.D_.size>0}function Ks(e){return oe(e).C_.size===0}function xC(e){e.x_=void 0}async function ij(e){e.D_.forEach((t,n)=>{O_(e,t)})}async function sj(e,t){xC(e),N_(e)?(e.M_.w_(t),x_(e)):e.M_.set("Unknown")}async function oj(e,t,n){if(e.M_.set("Online"),t instanceof _C&&t.state===2&&t.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.D_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.D_.delete(a),i.x_.removeTarget(a))}(e,t)}catch(r){Q("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Ph(e,r)}else if(t instanceof Ed?e.x_.$e(t):t instanceof yC?e.x_.Je(t):e.x_.Ge(t),!n.isEqual(se.min()))try{const r=await PC(e.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.D_.get(u);c&&s.D_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.D_.get(l);if(!c)return;s.D_.set(l,c.withResumeToken(Ft.EMPTY_BYTE_STRING,c.snapshotVersion)),OC(s,l);const d=new yi(c.target,l,u,c.sequenceNumber);O_(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){Q("RemoteStore","Failed to raise snapshot:",r),await Ph(e,r)}}async function Ph(e,t,n){if(!Xu(t))throw t;e.C_.add(1),await tc(e),e.M_.set("Offline"),n||(n=()=>PC(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Q("RemoteStore","Retrying IndexedDB access"),await n(),e.C_.delete(1),await jf(e)})}function NC(e,t){return t().catch(n=>Ph(e,n,t))}async function Uf(e){const t=oe(e),n=ji(t);let r=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;aj(t);)try{const i=await HV(t.localStore,r);if(i===null){t.b_.length===0&&n.Zo();break}r=i.batchId,lj(t,i)}catch(i){await Ph(t,i)}MC(t)&&$C(t)}function aj(e){return Ks(e)&&e.b_.length<10}function lj(e,t){e.b_.push(t);const n=ji(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function MC(e){return Ks(e)&&!ji(e).jo()&&e.b_.length>0}function $C(e){ji(e).start()}async function uj(e){ji(e).E_()}async function cj(e){const t=ji(e);for(const n of e.b_)t.P_(n.mutations)}async function dj(e,t,n){const r=e.b_.shift(),i=R_.from(r,t,n);await NC(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Uf(e)}async function hj(e,t){t&&ji(e).h_&&await async function(r,i){if(function(o){return nV(o)&&o!==O.ABORTED}(i.code)){const s=r.b_.shift();ji(r).Yo(),await NC(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Uf(r)}}(e,t),MC(e)&&$C(e)}async function LS(e,t){const n=oe(e);n.asyncQueue.verifyOperationInProgress(),Q("RemoteStore","RemoteStore received new credentials");const r=Ks(n);n.C_.add(3),await tc(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.C_.delete(3),await jf(n)}async function fj(e,t){const n=oe(e);t?(n.C_.delete(2),await jf(n)):t||(n.C_.add(2),await tc(n),n.M_.set("Unknown"))}function _a(e){return e.O_||(e.O_=function(n,r,i){const s=oe(n);return s.A_(),new ZV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{ho:ij.bind(null,e),Io:sj.bind(null,e),a_:oj.bind(null,e)}),e.v_.push(async t=>{t?(e.O_.Yo(),N_(e)?x_(e):e.M_.set("Unknown")):(await e.O_.stop(),xC(e))})),e.O_}function ji(e){return e.N_||(e.N_=function(n,r,i){const s=oe(n);return s.A_(),new ej(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{ho:uj.bind(null,e),Io:hj.bind(null,e),T_:cj.bind(null,e),I_:dj.bind(null,e)}),e.v_.push(async t=>{t?(e.N_.Yo(),await Uf(e)):(await e.N_.stop(),e.b_.length>0&&(Q("RemoteStore",`Stopping write stream with ${e.b_.length} pending writes`),e.b_=[]))})),e.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new M_(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(O.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $_(e,t){if(zr("AsyncQueue",`${t}: ${e}`),Xu(e))return new K(O.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(t){this.comparator=t?(n,r)=>t(n,r)||Z.comparator(n.key,r.key):(n,r)=>Z.comparator(n.key,r.key),this.keyedMap=ul(),this.sortedSet=new He(this.comparator)}static emptySet(t){return new Oo(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Oo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Oo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(){this.B_=new He(Z.comparator)}track(t){const n=t.doc.key,r=this.B_.get(n);r?t.type!==0&&r.type===3?this.B_=this.B_.insert(n,t):t.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.B_=this.B_.remove(n):t.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):ne():this.B_=this.B_.insert(n,t)}L_(){const t=[];return this.B_.inorderTraversal((n,r)=>{t.push(r)}),t}}class Zo{constructor(t,n,r,i,s,o,a,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Zo(t,n,Oo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Nf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(){this.k_=void 0,this.listeners=[]}}class mj{constructor(){this.queries=new ya(t=>rC(t),Nf),this.onlineState="Unknown",this.q_=new Set}}async function LC(e,t){const n=oe(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new pj),i)try{s.k_=await n.onListen(r)}catch(o){const a=$_(o,`Initialization of query '${ro(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,s),s.listeners.push(t),t.Q_(n.onlineState),s.k_&&t.K_(s.k_)&&L_(n)}async function FC(e,t){const n=oe(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function gj(e,t){const n=oe(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&L_(n)}function vj(e,t,n){const r=oe(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function L_(e){e.q_.forEach(t=>{t.next()})}class VC{constructor(t,n,r){this.query=t,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new Zo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.W_?this.z_(t)&&(this.U_.next(t),n=!0):this.j_(t,this.onlineState)&&(this.H_(t),n=!0),this.G_=t,n}onError(t){this.U_.error(t)}Q_(t){this.onlineState=t;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,t)&&(this.H_(this.G_),n=!0),n}j_(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}z_(t){if(t.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(t){t=Zo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.W_=!0,this.U_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(t){this.key=t}}class UC{constructor(t){this.key=t}}class yj{constructor(t,n){this.query=t,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ue(),this.mutatedKeys=ue(),this._a=iC(t),this.aa=new Oo(this._a)}get ua(){return this.ia}ca(t,n){const r=n?n.la:new FS,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,d)=>{const h=i.get(c),f=Mf(this.query,d)?d:null,v=!!h&&this.mutatedKeys.has(h.key),p=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?v!==p&&(r.track({type:3,doc:f}),y=!0):this.ha(h,f)||(r.track({type:2,doc:f}),y=!0,(l&&this._a(f,l)>0||u&&this._a(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(l||u)&&(a=!0)),y&&(f?(o=o.add(f),s=p?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r){const i=this.aa;this.aa=t.aa,this.mutatedKeys=t.mutatedKeys;const s=t.la.L_();s.sort((u,c)=>function(h,f){const v=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne()}};return v(h)-v(f)}(u.type,c.type)||this._a(u.doc,c.doc)),this.Pa(r);const o=n?this.Ia():[],a=this.oa.size===0&&this.current?1:0,l=a!==this.sa;return this.sa=a,s.length!==0||l?{snapshot:new Zo(this.query,t.aa,i,s,t.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new FS,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(t){return!this.ia.has(t)&&!!this.aa.has(t)&&!this.aa.get(t).hasLocalMutations}Pa(t){t&&(t.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=t.current)}Ia(){if(!this.current)return[];const t=this.oa;this.oa=ue(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return t.forEach(r=>{this.oa.has(r)||n.push(new UC(r))}),this.oa.forEach(r=>{t.has(r)||n.push(new jC(r))}),n}da(t){this.ia=t.ls,this.oa=ue();const n=this.ca(t.documents);return this.applyChanges(n,!0)}Aa(){return Zo.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class _j{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class wj{constructor(t){this.key=t,this.Ra=!1}}class Ej{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new ya(a=>rC(a),Nf),this.fa=new Map,this.ga=new Set,this.pa=new He(Z.comparator),this.ya=new Map,this.wa=new k_,this.Sa={},this.ba=new Map,this.Da=Jo.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function Sj(e,t){const n=Oj(e);let r,i;const s=n.ma.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=await YV(n.localStore,sr(t)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await Tj(n,t,r,a==="current",o.resumeToken),n.isPrimaryClient&&DC(n.remoteStore,o)}return i}async function Tj(e,t,n,r,i){e.va=(d,h,f)=>async function(p,y,m,g){let _=y.view.ca(m);_.Zi&&(_=await NS(p.localStore,y.query,!1).then(({documents:T})=>y.view.ca(T,_)));const E=g&&g.targetChanges.get(y.targetId),S=y.view.applyChanges(_,p.isPrimaryClient,E);return jS(p,y.targetId,S.Ta),S.snapshot}(e,d,h,f);const s=await NS(e.localStore,t,!0),o=new yj(t,s.ls),a=o.ca(s.documents),l=ec.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=o.applyChanges(a,e.isPrimaryClient,l);jS(e,n,u.Ta);const c=new _j(t,n,o);return e.ma.set(t,c),e.fa.has(n)?e.fa.get(n).push(t):e.fa.set(n,[t]),u.snapshot}async function Ij(e,t){const n=oe(e),r=n.ma.get(t),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!Nf(s,t))),void n.ma.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await vv(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),bC(n.remoteStore,r.targetId),yv(n,r.targetId)}).catch(Qu)):(yv(n,r.targetId),await vv(n.localStore,r.targetId,!0))}async function Aj(e,t,n){const r=xj(e);try{const i=await function(o,a){const l=oe(o),u=Je.now(),c=a.reduce((f,v)=>f.add(v.key),ue());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let v=Wr(),p=ue();return l.ss.getEntries(f,c).next(y=>{v=y,v.forEach((m,g)=>{g.isValidDocument()||(p=p.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,v)).next(y=>{d=y;const m=[];for(const g of a){const _=XF(g,d.get(g.key).overlayedDocument);_!=null&&m.push(new Qi(g.key,_,KP(_.value.mapValue),or.exists(!0)))}return l.mutationQueue.addMutationBatch(f,u,m,a)}).next(y=>{h=y;const m=y.applyToLocalDocumentSet(d,p);return l.documentOverlayCache.saveOverlays(f,y.batchId,m)})}).then(()=>({batchId:h.batchId,changes:oC(d)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Sa[o.currentUser.toKey()];u||(u=new He(Se)),u=u.insert(a,l),o.Sa[o.currentUser.toKey()]=u}(r,i.batchId,n),await nc(r,i.changes),await Uf(r.remoteStore)}catch(i){const s=$_(i,"Failed to persist write");n.reject(s)}}async function BC(e,t){const n=oe(e);try{const r=await zV(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&($e(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?$e(o.Ra):i.removedDocuments.size>0&&($e(o.Ra),o.Ra=!1))}),await nc(n,r,t)}catch(r){await Qu(r)}}function VS(e,t,n){const r=oe(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(t);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=oe(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.listeners)h.Q_(a)&&(u=!0)}),u&&L_(l)}(r.eventManager,t),i.length&&r.Va.a_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Rj(e,t,n){const r=oe(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.ya.get(t),s=i&&i.key;if(s){let o=new He(Z.comparator);o=o.insert(s,Ot.newNoDocument(s,se.min()));const a=ue().add(s),l=new Ff(se.min(),new Map,new He(Se),o,a);await BC(r,l),r.pa=r.pa.remove(s),r.ya.delete(t),F_(r)}else await vv(r.localStore,t,!1).then(()=>yv(r,t,n)).catch(Qu)}async function Pj(e,t){const n=oe(e),r=t.batch.batchId;try{const i=await BV(n.localStore,t);WC(n,r,null),zC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await nc(n,i)}catch(i){await Qu(i)}}async function Cj(e,t,n){const r=oe(e);try{const i=await function(o,a){const l=oe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>($e(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,t);WC(r,t,n),zC(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await nc(r,i)}catch(i){await Qu(i)}}function zC(e,t){(e.ba.get(t)||[]).forEach(n=>{n.resolve()}),e.ba.delete(t)}function WC(e,t,n){const r=oe(e);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.Sa[r.currentUser.toKey()]=i}}function yv(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.fa.get(t))e.ma.delete(r),n&&e.Va.Fa(r,n);e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach(r=>{e.wa.containsKey(r)||HC(e,r)})}function HC(e,t){e.ga.delete(t.path.canonicalString());const n=e.pa.get(t);n!==null&&(bC(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),F_(e))}function jS(e,t,n){for(const r of n)r instanceof jC?(e.wa.addReference(r.key,t),kj(e,r)):r instanceof UC?(Q("SyncEngine","Document no longer in limbo: "+r.key),e.wa.removeReference(r.key,t),e.wa.containsKey(r.key)||HC(e,r.key)):ne()}function kj(e,t){const n=t.key,r=n.path.canonicalString();e.pa.get(n)||e.ga.has(r)||(Q("SyncEngine","New document in limbo: "+n),e.ga.add(r),F_(e))}function F_(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){const t=e.ga.values().next().value;e.ga.delete(t);const n=new Z(Ne.fromString(t)),r=e.Da.next();e.ya.set(r,new wj(n)),e.pa=e.pa.insert(n,r),DC(e.remoteStore,new yi(sr(A_(n.path)),r,"TargetPurposeLimboResolution",__._e))}}async function nc(e,t,n){const r=oe(e),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,l)=>{o.push(r.va(l,t,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=b_.Qi(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.Va.a_(i),await async function(l,u){const c=oe(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>N.forEach(u,h=>N.forEach(h.ki,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>N.forEach(h.qi,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Xu(d))throw d;Q("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const f=c.ts.get(h),v=f.snapshotVersion,p=f.withLastLimboFreeSnapshotVersion(v);c.ts=c.ts.insert(h,p)}}}(r.localStore,s))}async function Dj(e,t){const n=oe(e);if(!n.currentUser.isEqual(t)){Q("SyncEngine","User change. New user:",t.toKey());const r=await RC(n.localStore,t);n.currentUser=t,function(s,o){s.ba.forEach(a=>{a.forEach(l=>{l.reject(new K(O.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await nc(n,r._s)}}function bj(e,t){const n=oe(e),r=n.ya.get(t);if(r&&r.Ra)return ue().add(r.key);{let i=ue();const s=n.fa.get(t);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function Oj(e){const t=oe(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=BC.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=bj.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Rj.bind(null,t),t.Va.a_=gj.bind(null,t.eventManager),t.Va.Fa=vj.bind(null,t.eventManager),t}function xj(e){const t=oe(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Pj.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Cj.bind(null,t),t}class US{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=Vf(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return UV(this.persistence,new VV,t.initialUser,this.serializer)}createPersistence(t){return new $V(D_.jr,this.serializer)}createSharedClientState(t){return new GV}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Nj{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>VS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Dj.bind(null,this.syncEngine),await fj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new mj}()}createDatastore(t){const n=Vf(t.databaseInfo.databaseId),r=function(s){return new JV(s)}(t.databaseInfo);return function(s,o,a,l){return new tj(s,o,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,s,o,a){return new rj(r,i,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>VS(this.syncEngine,n,0),function(){return $S.D()?new $S:new KV}())}createSyncEngine(t,n){return function(i,s,o,a,l,u,c){const d=new Ej(i,s,o,a,l,u);return c&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=oe(n);Q("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await tc(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Oa(this.observer.next,t)}error(t){this.observer.error?this.Oa(this.observer.error,t):zr("Uncaught Error in snapshot listener:",t.toString())}Na(){this.muted=!0}Oa(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Dt.UNAUTHENTICATED,this.clientId=YP.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Q("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Q("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new K(O.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=$_(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Rm(e,t){e.asyncQueue.verifyOperationInProgress(),Q("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await RC(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function BS(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Lj(e);Q("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(i=>LS(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>LS(t.remoteStore,s)),e._onlineComponents=t}function $j(e){return e.name==="FirebaseError"?e.code===O.FAILED_PRECONDITION||e.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function Lj(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Q("FirestoreClient","Using user provided OfflineComponentProvider");try{await Rm(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!$j(n))throw n;qo("Error using user provided cache. Falling back to memory cache: "+n),await Rm(e,new US)}}else Q("FirestoreClient","Using default OfflineComponentProvider"),await Rm(e,new US);return e._offlineComponents}async function qC(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Q("FirestoreClient","Using user provided OnlineComponentProvider"),await BS(e,e._uninitializedComponentsProvider._online)):(Q("FirestoreClient","Using default OnlineComponentProvider"),await BS(e,new Nj))),e._onlineComponents}function Fj(e){return qC(e).then(t=>t.syncEngine)}async function _v(e){const t=await qC(e),n=t.eventManager;return n.onListen=Sj.bind(null,t.syncEngine),n.onUnlisten=Ij.bind(null,t.syncEngine),n}function Vj(e,t,n={}){const r=new xi;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new YC({next:h=>{o.enqueueAndForget(()=>FC(s,d)),h.fromCache&&l.source==="server"?u.reject(new K(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new VC(a,c,{includeMetadataChanges:!0,J_:!0});return LC(s,d)}(await _v(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(e,t,n){if(!n)throw new K(O.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function jj(e,t,n,r){if(t===!0&&r===!0)throw new K(O.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function WS(e){if(!Z.isDocumentKey(e))throw new K(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function HS(e){if(Z.isDocumentKey(e))throw new K(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Bf(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":ne()}function Nr(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new K(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Bf(e);throw new K(O.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new K(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new K(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}jj("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GC((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new K(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new K(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new K(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class zf{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YS({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new K(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new K(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YS(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new aF;switch(r.type){case"firstParty":return new dF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=zS.get(n);r&&(Q("ComponentProvider","Removing Datastore"),zS.delete(n),r.terminate())}(this),Promise.resolve()}}function Uj(e,t,n,r={}){var i;const s=(e=Nr(e,zf))._getSettings(),o=`${t}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Dt.MOCK_USER;else{a=x$(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new K(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Dt(u)}e._authCredentials=new lF(new HP(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Qs(this.firestore,t,this._query)}}class en{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ni(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new en(this.firestore,t,this._key)}}class Ni extends Qs{constructor(t,n,r){super(t,n,A_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new en(this.firestore,null,new Z(t))}withConverter(t){return new Ni(this.firestore,t,this._path)}}function wa(e,t,...n){if(e=dt(e),KC("collection","path",t),e instanceof zf){const r=Ne.fromString(t,...n);return HS(r),new Ni(e,null,r)}{if(!(e instanceof en||e instanceof Ni))throw new K(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Ne.fromString(t,...n));return HS(r),new Ni(e.firestore,null,r)}}function V_(e,t,...n){if(e=dt(e),arguments.length===1&&(t=YP.newId()),KC("doc","path",t),e instanceof zf){const r=Ne.fromString(t,...n);return WS(r),new en(e,null,new Z(r))}{if(!(e instanceof en||e instanceof Ni))throw new K(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Ne.fromString(t,...n));return WS(r),new en(e.firestore,e instanceof Ni?e.converter:null,new Z(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new CC(this,"async_queue_retry"),this.iu=()=>{const n=Am();n&&Q("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const t=Am();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const n=Am();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});const n=new xi;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(t){if(!Xu(t))throw t;Q("AsyncQueue","Operation failed with retryable error: "+t)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(t){const n=this.Ja.then(()=>(this.tu=!0,t().catch(r=>{this.eu=r,this.tu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw zr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(t,n,r){this.su(),this.ru.indexOf(t)>-1&&(n=0);const i=M_.createAndSchedule(this,t,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&ne()}verifyOperationInProgress(){}async uu(){let t;do t=this.Ja,await t;while(t!==this.Ja)}cu(t){for(const n of this.Xa)if(n.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){const n=this.Xa.indexOf(t);this.Xa.splice(n,1)}}function qS(e){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(e,["next","error","complete"])}class ea extends zf{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=function(){return new Bj}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||QC(this),this._firestoreClient.terminate()}}function zj(e,t){const n=typeof e=="object"?e:jR(),r=typeof e=="string"?e:t||"(default)",i=Ky(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=b$("firestore");s&&Uj(i,...s)}return i}function j_(e){return e._firestoreClient||QC(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function QC(e){var t,n,r;const i=e._freezeSettings(),s=function(a,l,u,c){return new TF(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,GC(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Mj(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ta(Ft.fromBase64String(t))}catch(n){throw new K(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ta(Ft.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new K(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new K(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new K(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Se(this._lat,t._lat)||Se(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wj=/^__.*__$/;class Hj{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Qi(t,this.data,this.fieldMask,n,this.fieldTransforms):new Zu(t,this.data,n,this.fieldTransforms)}}class XC{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new Qi(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function JC(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne()}}class Yf{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(t){return new Yf(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Tu({path:r,du:!1});return i.Au(t),i}Ru(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(t){return this.Tu({path:void 0,du:!0})}mu(t){return Ch(t,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Au(this.path.get(t))}Au(t){if(t.length===0)throw this.mu("Document fields must not be empty");if(JC(this.Iu)&&Wj.test(t))throw this.mu('Document fields cannot begin and end with "__"')}}class Yj{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Vf(t)}pu(t,n,r,i=!1){return new Yf({Iu:t,methodName:n,gu:r,path:wt.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function B_(e){const t=e._freezeSettings(),n=Vf(e._databaseId);return new Yj(e._databaseId,!!t.ignoreUndefinedProperties,n)}function qj(e,t,n,r,i,s={}){const o=e.pu(s.merge||s.mergeFields?2:0,t,n,i);z_("Data must be an object, but it was:",o,r);const a=ZC(r,o);let l,u;if(s.merge)l=new ln(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=wv(t,d,n);if(!o.contains(h))throw new K(O.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);tk(c,h)||c.push(h)}l=new ln(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new Hj(new Kt(a),l,u)}class qf extends Hf{_toFieldTransform(t){if(t.Iu!==2)throw t.Iu===1?t.mu(`${this._methodName}() can only appear at the top level of your update data`):t.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof qf}}function Gj(e,t,n){return new Yf({Iu:3,gu:t.settings.gu,methodName:e._methodName,du:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Kj extends Hf{constructor(t,n){super(t),this.yu=n}_toFieldTransform(t){const n=Gj(this,t,!0),r=this.yu.map(s=>Ea(s,n)),i=new Xo(r);return new qF(t.path,i)}isEqual(t){return this===t}}function Qj(e,t,n,r){const i=e.pu(1,t,n);z_("Data must be an object, but it was:",i,r);const s=[],o=Kt.empty();Gs(r,(l,u)=>{const c=W_(t,l,n);u=dt(u);const d=i.Ru(c);if(u instanceof qf)s.push(c);else{const h=Ea(u,d);h!=null&&(s.push(c),o.set(c,h))}});const a=new ln(s);return new XC(o,a,i.fieldTransforms)}function Xj(e,t,n,r,i,s){const o=e.pu(1,t,n),a=[wv(t,r,n)],l=[i];if(s.length%2!=0)throw new K(O.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(wv(t,s[h])),l.push(s[h+1]);const u=[],c=Kt.empty();for(let h=a.length-1;h>=0;--h)if(!tk(u,a[h])){const f=a[h];let v=l[h];v=dt(v);const p=o.Ru(f);if(v instanceof qf)u.push(f);else{const y=Ea(v,p);y!=null&&(u.push(f),c.set(f,y))}}const d=new ln(u);return new XC(c,d,o.fieldTransforms)}function Jj(e,t,n,r=!1){return Ea(n,e.pu(r?4:3,t))}function Ea(e,t){if(ek(e=dt(e)))return z_("Unsupported field value:",t,e),ZC(e,t);if(e instanceof Hf)return function(r,i){if(!JC(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&t.Iu!==4)throw t.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Ea(a,i.Vu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(e,t)}return function(r,i){if((r=dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return WF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Je.fromDate(r);return{timestampValue:Rh(i.serializer,s)}}if(r instanceof Je){const s=new Je(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Rh(i.serializer,s)}}if(r instanceof U_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ta)return{bytesValue:wC(i.serializer,r._byteString)};if(r instanceof en){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:C_(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${Bf(r)}`)}(e,t)}function ZC(e,t){const n={};return qP(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Gs(e,(r,i)=>{const s=Ea(i,t.Eu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function ek(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Je||e instanceof U_||e instanceof ta||e instanceof en||e instanceof Hf)}function z_(e,t,n){if(!ek(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Bf(n);throw r==="an object"?t.mu(e+" a custom object"):t.mu(e+" "+r)}}function wv(e,t,n){if((t=dt(t))instanceof Wf)return t._internalPath;if(typeof t=="string")return W_(e,t);throw Ch("Field path arguments must be of type string or ",e,!1,void 0,n)}const Zj=new RegExp("[~\\*/\\[\\]]");function W_(e,t,n){if(t.search(Zj)>=0)throw Ch(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Wf(...t.split("."))._internalPath}catch{throw Ch(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Ch(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new K(O.INVALID_ARGUMENT,a+e+l)}function tk(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new eU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(H_("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class eU extends nk{data(){return super.data()}}function H_(e,t){return typeof t=="string"?W_(e,t):t instanceof Wf?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new K(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Y_{}class tU extends Y_{}function nU(e,t,...n){let r=[];t instanceof Y_&&r.push(t),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof q_).length,a=s.filter(l=>l instanceof Gf).length;if(o>1||o>0&&a>0)throw new K(O.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class Gf extends tU{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new Gf(t,n,r)}_apply(t){const n=this._parse(t);return ik(t._query,n),new Qs(t.firestore,t.converter,dv(t._query,n))}_parse(t){const n=B_(t.firestore);return function(s,o,a,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new K(O.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){KS(d,c);const f=[];for(const v of d)f.push(GS(l,s,v));h={arrayValue:{values:f}}}else h=GS(l,s,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||KS(d,c),h=Jj(a,o,d,c==="in"||c==="not-in");return nt.create(u,c,h)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function rU(e,t,n){const r=t,i=H_("where",e);return Gf._create(i,r,n)}class q_ extends Y_{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new q_(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Bn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)ik(o,l),o=dv(o,l)}(t._query,n),new Qs(t.firestore,t.converter,dv(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function GS(e,t,n){if(typeof(n=dt(n))=="string"){if(n==="")throw new K(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nC(t)&&n.indexOf("/")!==-1)throw new K(O.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Ne.fromString(n));if(!Z.isDocumentKey(r))throw new K(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return vS(e,new Z(r))}if(n instanceof en)return vS(e,n._key);throw new K(O.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bf(n)}.`)}function KS(e,t){if(!Array.isArray(e)||e.length===0)throw new K(O.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function ik(e,t){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new K(O.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new K(O.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class iU{convertValue(t,n="none"){switch(xs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return et(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Os(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw ne()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Gs(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(t){return new U_(et(t.latitude),et(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=E_(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(au(t));default:return null}}convertTimestamp(t){const n=Vi(t);return new Je(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Ne.fromString(t);$e(AC(r));const i=new lu(r.get(1),r.get(3)),s=new Z(r.popFirst(5));return i.isEqual(n)||zr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sU(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class sk extends nk{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Sd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(H_("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Sd extends sk{data(t={}){return super.data(t)}}class ok{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new dl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Sd(this._firestore,this._userDataWriter,r.key,r,new dl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Sd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new dl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Sd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new dl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:oU(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function oU(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne()}}class G_ extends iU{constructor(t){super(),this.firestore=t}convertBytes(t){return new ta(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new en(this.firestore,null,n)}}function ak(e){e=Nr(e,Qs);const t=Nr(e.firestore,ea),n=j_(t),r=new G_(t);return rk(e._query),Vj(n,e._query).then(i=>new ok(t,r,e,i))}function lk(e,t,n,...r){e=Nr(e,en);const i=Nr(e.firestore,ea),s=B_(i);let o;return o=typeof(t=dt(t))=="string"||t instanceof Wf?Xj(s,"updateDoc",e._key,t,n,r):Qj(s,"updateDoc",e._key,t),ck(i,[o.toMutation(e._key,or.exists(!0))])}function uk(e,t){const n=Nr(e.firestore,ea),r=V_(e),i=sU(e.converter,t);return ck(n,[qj(B_(e.firestore),"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,or.exists(!1))]).then(()=>r)}function aU(e,...t){var n,r,i;e=dt(e);let s={includeMetadataChanges:!1},o=0;typeof t[o]!="object"||qS(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(qS(t[o])){const d=t[o];t[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),t[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),t[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(e instanceof en)u=Nr(e.firestore,ea),c=A_(e._key.path),l={next:d=>{t[o]&&t[o](lU(u,e,d))},error:t[o+1],complete:t[o+2]};else{const d=Nr(e,Qs);u=Nr(d.firestore,ea),c=d._query;const h=new G_(u);l={next:f=>{t[o]&&t[o](new ok(u,h,d,f))},error:t[o+1],complete:t[o+2]},rk(e._query)}return function(h,f,v,p){const y=new YC(p),m=new VC(f,y,v);return h.asyncQueue.enqueueAndForget(async()=>LC(await _v(h),m)),()=>{y.Na(),h.asyncQueue.enqueueAndForget(async()=>FC(await _v(h),m))}}(j_(u),c,a,l)}function ck(e,t){return function(r,i){const s=new xi;return r.asyncQueue.enqueueAndForget(async()=>Aj(await Fj(r),i,s)),s.promise}(j_(e),t)}function lU(e,t,n){const r=n.docs.get(t._key),i=new G_(e);return new sk(e,i,t._key,r,new dl(n.hasPendingWrites,n.fromCache),t.converter)}function dk(...e){return new Kj("arrayUnion",e)}(function(t,n=!0){(function(i){va=i})(pa),Ho(new ks("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new ea(new uF(r.getProvider("auth-internal")),new fF(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new K(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lu(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Oi(fS,"4.3.2",t),Oi(fS,"4.3.2","esm2017")})();function K_(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function hk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uU=hk,fk=new Vu("auth","Firebase",hk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh=new qy("@firebase/auth");function cU(e,...t){kh.logLevel<=he.WARN&&kh.warn(`Auth (${pa}): ${e}`,...t)}function Td(e,...t){kh.logLevel<=he.ERROR&&kh.error(`Auth (${pa}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(e,...t){throw Q_(e,...t)}function lr(e,...t){return Q_(e,...t)}function dU(e,t,n){const r=Object.assign(Object.assign({},uU()),{[t]:n});return new Vu("auth","Firebase",r).create(t,{appName:e.name})}function Q_(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return fk.create(e,...t)}function te(e,t,...n){if(!e)throw Q_(t,...n)}function kr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Td(t),new Error(t)}function Hr(e,t){e||kr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function hU(){return QS()==="http:"||QS()==="https:"}function QS(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hU()||M$()||"connection"in navigator)?navigator.onLine:!0}function pU(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(t,n){this.shortDelay=t,this.longDelay=n,Hr(n>t,"Short delay should be less than long delay!"),this.isMobile=N$()||$$()}get(){return fU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(e,t){Hr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU=new rc(3e4,6e4);function Xr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Jr(e,t,n,r,i={}){return mk(e,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});const a=ju(Object.assign({key:e.config.apiKey},o)).slice(1),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),pk.fetch()(gk(e,e.config.apiHost,n,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},s))})}async function mk(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},mU),t);try{const i=new yU(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Zc(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zc(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Zc(e,"email-already-in-use",o);if(l==="USER_DISABLED")throw Zc(e,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw dU(e,c,u);zn(e,c)}}catch(i){if(i instanceof Qr)throw i;zn(e,"network-request-failed",{message:String(i)})}}async function ic(e,t,n,r,i={}){const s=await Jr(e,t,n,r,i);return"mfaPendingCredential"in s&&zn(e,"multi-factor-auth-required",{_serverResponse:s}),s}function gk(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?X_(e.config,i):`${e.config.apiScheme}://${i}`}function vU(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yU{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(lr(this.auth,"network-request-failed")),gU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zc(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=lr(e,t,r);return i.customData._tokenResponse=n,i}function XS(e){return e!==void 0&&e.enterprise!==void 0}class _U{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return vU(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}}async function wU(e,t){return Jr(e,"GET","/v2/recaptchaConfig",Xr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EU(e,t){return Jr(e,"POST","/v1/accounts:delete",t)}async function SU(e,t){return Jr(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function TU(e,t=!1){const n=dt(e),r=await n.getIdToken(t),i=J_(r);te(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Cl(Pm(i.auth_time)),issuedAtTime:Cl(Pm(i.iat)),expirationTime:Cl(Pm(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Pm(e){return Number(e)*1e3}function J_(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return Td("JWT malformed, contained fewer than 3 sections"),null;try{const i=xR(n);return i?JSON.parse(i):(Td("Failed to decode base64 JWT payload"),null)}catch(i){return Td("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function IU(e){const t=J_(e);return te(t,"internal-error"),te(typeof t.exp<"u","internal-error"),te(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function du(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Qr&&AU(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function AU({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cl(this.lastLoginAt),this.creationTime=Cl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dh(e){var t;const n=e.auth,r=await e.getIdToken(),i=await du(e,SU(n,{idToken:r}));te(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?kU(s.providerUserInfo):[],a=CU(e.providerData,o),l=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new vk(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,d)}async function PU(e){const t=dt(e);await Dh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function CU(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function kU(e){return e.map(t=>{var{providerId:n}=t,r=K_(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DU(e,t){const n=await mk(e,{},async()=>{const r=ju({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=gk(e,i,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",pk.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function bU(e,t){return Jr(e,"POST","/v2/accounts:revokeToken",Xr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){te(t.idToken,"internal-error"),te(typeof t.idToken<"u","internal-error"),te(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):IU(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return te(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await DU(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new hu;return r&&(te(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(te(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(te(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new hu,this.toJSON())}_performRefresh(){return kr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(e,t){te(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class ws{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,s=K_(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new RU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new vk(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await du(this,this.stsTokenManager.getToken(this.auth,t));return te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return TU(this,t)}reload(){return PU(this)}_assign(t){this!==t&&(te(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ws(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Dh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await du(this,EU(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,p=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,g=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:_,emailVerified:E,isAnonymous:S,providerData:T,stsTokenManager:I}=n;te(_&&I,t,"internal-error");const P=hu.fromJSON(this.name,I);te(typeof _=="string",t,"internal-error"),ri(d,t.name),ri(h,t.name),te(typeof E=="boolean",t,"internal-error"),te(typeof S=="boolean",t,"internal-error"),ri(f,t.name),ri(v,t.name),ri(p,t.name),ri(y,t.name),ri(m,t.name),ri(g,t.name);const b=new ws({uid:_,auth:t,email:h,emailVerified:E,displayName:d,isAnonymous:S,photoURL:v,phoneNumber:f,tenantId:p,stsTokenManager:P,createdAt:m,lastLoginAt:g});return T&&Array.isArray(T)&&(b.providerData=T.map(C=>Object.assign({},C))),y&&(b._redirectEventId=y),b}static async _fromIdTokenResponse(t,n,r=!1){const i=new hu;i.updateFromServerResponse(n);const s=new ws({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await Dh(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS=new Map;function Dr(e){Hr(e instanceof Function,"Expected a class definition");let t=JS.get(e);return t?(Hr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,JS.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}yk.type="NONE";const ZS=yk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(e,t,n){return`firebase:${e}:${t}:${n}`}class xo{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Id(this.userKey,i.apiKey,s),this.fullPersistenceKey=Id("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?ws._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new xo(Dr(ZS),t,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Dr(ZS);const o=Id(r,t.config.apiKey,t.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=ws._fromJSON(t,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new xo(s,t,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new xo(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ek(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(_k(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Tk(t))return"Blackberry";if(Ik(t))return"Webos";if(Z_(t))return"Safari";if((t.includes("chrome/")||wk(t))&&!t.includes("edge/"))return"Chrome";if(Sk(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function _k(e=Lt()){return/firefox\//i.test(e)}function Z_(e=Lt()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function wk(e=Lt()){return/crios\//i.test(e)}function Ek(e=Lt()){return/iemobile/i.test(e)}function Sk(e=Lt()){return/android/i.test(e)}function Tk(e=Lt()){return/blackberry/i.test(e)}function Ik(e=Lt()){return/webos/i.test(e)}function Kf(e=Lt()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function OU(e=Lt()){var t;return Kf(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function xU(){return L$()&&document.documentMode===10}function Ak(e=Lt()){return Kf(e)||Sk(e)||Ik(e)||Tk(e)||/windows phone/i.test(e)||Ek(e)}function NU(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(e,t=[]){let n;switch(e){case"Browser":n=eT(Lt());break;case"Worker":n=`${eT(Lt())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${pa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((o,a)=>{try{const l=t(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $U(e,t={}){return Jr(e,"GET","/v2/passwordPolicy",Xr(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LU=6;class FU{constructor(t){var n,r,i,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:LU,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tT(this),this.idTokenSubscription=new tT(this),this.beforeStateQueue=new MU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Dr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await xo.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(t);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Dh(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=pU()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?dt(t):null;return n&&te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&te(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Dr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await $U(this),n=new FU(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Vu("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await bU(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Dr(t)||this._popupRedirectResolver;te(n,this,"argument-error"),this.redirectPersistenceManager=await xo.create(this,[Dr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(te(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=t.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Rk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&cU(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Xi(e){return dt(e)}class tT{constructor(t){this.auth=t,this.observer=null,this.addObserver=W$(n=>this.observer=n)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jU(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function Pk(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const s=lr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",jU().appendChild(r)})}function UU(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const BU="https://www.google.com/recaptcha/enterprise.js?render=",zU="recaptcha-enterprise",WU="NO_RECAPTCHA";class HU{constructor(t){this.type=zU,this.auth=Xi(t)}async verify(t="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{wU(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new _U(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;XS(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:t}).then(u=>{o(u)}).catch(()=>{o(WU)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&XS(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}Pk(BU+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function nT(e,t,n,r=!1){const i=new HU(e);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function bh(e,t,n,r){var i;if(!((i=e._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await nT(e,t,n,n==="getOobCode");return r(e,s)}else return r(e,t).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await nT(e,t,n,n==="getOobCode");return r(e,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YU(e,t){const n=Ky(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(hh(s,t??{}))return i;zn(i,"already-initialized")}return n.initialize({options:t})}function qU(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Dr);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function GU(e,t,n){const r=Xi(e);te(r._canInitEmulator,r,"emulator-config-failed"),te(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=Ck(t),{host:o,port:a}=KU(t),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||QU()}function Ck(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function KU(e){const t=Ck(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:rT(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:rT(o)}}}function rT(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function QU(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return kr("not implemented")}_getIdTokenResponse(t){return kr("not implemented")}_linkToIdToken(t,n){return kr("not implemented")}_getReauthenticationResolver(t){return kr("not implemented")}}async function XU(e,t){return Jr(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JU(e,t){return ic(e,"POST","/v1/accounts:signInWithPassword",Xr(e,t))}async function kk(e,t){return Jr(e,"POST","/v1/accounts:sendOobCode",Xr(e,t))}async function ZU(e,t){return kk(e,t)}async function e4(e,t){return kk(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t4(e,t){return ic(e,"POST","/v1/accounts:signInWithEmailLink",Xr(e,t))}async function n4(e,t){return ic(e,"POST","/v1/accounts:signInWithEmailLink",Xr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends ew{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new fu(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new fu(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bh(t,n,"signInWithPassword",JU);case"emailLink":return t4(t,{email:this._email,oobCode:this._password});default:zn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bh(t,r,"signUpPassword",XU);case"emailLink":return n4(t,{idToken:n,email:this._email,oobCode:this._password});default:zn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function No(e,t){return ic(e,"POST","/v1/accounts:signInWithIdp",Xr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4="http://localhost";class Ns extends ew{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ns(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,s=K_(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ns(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return No(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,No(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,No(t,n)}buildRequest(){const t={requestUri:r4,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=ju(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function s4(e){const t=sl(ol(e)).link,n=t?sl(ol(t)).deep_link_id:null,r=sl(ol(e)).deep_link_id;return(r?sl(ol(r)).link:null)||r||n||t||e}class tw{constructor(t){var n,r,i,s,o,a;const l=sl(ol(t)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=i4((i=l.mode)!==null&&i!==void 0?i:null);te(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(t){const n=s4(t);try{return new tw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(){this.providerId=Sa.PROVIDER_ID}static credential(t,n){return fu._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=tw.parseLink(n);return te(r,"argument-error"),fu._fromEmailAndCode(t,r.code,r.tenantId)}}Sa.PROVIDER_ID="password";Sa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Sa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc extends Dk{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends sc{constructor(){super("facebook.com")}static credential(t){return Ns._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return di.credentialFromTaggedObject(t)}static credentialFromError(t){return di.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return di.credential(t.oauthAccessToken)}catch{return null}}}di.FACEBOOK_SIGN_IN_METHOD="facebook.com";di.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends sc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ns._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return hi.credentialFromTaggedObject(t)}static credentialFromError(t){return hi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return hi.credential(n,r)}catch{return null}}}hi.GOOGLE_SIGN_IN_METHOD="google.com";hi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends sc{constructor(){super("github.com")}static credential(t){return Ns._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return fi.credentialFromTaggedObject(t)}static credentialFromError(t){return fi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return fi.credential(t.oauthAccessToken)}catch{return null}}}fi.GITHUB_SIGN_IN_METHOD="github.com";fi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends sc{constructor(){super("twitter.com")}static credential(t,n){return Ns._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return pi.credentialFromTaggedObject(t)}static credentialFromError(t){return pi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return pi.credential(n,r)}catch{return null}}}pi.TWITTER_SIGN_IN_METHOD="twitter.com";pi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o4(e,t){return ic(e,"POST","/v1/accounts:signUp",Xr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const s=await ws._fromIdTokenResponse(t,r,i),o=iT(r);return new Ms({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=iT(r);return new Ms({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function iT(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh extends Qr{constructor(t,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Oh.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new Oh(t,n,r,i)}}function bk(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Oh._fromErrorAndOperation(e,s,t,r):s})}async function a4(e,t,n=!1){const r=await du(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ms._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l4(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const s=await du(e,bk(r,i,t,e),n);te(s.idToken,r,"internal-error");const o=J_(s.idToken);te(o,r,"internal-error");const{sub:a}=o;return te(e.uid===a,r,"user-mismatch"),Ms._forOperation(e,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&zn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ok(e,t,n=!1){const r="signIn",i=await bk(e,r,t),s=await Ms._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function u4(e,t){return Ok(Xi(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(e,t,n){var r;te(((r=n.url)===null||r===void 0?void 0:r.length)>0,e,"invalid-continue-uri"),te(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(te(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(te(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nk(e){const t=Xi(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function c4(e,t,n){const r=Xi(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&xk(r,i,n),await bh(r,i,"getOobCode",e4)}async function d4(e,t,n){const r=Xi(e),o=await bh(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",o4).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Nk(e),l}),a=await Ms._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function h4(e,t,n){return u4(dt(e),Sa.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Nk(e),r})}async function Mk(e,t){const n=dt(e),i={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&xk(n.auth,i,t);const{email:s}=await ZU(n.auth,i);s!==e.email&&await e.reload()}function f4(e,t,n,r){return dt(e).onIdTokenChanged(t,n,r)}function p4(e,t,n){return dt(e).beforeAuthStateChanged(t,n)}const xh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xh,"1"),this.storage.removeItem(xh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(){const e=Lt();return Z_(e)||Kf(e)}const g4=1e3,v4=10;class Lk extends $k{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=m4()&&NU(),this.fallbackToPolling=Ak(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(t.newValue!==o)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);xU()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,v4):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},g4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Lk.type="LOCAL";const y4=Lk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk extends $k{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Fk.type="SESSION";const Vk=Fk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new Qf(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await _4(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=nw("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(){return window}function E4(e){ur().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(){return typeof ur().WorkerGlobalScope<"u"&&typeof ur().importScripts=="function"}async function S4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function T4(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function I4(){return jk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk="firebaseLocalStorageDb",A4=1,Nh="firebaseLocalStorage",Bk="fbase_key";class oc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xf(e,t){return e.transaction([Nh],t?"readwrite":"readonly").objectStore(Nh)}function R4(){const e=indexedDB.deleteDatabase(Uk);return new oc(e).toPromise()}function Sv(){const e=indexedDB.open(Uk,A4);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(Nh,{keyPath:Bk})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(Nh)?t(r):(r.close(),await R4(),t(await Sv()))})})}async function sT(e,t,n){const r=Xf(e,!0).put({[Bk]:t,value:n});return new oc(r).toPromise()}async function P4(e,t){const n=Xf(e,!1).get(t),r=await new oc(n).toPromise();return r===void 0?null:r.value}function oT(e,t){const n=Xf(e,!0).delete(t);return new oc(n).toPromise()}const C4=800,k4=3;class zk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sv(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>k4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qf._getInstance(I4()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await S4(),!this.activeServiceWorker)return;this.sender=new w4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||T4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Sv();return await sT(t,xh,"1"),await oT(t,xh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>sT(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>P4(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>oT(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=Xf(i,!1).getAll();return new oc(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),C4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zk.type="LOCAL";const D4=zk;new rc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b4(e,t){return t?Dr(t):(te(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw extends ew{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return No(t,this._buildIdpRequest())}_linkToIdToken(t,n){return No(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return No(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function O4(e){return Ok(e.auth,new rw(e),e.bypassAuthState)}function x4(e){const{auth:t,user:n}=e;return te(n,t,"internal-error"),l4(n,new rw(e),e.bypassAuthState)}async function N4(e){const{auth:t,user:n}=e;return te(n,t,"internal-error"),a4(n,new rw(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return O4;case"linkViaPopup":case"linkViaRedirect":return N4;case"reauthViaPopup":case"reauthViaRedirect":return x4;default:zn(this.auth,"internal-error")}}resolve(t){Hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4=new rc(2e3,1e4);class So extends Wk{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,So.currentPopupAction&&So.currentPopupAction.cancel(),So.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return te(t,this.auth,"internal-error"),t}async onExecution(){Hr(this.filter.length===1,"Popup operations only handle one event");const t=nw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,So.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,M4.get())};t()}}So.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4="pendingRedirect",Ad=new Map;class L4 extends Wk{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Ad.get(this.auth._key());if(!t){try{const r=await F4(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Ad.set(this.auth._key(),t)}return this.bypassAuthState||Ad.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function F4(e,t){const n=U4(t),r=j4(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function V4(e,t){Ad.set(e._key(),t)}function j4(e){return Dr(e._redirectPersistence)}function U4(e){return Id($4,e.config.apiKey,e.name)}async function B4(e,t,n=!1){const r=Xi(e),i=b4(r,t),o=await new L4(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4=10*60*1e3;class W4{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!H4(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!Hk(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(lr(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=z4&&this.cachedEventUids.clear(),this.cachedEventUids.has(aT(t))}saveEventToCache(t){this.cachedEventUids.add(aT(t)),this.lastProcessedEventTime=Date.now()}}function aT(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function Hk({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function H4(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hk(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y4(e,t={}){return Jr(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,G4=/^https?/;async function K4(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Y4(e);for(const n of t)try{if(Q4(n))return}catch{}zn(e,"unauthorized-domain")}function Q4(e){const t=Ev(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!G4.test(n))return!1;if(q4.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4=new rc(3e4,6e4);function lT(){const e=ur().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function J4(e){return new Promise((t,n)=>{var r,i,s;function o(){lT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{lT(),n(lr(e,"network-request-failed"))},timeout:X4.get()})}if(!((i=(r=ur().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((s=ur().gapi)===null||s===void 0)&&s.load)o();else{const a=UU("iframefcb");return ur()[a]=()=>{gapi.load?o():n(lr(e,"network-request-failed"))},Pk(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw Rd=null,t})}let Rd=null;function Z4(e){return Rd=Rd||J4(e),Rd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3=new rc(5e3,15e3),t3="__/auth/iframe",n3="emulator/auth/iframe",r3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},i3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function s3(e){const t=e.config;te(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?X_(t,n3):`https://${e.config.authDomain}/${t3}`,r={apiKey:t.apiKey,appName:e.name,v:pa},i=i3.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ju(r).slice(1)}`}async function o3(e){const t=await Z4(e),n=ur().gapi;return te(n,e,"internal-error"),t.open({where:document.body,url:s3(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:r3,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=lr(e,"network-request-failed"),a=ur().setTimeout(()=>{s(o)},e3.get());function l(){ur().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},l3=500,u3=600,c3="_blank",d3="http://localhost";class uT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function h3(e,t,n,r=l3,i=u3){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},a3),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Lt().toLowerCase();n&&(a=wk(u)?c3:n),_k(u)&&(t=t||d3,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[f,v])=>`${h}${f}=${v},`,"");if(OU(u)&&a!=="_self")return f3(t||"",a),new uT(null);const d=window.open(t||"",a,c);te(d,e,"popup-blocked");try{d.focus()}catch{}return new uT(d)}function f3(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3="__/auth/handler",m3="emulator/auth/handler",g3=encodeURIComponent("fac");async function cT(e,t,n,r,i,s){te(e.config.authDomain,e,"auth-domain-config-required"),te(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:pa,eventId:i};if(t instanceof Dk){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",z$(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(t instanceof sc){const c=t.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await e._getAppCheckToken(),u=l?`#${g3}=${encodeURIComponent(l)}`:"";return`${v3(e)}?${ju(a).slice(1)}${u}`}function v3({config:e}){return e.emulator?X_(e,m3):`https://${e.authDomain}/${p3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm="webStorageSupport";class y3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vk,this._completeRedirectFn=B4,this._overrideRedirectResult=V4}async _openPopup(t,n,r,i){var s;Hr((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await cT(t,n,r,Ev(),i);return h3(t,o,nw())}async _openRedirect(t,n,r,i){await this._originValidation(t);const s=await cT(t,n,r,Ev(),i);return E4(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Hr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await o3(t),r=new W4(t);return n.register("authEvent",i=>(te(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Cm,{type:Cm},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Cm];o!==void 0&&n(!!o),zn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=K4(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Ak()||Z_()||Kf()}}const _3=y3;var dT="@firebase/auth",hT="1.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E3(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function S3(e){Ho(new ks("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;te(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Rk(e)},u=new VU(r,i,s,l);return qU(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Ho(new ks("auth-internal",t=>{const n=Xi(t.getProvider("auth").getImmediate());return(r=>new w3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Oi(dT,hT,E3(e)),Oi(dT,hT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3=5*60,I3=$R("authIdTokenMaxAge")||T3;let fT=null;const A3=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>I3)return;const i=n==null?void 0:n.token;fT!==i&&(fT=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Jf(e=jR()){const t=Ky(e,"auth");if(t.isInitialized())return t.getImmediate();const n=YU(e,{popupRedirectResolver:_3,persistence:[D4,y4,Vk]}),r=$R("authTokenSyncURL");if(r){const s=A3(r);p4(n,s,()=>s(n.currentUser)),f4(n,o=>s(o))}const i=NR("auth");return i&&GU(n,`http://${i}`),n}S3("Browser");const R3={apiKey:"AIzaSyBdBh6oBgnUZJ6dROPNOp5Wwxyvrr8epLQ",authDomain:"mcgardens-bd0b1.firebaseapp.com",databaseURL:"https://mcgardens-bd0b1-default-rtdb.firebaseio.com",projectId:"mcgardens-bd0b1",storageBucket:"mcgardens-bd0b1.appspot.com",messagingSenderId:"102086093090",appId:"1:102086093090:web:f8c4183ccf4594d6eedd7b",measurementId:"G-G642QLL9KX"};VR(R3);const Ji=zj(),iw=Jf(),P3=async(e,t)=>{const n=Jf(),r=await h4(n,e,t);if(!r.user.emailVerified)throw new Error("Please verify your email before signing in.");return r},C3=async e=>{try{return await c4(iw,e),console.log("Password reset email sent successfully."),{success:!0,message:"Password reset email sent successfully."}}catch(t){return console.error("Error sending password reset email:",t),{success:!1,message:t.message}}},k3=async(e,t)=>{const n=Jf(),r=await d4(n,e,t);return await Mk(r.user),console.log("Verification email sent."),r},D3=async e=>{const n=Jf().currentUser;return n&&!n.emailVerified?(await Mk(n),{success:!0,message:"Verification email sent successfully."}):{success:!1,message:"User not found or already verified."}},b3=async()=>{const e=wa(Ji,"threads");try{const n=(await ak(e)).docs.map(r=>({...r.data(),id:r.id}));return n.sort((r,i)=>new Date(i.created_on)-new Date(r.created_on)),n.replies&&n.replies.sort((r,i)=>new Date(r.created_on)-new Date(i.created_on)),console.log("Threads from firebase: ",n),n}catch(t){throw console.error("Error fetching threads:",t),t}},O3=e=>{const t=wa(Ji,"threads"),n=aU(t,async r=>{const i=r.docs.map(s=>({...s.data(),id:s.id}));i.sort((s,o)=>new Date(o.created_on)-new Date(s.created_on)),i.replies&&i.replies.sort((s,o)=>new Date(s.created_on)-new Date(o.created_on)),e({threads:i})});return()=>{n()}},x3=async e=>{const t=wa(Ji,"threads");try{await uk(t,e),console.log("Thread added successfully:",e)}catch(n){throw console.error("Error adding thread:",n),n}},N3=async e=>{try{const t=V_(Ji,"threads",e.threadId);await lk(t,{replies:dk(e)}),console.log("Thread updated with new reply.")}catch(t){throw console.error("Error adding reply:",t),t}},Yk=async e=>{const t=wa(Ji,"calendar"),n=nU(t,rU("user","==",e));try{const i=(await ak(n)).docs.map(s=>{const o=s.data(),a=o.startDate.toDate(),l=o.endDate.toDate(),u=a.toISOString().slice(0,16),c=l.toISOString().slice(0,16),d=o.comments||[];return{...o,startDate:u,endDate:c,comments:d,docID:s.id}});return console.log("from back: ",i),i}catch(r){throw console.error("Error fetching events",r),r}},M3=async(e,t)=>{try{const n=V_(Ji,"calendar",e);await lk(n,{comments:dk(t)}),console.log("Comment added successfully!")}catch(n){throw console.error("Error adding comment:",n),n}},$3=async e=>{const t=wa(Ji,"calendar").doc(e);try{await deleteDoc(t),console.log("Event deleted successfully:",eventID)}catch(n){throw console.error("Error deleting event:",n),n}},L3=async({username:e,title:t,start:n,end:r})=>{if(console.log("params passed:",e,t,n,r),!e||!t||!n||!r)throw new Error("Missing required parameters");const i=wa(Ji,"calendar"),s={user:e,title:t,startDate:Je.fromDate(n),endDate:Je.fromDate(r),comments:[]};try{const o=await uk(i,s);return console.log("Event added successfully:",s),console.log("Event has docId:",o.id),o.id}catch(o){throw console.error("Error adding event:",o),o}},Mh=()=>{const e=iw.currentUser;return e?e.email.split("@")[0]:null},F3=()=>{const[e,t]=R.useState([]),[n,r]=R.useState(!1),[i,s]=R.useState(""),[o,a]=R.useState(""),[l,u]=R.useState(""),[c,d]=R.useState("");R.useEffect(()=>{(async()=>{try{const g=await b3();t(g);const _=await Mh();console.log("Current User:",_),d(_)}catch(g){console.error("Error fetching data:",g)}})();const m=O3(({threads:g})=>{console.log("Listening..."),g&&t(g)});return()=>{m()}},[]);const h=()=>{r(!0)},f=async y=>{y.preventDefault();const m=new Date,g={id:ME(),title:i,text:o,author:c,created_on:m.toLocaleString()};try{await x3(g),console.log("New Thread added successfully:",g)}catch(_){console.error("Error adding thread:",_)}s(""),a(""),r(!1)},v=async(y,m)=>{y.preventDefault();const g=new Date,_={id:ME(),threadId:m.id,title:"RE:"+m.title,text:l,author:c,created_on:g.toLocaleString()};try{await N3(_),console.log("Reply successfully added to DB:",_),u("")}catch(E){console.error("Error adding reply:",E)}},p=()=>{s(""),a(""),r(!1)};return w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"top-nav",children:w.jsx(qi,{})}),w.jsxs("main",{className:"home",children:[!n&&w.jsx("button",{className:"create-thread-btn",onClick:h,children:"CREATE THREAD"}),n&&w.jsxs("form",{className:"create-thread-form",onSubmit:f,children:[w.jsx("h2",{className:"create-title",children:"Create a Thread"}),w.jsxs("div",{className:"create-thread-container",children:[w.jsx("label",{htmlFor:"threadTitle",children:"Title"}),w.jsx("input",{type:"text",id:"threadTitle",name:"threadTitle",required:!0,value:i,onChange:y=>s(y.target.value)}),w.jsx("p",{}),w.jsx("label",{htmlFor:"threadText",children:"Text"}),w.jsx("input",{type:"text",id:"threadText",name:"threadText",required:!0,value:o,onChange:y=>a(y.target.value)})]}),w.jsx("button",{className:"submit-btn",children:"SUBMIT THREAD"}),w.jsx("button",{className:"cancel-btn",onClick:p,children:"CANCEL POST"})]}),w.jsxs("div",{className:"thread-flex-container",children:[w.jsx("h2",{className:"home-title",children:"Check out these posts!"}),e.length===0?w.jsx("p",{children:"NO THREADS HAVE BEEN POSTED, BE THE FIRST!"}):e.map(y=>w.jsxs("div",{className:"thread-container",children:[w.jsxs("div",{className:"thread-contents",children:[w.jsxs("div",{className:"thread-info",children:[w.jsx("p",{className:"thread-title",children:y.title}),w.jsx("p",{className:"thread-author",children:y.author}),w.jsx("div",{className:"thread-date",children:w.jsxs("p",{className:"date",children:["Created On: ",y.created_on]})})]}),w.jsx("div",{className:"thread-text",children:y.text})]}),w.jsxs("div",{className:"replies-container",children:[w.jsx("div",{className:"reply-count",children:w.jsxs("p",{className:"reply-count-text",children:["Replies: ",y.replies?y.replies.length:0]})}),y.replies&&y.replies.length>0?y.replies.map(m=>w.jsx("div",{className:"reply-container",children:w.jsxs("div",{className:"reply-contents",children:[w.jsxs("div",{className:"reply-info",children:[w.jsx("p",{className:"reply-title",children:m.title}),w.jsx("p",{className:"reply-author",children:m.author}),w.jsx("div",{className:"reply-date",children:w.jsxs("p",{className:"date",children:["Created On: ",m.created_on]})})]}),w.jsx("div",{className:"reply-text",children:m.text})]})},m.id)):w.jsx("p",{children:"NO REPLIES YET! BE THE FIRST!"}),w.jsxs("form",{className:"create-reply-form",onSubmit:m=>v(m,y),children:[w.jsx("h2",{className:"create-reply-title",children:"Create a Reply"}),w.jsxs("div",{className:"create-reply-container",children:[w.jsx("label",{htmlFor:`replyText-${y.id}`,children:"Text"}),w.jsx("input",{type:"text",id:`replyText-${y.id}`,name:"replyText",required:!0,value:l,onChange:m=>u(m.target.value)})]}),w.jsx("button",{className:"submit-btn",children:"SUBMIT REPLY"})]})]})]},y.id))]})]})]})};function qk(e,t){return function(){return e.apply(t,arguments)}}const{toString:V3}=Object.prototype,{getPrototypeOf:sw}=Object,Zf=(e=>t=>{const n=V3.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),mr=e=>(e=e.toLowerCase(),t=>Zf(t)===e),ep=e=>t=>typeof t===e,{isArray:Ta}=Array,pu=ep("undefined");function j3(e){return e!==null&&!pu(e)&&e.constructor!==null&&!pu(e.constructor)&&Tn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Gk=mr("ArrayBuffer");function U3(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Gk(e.buffer),t}const B3=ep("string"),Tn=ep("function"),Kk=ep("number"),tp=e=>e!==null&&typeof e=="object",z3=e=>e===!0||e===!1,Pd=e=>{if(Zf(e)!=="object")return!1;const t=sw(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},W3=mr("Date"),H3=mr("File"),Y3=mr("Blob"),q3=mr("FileList"),G3=e=>tp(e)&&Tn(e.pipe),K3=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Tn(e.append)&&((t=Zf(e))==="formdata"||t==="object"&&Tn(e.toString)&&e.toString()==="[object FormData]"))},Q3=mr("URLSearchParams"),X3=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ac(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),Ta(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const s=n?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let a;for(r=0;r<o;r++)a=s[r],t.call(null,e[a],a,e)}}function Qk(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const Xk=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Jk=e=>!pu(e)&&e!==Xk;function Tv(){const{caseless:e}=Jk(this)&&this||{},t={},n=(r,i)=>{const s=e&&Qk(t,i)||i;Pd(t[s])&&Pd(r)?t[s]=Tv(t[s],r):Pd(r)?t[s]=Tv({},r):Ta(r)?t[s]=r.slice():t[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&ac(arguments[r],n);return t}const J3=(e,t,n,{allOwnKeys:r}={})=>(ac(t,(i,s)=>{n&&Tn(i)?e[s]=qk(i,n):e[s]=i},{allOwnKeys:r}),e),Z3=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),eB=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},tB=(e,t,n,r)=>{let i,s,o;const a={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)o=i[s],(!r||r(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=n!==!1&&sw(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},nB=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},rB=e=>{if(!e)return null;if(Ta(e))return e;let t=e.length;if(!Kk(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},iB=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&sw(Uint8Array)),sB=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=r.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},oB=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},aB=mr("HTMLFormElement"),lB=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),pT=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),uB=mr("RegExp"),Zk=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};ac(n,(i,s)=>{let o;(o=t(i,s,e))!==!1&&(r[s]=o||i)}),Object.defineProperties(e,r)},cB=e=>{Zk(e,(t,n)=>{if(Tn(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Tn(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},dB=(e,t)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Ta(e)?r(e):r(String(e).split(t)),n},hB=()=>{},fB=(e,t)=>(e=+e,Number.isFinite(e)?e:t),km="abcdefghijklmnopqrstuvwxyz",mT="0123456789",eD={DIGIT:mT,ALPHA:km,ALPHA_DIGIT:km+km.toUpperCase()+mT},pB=(e=16,t=eD.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function mB(e){return!!(e&&Tn(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const gB=e=>{const t=new Array(10),n=(r,i)=>{if(tp(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[i]=r;const s=Ta(r)?[]:{};return ac(r,(o,a)=>{const l=n(o,i+1);!pu(l)&&(s[a]=l)}),t[i]=void 0,s}}return r};return n(e,0)},vB=mr("AsyncFunction"),yB=e=>e&&(tp(e)||Tn(e))&&Tn(e.then)&&Tn(e.catch),D={isArray:Ta,isArrayBuffer:Gk,isBuffer:j3,isFormData:K3,isArrayBufferView:U3,isString:B3,isNumber:Kk,isBoolean:z3,isObject:tp,isPlainObject:Pd,isUndefined:pu,isDate:W3,isFile:H3,isBlob:Y3,isRegExp:uB,isFunction:Tn,isStream:G3,isURLSearchParams:Q3,isTypedArray:iB,isFileList:q3,forEach:ac,merge:Tv,extend:J3,trim:X3,stripBOM:Z3,inherits:eB,toFlatObject:tB,kindOf:Zf,kindOfTest:mr,endsWith:nB,toArray:rB,forEachEntry:sB,matchAll:oB,isHTMLForm:aB,hasOwnProperty:pT,hasOwnProp:pT,reduceDescriptors:Zk,freezeMethods:cB,toObjectSet:dB,toCamelCase:lB,noop:hB,toFiniteNumber:fB,findKey:Qk,global:Xk,isContextDefined:Jk,ALPHABET:eD,generateString:pB,isSpecCompliantForm:mB,toJSONObject:gB,isAsyncFn:vB,isThenable:yB};function me(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}D.inherits(me,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:D.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const tD=me.prototype,nD={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{nD[e]={value:e}});Object.defineProperties(me,nD);Object.defineProperty(tD,"isAxiosError",{value:!0});me.from=(e,t,n,r,i,s)=>{const o=Object.create(tD);return D.toFlatObject(e,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),me.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};const _B=null;function Iv(e){return D.isPlainObject(e)||D.isArray(e)}function rD(e){return D.endsWith(e,"[]")?e.slice(0,-2):e}function gT(e,t,n){return e?e.concat(t).map(function(i,s){return i=rD(i),!n&&s?"["+i+"]":i}).join(n?".":""):t}function wB(e){return D.isArray(e)&&!e.some(Iv)}const EB=D.toFlatObject(D,{},null,function(t){return/^is[A-Z]/.test(t)});function np(e,t,n){if(!D.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=D.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,y){return!D.isUndefined(y[p])});const r=n.metaTokens,i=n.visitor||c,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&D.isSpecCompliantForm(t);if(!D.isFunction(i))throw new TypeError("visitor must be a function");function u(v){if(v===null)return"";if(D.isDate(v))return v.toISOString();if(!l&&D.isBlob(v))throw new me("Blob is not supported. Use a Buffer instead.");return D.isArrayBuffer(v)||D.isTypedArray(v)?l&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function c(v,p,y){let m=v;if(v&&!y&&typeof v=="object"){if(D.endsWith(p,"{}"))p=r?p:p.slice(0,-2),v=JSON.stringify(v);else if(D.isArray(v)&&wB(v)||(D.isFileList(v)||D.endsWith(p,"[]"))&&(m=D.toArray(v)))return p=rD(p),m.forEach(function(_,E){!(D.isUndefined(_)||_===null)&&t.append(o===!0?gT([p],E,s):o===null?p:p+"[]",u(_))}),!1}return Iv(v)?!0:(t.append(gT(y,p,s),u(v)),!1)}const d=[],h=Object.assign(EB,{defaultVisitor:c,convertValue:u,isVisitable:Iv});function f(v,p){if(!D.isUndefined(v)){if(d.indexOf(v)!==-1)throw Error("Circular reference detected in "+p.join("."));d.push(v),D.forEach(v,function(m,g){(!(D.isUndefined(m)||m===null)&&i.call(t,m,D.isString(g)?g.trim():g,p,h))===!0&&f(m,p?p.concat(g):[g])}),d.pop()}}if(!D.isObject(e))throw new TypeError("data must be an object");return f(e),t}function vT(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function ow(e,t){this._pairs=[],e&&np(e,this,t)}const iD=ow.prototype;iD.append=function(t,n){this._pairs.push([t,n])};iD.toString=function(t){const n=t?function(r){return t.call(this,r,vT)}:vT;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function SB(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function sD(e,t,n){if(!t)return e;const r=n&&n.encode||SB,i=n&&n.serialize;let s;if(i?s=i(t,n):s=D.isURLSearchParams(t)?t.toString():new ow(t,n).toString(r),s){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class yT{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){D.forEach(this.handlers,function(r){r!==null&&t(r)})}}const oD={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},TB=typeof URLSearchParams<"u"?URLSearchParams:ow,IB=typeof FormData<"u"?FormData:null,AB=typeof Blob<"u"?Blob:null,RB={isBrowser:!0,classes:{URLSearchParams:TB,FormData:IB,Blob:AB},protocols:["http","https","file","blob","url","data"]},aD=typeof window<"u"&&typeof document<"u",PB=(e=>aD&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),CB=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",kB=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:aD,hasStandardBrowserEnv:PB,hasStandardBrowserWebWorkerEnv:CB},Symbol.toStringTag,{value:"Module"})),nr={...kB,...RB};function DB(e,t){return np(e,new nr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return nr.isNode&&D.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function bB(e){return D.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function OB(e){const t={},n=Object.keys(e);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],t[s]=e[s];return t}function lD(e){function t(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&D.isArray(i)?i.length:o,l?(D.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!D.isObject(i[o]))&&(i[o]=[]),t(n,r,i[o],s)&&D.isArray(i[o])&&(i[o]=OB(i[o])),!a)}if(D.isFormData(e)&&D.isFunction(e.entries)){const n={};return D.forEachEntry(e,(r,i)=>{t(bB(r),i,n,0)}),n}return null}function xB(e,t,n){if(D.isString(e))try{return(t||JSON.parse)(e),D.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const aw={transitional:oD,adapter:["xhr","http"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=D.isObject(t);if(s&&D.isHTMLForm(t)&&(t=new FormData(t)),D.isFormData(t))return i?JSON.stringify(lD(t)):t;if(D.isArrayBuffer(t)||D.isBuffer(t)||D.isStream(t)||D.isFile(t)||D.isBlob(t))return t;if(D.isArrayBufferView(t))return t.buffer;if(D.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return DB(t,this.formSerializer).toString();if((a=D.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return np(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),xB(t)):t}],transformResponse:[function(t){const n=this.transitional||aw.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(t&&D.isString(t)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?me.from(a,me.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:nr.classes.FormData,Blob:nr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};D.forEach(["delete","get","head","post","put","patch"],e=>{aw.headers[e]={}});const lw=aw,NB=D.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),MB=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||t[n]&&NB[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},_T=Symbol("internals");function Ka(e){return e&&String(e).trim().toLowerCase()}function Cd(e){return e===!1||e==null?e:D.isArray(e)?e.map(Cd):String(e)}function $B(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const LB=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Dm(e,t,n,r,i){if(D.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!D.isString(t)){if(D.isString(r))return t.indexOf(r)!==-1;if(D.isRegExp(r))return r.test(t)}}function FB(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function VB(e,t){const n=D.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,s,o){return this[r].call(this,t,i,s,o)},configurable:!0})})}class rp{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function s(a,l,u){const c=Ka(l);if(!c)throw new Error("header name must be a non-empty string");const d=D.findKey(i,c);(!d||i[d]===void 0||u===!0||u===void 0&&i[d]!==!1)&&(i[d||l]=Cd(a))}const o=(a,l)=>D.forEach(a,(u,c)=>s(u,c,l));return D.isPlainObject(t)||t instanceof this.constructor?o(t,n):D.isString(t)&&(t=t.trim())&&!LB(t)?o(MB(t),n):t!=null&&s(n,t,r),this}get(t,n){if(t=Ka(t),t){const r=D.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return $B(i);if(D.isFunction(n))return n.call(this,i,r);if(D.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Ka(t),t){const r=D.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Dm(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function s(o){if(o=Ka(o),o){const a=D.findKey(r,o);a&&(!n||Dm(r,r[a],a,n))&&(delete r[a],i=!0)}}return D.isArray(t)?t.forEach(s):s(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!t||Dm(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const n=this,r={};return D.forEach(this,(i,s)=>{const o=D.findKey(r,s);if(o){n[o]=Cd(i),delete n[s];return}const a=t?FB(s):String(s).trim();a!==s&&delete n[s],n[a]=Cd(i),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return D.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&D.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[_T]=this[_T]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Ka(o);r[a]||(VB(i,o),r[a]=!0)}return D.isArray(t)?t.forEach(s):s(t),this}}rp.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);D.reduceDescriptors(rp.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});D.freezeMethods(rp);const Mr=rp;function bm(e,t){const n=this||lw,r=t||n,i=Mr.from(r.headers);let s=r.data;return D.forEach(e,function(a){s=a.call(n,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function uD(e){return!!(e&&e.__CANCEL__)}function lc(e,t,n){me.call(this,e??"canceled",me.ERR_CANCELED,t,n),this.name="CanceledError"}D.inherits(lc,me,{__CANCEL__:!0});function jB(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new me("Request failed with status code "+n.status,[me.ERR_BAD_REQUEST,me.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const UB=nr.hasStandardBrowserEnv?{write(e,t,n,r,i,s){const o=[e+"="+encodeURIComponent(t)];D.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),D.isString(r)&&o.push("path="+r),D.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function BB(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function zB(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function cD(e,t){return e&&!BB(t)?zB(e,t):t}const WB=nr.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return t&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=D.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function HB(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function YB(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,s=0,o;return t=t!==void 0?t:1e3,function(l){const u=Date.now(),c=r[s];o||(o=u),n[i]=l,r[i]=u;let d=s,h=0;for(;d!==i;)h+=n[d++],d=d%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),u-o<t)return;const f=c&&u-c;return f?Math.round(h*1e3/f):void 0}}function wT(e,t){let n=0;const r=YB(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-n,l=r(a),u=s<=o;n=s;const c={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&u?(o-s)/l:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}const qB=typeof XMLHttpRequest<"u",GB=qB&&function(e){return new Promise(function(n,r){let i=e.data;const s=Mr.from(e.headers).normalize();let{responseType:o,withXSRFToken:a}=e,l;function u(){e.cancelToken&&e.cancelToken.unsubscribe(l),e.signal&&e.signal.removeEventListener("abort",l)}let c;if(D.isFormData(i)){if(nr.hasStandardBrowserEnv||nr.hasStandardBrowserWebWorkerEnv)s.setContentType(!1);else if((c=s.getContentType())!==!1){const[p,...y]=c?c.split(";").map(m=>m.trim()).filter(Boolean):[];s.setContentType([p||"multipart/form-data",...y].join("; "))}}let d=new XMLHttpRequest;if(e.auth){const p=e.auth.username||"",y=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";s.set("Authorization","Basic "+btoa(p+":"+y))}const h=cD(e.baseURL,e.url);d.open(e.method.toUpperCase(),sD(h,e.params,e.paramsSerializer),!0),d.timeout=e.timeout;function f(){if(!d)return;const p=Mr.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders()),m={data:!o||o==="text"||o==="json"?d.responseText:d.response,status:d.status,statusText:d.statusText,headers:p,config:e,request:d};jB(function(_){n(_),u()},function(_){r(_),u()},m),d=null}if("onloadend"in d?d.onloadend=f:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(f)},d.onabort=function(){d&&(r(new me("Request aborted",me.ECONNABORTED,e,d)),d=null)},d.onerror=function(){r(new me("Network Error",me.ERR_NETWORK,e,d)),d=null},d.ontimeout=function(){let y=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const m=e.transitional||oD;e.timeoutErrorMessage&&(y=e.timeoutErrorMessage),r(new me(y,m.clarifyTimeoutError?me.ETIMEDOUT:me.ECONNABORTED,e,d)),d=null},nr.hasStandardBrowserEnv&&(a&&D.isFunction(a)&&(a=a(e)),a||a!==!1&&WB(h))){const p=e.xsrfHeaderName&&e.xsrfCookieName&&UB.read(e.xsrfCookieName);p&&s.set(e.xsrfHeaderName,p)}i===void 0&&s.setContentType(null),"setRequestHeader"in d&&D.forEach(s.toJSON(),function(y,m){d.setRequestHeader(m,y)}),D.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),o&&o!=="json"&&(d.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&d.addEventListener("progress",wT(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",wT(e.onUploadProgress)),(e.cancelToken||e.signal)&&(l=p=>{d&&(r(!p||p.type?new lc(null,e,d):p),d.abort(),d=null)},e.cancelToken&&e.cancelToken.subscribe(l),e.signal&&(e.signal.aborted?l():e.signal.addEventListener("abort",l)));const v=HB(h);if(v&&nr.protocols.indexOf(v)===-1){r(new me("Unsupported protocol "+v+":",me.ERR_BAD_REQUEST,e));return}d.send(i||null)})},Av={http:_B,xhr:GB};D.forEach(Av,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const ET=e=>`- ${e}`,KB=e=>D.isFunction(e)||e===null||e===!1,dD={getAdapter:e=>{e=D.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let s=0;s<t;s++){n=e[s];let o;if(r=n,!KB(n)&&(r=Av[(o=String(n)).toLowerCase()],r===void 0))throw new me(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?s.length>1?`since :
`+s.map(ET).join(`
`):" "+ET(s[0]):"as no adapter specified";throw new me("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Av};function Om(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new lc(null,e)}function ST(e){return Om(e),e.headers=Mr.from(e.headers),e.data=bm.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),dD.getAdapter(e.adapter||lw.adapter)(e).then(function(r){return Om(e),r.data=bm.call(e,e.transformResponse,r),r.headers=Mr.from(r.headers),r},function(r){return uD(r)||(Om(e),r&&r.response&&(r.response.data=bm.call(e,e.transformResponse,r.response),r.response.headers=Mr.from(r.response.headers))),Promise.reject(r)})}const TT=e=>e instanceof Mr?{...e}:e;function na(e,t){t=t||{};const n={};function r(u,c,d){return D.isPlainObject(u)&&D.isPlainObject(c)?D.merge.call({caseless:d},u,c):D.isPlainObject(c)?D.merge({},c):D.isArray(c)?c.slice():c}function i(u,c,d){if(D.isUndefined(c)){if(!D.isUndefined(u))return r(void 0,u,d)}else return r(u,c,d)}function s(u,c){if(!D.isUndefined(c))return r(void 0,c)}function o(u,c){if(D.isUndefined(c)){if(!D.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function a(u,c,d){if(d in t)return r(u,c);if(d in e)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c)=>i(TT(u),TT(c),!0)};return D.forEach(Object.keys(Object.assign({},e,t)),function(c){const d=l[c]||i,h=d(e[c],t[c],c);D.isUndefined(h)&&d!==a||(n[c]=h)}),n}const hD="1.6.8",uw={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{uw[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const IT={};uw.transitional=function(t,n,r){function i(s,o){return"[Axios v"+hD+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(t===!1)throw new me(i(o," has been removed"+(n?" in "+n:"")),me.ERR_DEPRECATED);return n&&!IT[o]&&(IT[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(s,o,a):!0}};function QB(e,t,n){if(typeof e!="object")throw new me("options must be an object",me.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],o=t[s];if(o){const a=e[s],l=a===void 0||o(a,s,e);if(l!==!0)throw new me("option "+s+" must be "+l,me.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new me("Unknown option "+s,me.ERR_BAD_OPTION)}}const Rv={assertOptions:QB,validators:uw},ii=Rv.validators;class $h{constructor(t){this.defaults=t,this.interceptors={request:new yT,response:new yT}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=na(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Rv.assertOptions(r,{silentJSONParsing:ii.transitional(ii.boolean),forcedJSONParsing:ii.transitional(ii.boolean),clarifyTimeoutError:ii.transitional(ii.boolean)},!1),i!=null&&(D.isFunction(i)?n.paramsSerializer={serialize:i}:Rv.assertOptions(i,{encode:ii.function,serialize:ii.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&D.merge(s.common,s[n.method]);s&&D.forEach(["delete","get","head","post","put","patch","common"],v=>{delete s[v]}),n.headers=Mr.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(n)===!1||(l=l&&p.synchronous,a.unshift(p.fulfilled,p.rejected))});const u=[];this.interceptors.response.forEach(function(p){u.push(p.fulfilled,p.rejected)});let c,d=0,h;if(!l){const v=[ST.bind(this),void 0];for(v.unshift.apply(v,a),v.push.apply(v,u),h=v.length,c=Promise.resolve(n);d<h;)c=c.then(v[d++],v[d++]);return c}h=a.length;let f=n;for(d=0;d<h;){const v=a[d++],p=a[d++];try{f=v(f)}catch(y){p.call(this,y);break}}try{c=ST.call(this,f)}catch(v){return Promise.reject(v)}for(d=0,h=u.length;d<h;)c=c.then(u[d++],u[d++]);return c}getUri(t){t=na(this.defaults,t);const n=cD(t.baseURL,t.url);return sD(n,t.params,t.paramsSerializer)}}D.forEach(["delete","get","head","options"],function(t){$h.prototype[t]=function(n,r){return this.request(na(r||{},{method:t,url:n,data:(r||{}).data}))}});D.forEach(["post","put","patch"],function(t){function n(r){return function(s,o,a){return this.request(na(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}$h.prototype[t]=n(),$h.prototype[t+"Form"]=n(!0)});const kd=$h;class cw{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},t(function(s,o,a){r.reason||(r.reason=new lc(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new cw(function(i){t=i}),cancel:t}}}const XB=cw;function JB(e){return function(n){return e.apply(null,n)}}function ZB(e){return D.isObject(e)&&e.isAxiosError===!0}const Pv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Pv).forEach(([e,t])=>{Pv[t]=e});const ez=Pv;function fD(e){const t=new kd(e),n=qk(kd.prototype.request,t);return D.extend(n,kd.prototype,t,{allOwnKeys:!0}),D.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return fD(na(e,i))},n}const Ke=fD(lw);Ke.Axios=kd;Ke.CanceledError=lc;Ke.CancelToken=XB;Ke.isCancel=uD;Ke.VERSION=hD;Ke.toFormData=np;Ke.AxiosError=me;Ke.Cancel=Ke.CanceledError;Ke.all=function(t){return Promise.all(t)};Ke.spread=JB;Ke.isAxiosError=ZB;Ke.mergeConfig=na;Ke.AxiosHeaders=Mr;Ke.formToJSON=e=>lD(D.isHTMLForm(e)?new FormData(e):e);Ke.getAdapter=dD.getAdapter;Ke.HttpStatusCode=ez;Ke.default=Ke;const tz=()=>{const[e,t]=R.useState(""),[n,r]=R.useState([]),[i,s]=R.useState(!1),[o,a]=R.useState(""),l=fa(),u=h=>{t(h.target.value)},c=h=>{h.preventDefault(),s(!0),Ke.post("https://us-central1-mcgardens-bd0b1.cloudfunctions.net/askOptimalCrops/askOptimalCrops",{location:e}).then(f=>{if(s(!1),f.data&&f.data.crops){const v=f.data.crops.split(`
`).map(p=>p.trim());r(v.filter(p=>p!=="")),a(e),t("")}else r([]),console.error("No crops data found in response:",f.data)}).catch(f=>{console.error("Failed to fetch optimal plants:",f),s(!1),r([]),t("")})},d=h=>{const f=h.substring(h.indexOf(" ")+1);l(`/plant-details?query=${encodeURIComponent(f)}`)};return w.jsxs("div",{children:[w.jsx("div",{className:"top-nav",children:w.jsx(qi,{})}),w.jsxs("div",{className:"optimal-plants-container",children:[w.jsxs("div",{className:"search-bar-container",children:[w.jsx("h2",{children:"Find Optimal Plants For Your Garden"}),w.jsx("form",{onSubmit:c,children:w.jsxs("div",{className:"search-bar-parameters-container",children:[w.jsx("label",{htmlFor:"locationInput",className:"enter-location",children:"Enter your location:"}),w.jsx("input",{type:"text",className:"location-input",id:"locationInput",value:e,onChange:u,placeholder:"E.g., Riverdale, Bronx, NY",required:!0}),w.jsx("button",{type:"submit",className:"search-location",children:"Search"})]})})]}),i?w.jsx("p",{className:"enter-location-text",children:"Generating Information..."}):n.length>0?w.jsxs(w.Fragment,{children:[w.jsxs("h2",{children:["Optimal plants for ",o,":"]}),w.jsxs("div",{className:"optimal-plants-list-container",children:[w.jsx("div",{className:"column",children:n.slice(0,10).map((h,f)=>w.jsx("div",{className:"plant-entry",onClick:()=>d(h),children:h},f))}),w.jsx("div",{className:"column",children:n.slice(10,20).map((h,f)=>w.jsx("div",{className:"plant-entry",onClick:()=>d(h),children:h},f))})]})]}):w.jsx("p",{className:"enter-location-text",children:"Enter location above to get list of plants."})]})]})},nz=()=>{const[e,t]=R.useState(null);return R.useEffect(()=>{const n=async()=>{try{const{geolocation:s}=navigator;if(!s){alert("Geolocation is not supported by your browser");return}const o=await new Promise((u,c)=>{s.getCurrentPosition(u,c)});console.log(o);const{latitude:a,longitude:l}=o.coords;localStorage.setItem("userLocation",JSON.stringify({latitude:a,longitude:l})),r(a,l)}catch(s){console.error("Error getting location:",s)}},r=async(s,o)=>{try{const l=await(await fetch(`https://api.openweathermap.org/data/2.5/forecast/daily?lat=${s}&lon=${o}&cnt=1&units=imperial&appid=c2a91f3cea984faeb2c4779182b5272e`)).json(),u=l.list[0];console.log(u),t({city:l.city.name,condition:u.weather[0].main,max:u.temp.max,min:u.temp.min,icon:u.weather[0].icon})}catch(a){console.error("Error fetching weather data:",a)}},i=JSON.parse(localStorage.getItem("userLocation"));if(i){const{latitude:s,longitude:o}=i;r(s,o)}else r(40.9039,-73.9142);n()},[]),w.jsxs("div",{className:"container",children:[w.jsx("div",{className:"top-nav",children:w.jsx(qi,{})}),w.jsx("h1",{children:"Home Page"}),w.jsxs("div",{className:"giant-box",children:[w.jsx("h2",{children:"MC Farm"}),w.jsxs("div",{className:"flex-container",children:[w.jsx("div",{className:"square-box",children:w.jsx("a",{href:"/weather",style:{textDecoration:"none",color:"black",display:"inline-block",width:"100%"},children:w.jsxs("div",{className:"weather-preview",children:[w.jsx("h2",{children:"Weather"}),e?w.jsxs(w.Fragment,{children:[w.jsx("h3",{children:e.city}),w.jsx("p",{children:e.condition}),w.jsxs("p",{children:["High: ",e.max.toFixed(1),"F"]}),w.jsxs("p",{children:["Low: ",e.min.toFixed(1),"F"]})]}):w.jsx("p",{children:"Loading weather..."})]})})}),w.jsxs("div",{className:"square-box",style:{marginLeft:"10px"},children:[w.jsx("h3",{children:"Inventory"}),w.jsx("p",{children:"Corn: 188"}),w.jsx("p",{children:"Wheat: 238"}),w.jsx("p",{children:"Tomatoes: 327"})]})]}),w.jsx("a",{href:"/reminders",style:{textDecoration:"none",color:"black",display:"inline-block",width:"100%"},children:w.jsxs("div",{className:"rectangle",style:{margin:"0 auto"},children:[w.jsx("h3",{children:"Reminders"}),w.jsx("p",{children:"28 Days to harvest Corn 245"}),w.jsx("hr",{}),w.jsx("p",{children:"30 Days to sell Tomatoes"})]})})]})]})};function Yr(e){"@babel/helpers - typeof";return Yr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yr(e)}function rz(e,t){if(Yr(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Yr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pD(e){var t=rz(e,"string");return Yr(t)=="symbol"?t:t+""}function us(e,t,n){return t=pD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AT(Object(n),!0).forEach(function(r){us(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ip(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function fr(e,t){if(e==null)return{};var n=ip(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function pt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pD(r.key),r)}}function mt(e,t,n){return t&&RT(e.prototype,t),n&&RT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lh(e){return Lh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lh(e)}function mD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mD=function(){return!!e})()}function gD(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iz(e,t){if(t&&(Yr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gD(e)}function Ht(e,t,n){return t=Lh(t),iz(e,mD()?Reflect.construct(t,n||[],Lh(e).constructor):t.apply(e,n))}function Fh(e,t){return Fh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Fh(e,t)}function Yt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fh(e,t)}function vD(e){if(Array.isArray(e))return e}function sz(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function Cv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dw(e,t){if(e){if(typeof e=="string")return Cv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cv(e,t)}}function yD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ar(e,t){return vD(e)||sz(e,t)||dw(e,t)||yD()}function qe(){return qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qe.apply(this,arguments)}var oz=function(e,t,n,r,i,s,o,a){if(!e){var l;if(t===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,s,o,a],c=0;l=new Error(t.replace(/%s/g,function(){return u[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},az=oz;const mu=sn(az);var lz=function(){};function uz(e,t){var n={};return Object.keys(e).forEach(function(r){n[Dd(r)]=lz}),n}function PT(e,t){return e[t]!==void 0}function Dd(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function cz(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}function dz(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Fh(e,t)}function _D(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function wD(e){function t(n){var r=this.constructor.getDerivedStateFromProps(e,n);return r??null}this.setState(t.bind(this))}function ED(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}_D.__suppressDeprecationWarning=!0;wD.__suppressDeprecationWarning=!0;ED.__suppressDeprecationWarning=!0;function hz(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var n=null,r=null,i=null;if(typeof t.componentWillMount=="function"?n="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?i="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||r!==null||i!==null){var s=e.displayName||e.name,o=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+s+" uses "+o+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=_D,t.componentWillReceiveProps=wD),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=ED;var a=t.componentDidUpdate;t.componentDidUpdate=function(u,c,d){var h=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:d;a.call(this,u,c,h)}}return e}var fz="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function SD(e,t,n){n===void 0&&(n=[]);var r=e.displayName||e.name||"Component",i=cz(e),s=Object.keys(t),o=s.map(Dd);i||!n.length||mu(!1);var a=function(u){dz(c,u);function c(){for(var h,f=arguments.length,v=new Array(f),p=0;p<f;p++)v[p]=arguments[p];h=u.call.apply(u,[this].concat(v))||this,h.handlers=Object.create(null),s.forEach(function(m){var g=t[m],_=function(S){if(h.props[g]){var T;h._notifying=!0;for(var I=arguments.length,P=new Array(I>1?I-1:0),b=1;b<I;b++)P[b-1]=arguments[b];(T=h.props)[g].apply(T,[S].concat(P)),h._notifying=!1}h.unmounted||h.setState(function(C){var L,z=C.values;return{values:qe(Object.create(null),z,(L={},L[m]=S,L))}})};h.handlers[g]=_}),n.length&&(h.attachRef=function(m){h.inner=m});var y=Object.create(null);return s.forEach(function(m){y[m]=h.props[Dd(m)]}),h.state={values:y,prevProps:{}},h}var d=c.prototype;return d.shouldComponentUpdate=function(){return!this._notifying},c.getDerivedStateFromProps=function(f,v){var p=v.values,y=v.prevProps,m={values:qe(Object.create(null),p),prevProps:{}};return s.forEach(function(g){m.prevProps[g]=f[g],!PT(f,g)&&PT(y,g)&&(m.values[g]=f[Dd(g)])}),m},d.componentWillUnmount=function(){this.unmounted=!0},d.render=function(){var f=this,v=this.props,p=v.innerRef,y=ip(v,["innerRef"]);o.forEach(function(g){delete y[g]});var m={};return s.forEach(function(g){var _=f.props[g];m[g]=_!==void 0?_:f.state.values[g]}),A.createElement(e,qe({},y,m,this.handlers,{ref:p||this.attachRef}))},c}(A.Component);hz(a),a.displayName="Uncontrolled("+r+")",a.propTypes=qe({innerRef:function(){}},uz(t)),n.forEach(function(u){a.prototype[u]=function(){var d;return(d=this.inner)[u].apply(d,arguments)}});var l=a;return A.forwardRef&&(l=A.forwardRef(function(u,c){return A.createElement(a,qe({},u,{innerRef:c,__source:{fileName:fz,lineNumber:128},__self:this}))}),l.propTypes=a.propTypes),l.ControlledComponent=e,l.deferControlTo=function(u,c,d){return c===void 0&&(c={}),SD(u,qe({},t,c),d)},l}function TD(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=TD(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function at(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=TD(e))&&(r&&(r+=" "),r+=t);return r}var ID={exports:{}},pz="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",mz=pz,gz=mz;function AD(){}function RD(){}RD.resetWarningCache=AD;var vz=function(){function e(r,i,s,o,a,l){if(l!==gz){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:RD,resetWarningCache:AD};return n.PropTypes=n,n};ID.exports=vz();var yz=ID.exports;const F=sn(yz);var Vh="milliseconds",gu="seconds",vu="minutes",yu="hours",$s="day",ra="week",_u="month",Ls="year",Fs="decade",Vs="century",PD={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},_z={month:1,year:12,decade:10*12,century:100*12};function wz(e){return[31,Ez(e),31,30,31,30,31,31,30,31,30,31]}function Ez(e){return e%4===0&&e%100!==0||e%400===0?29:28}function Wn(e,t,n){switch(e=new Date(e),n){case Vh:case gu:case vu:case yu:case $s:case ra:return Sz(e,t*PD[n]);case _u:case Ls:case Fs:case Vs:return Tz(e,t*_z[n])}throw new TypeError('Invalid units: "'+n+'"')}function Sz(e,t){var n=new Date(+e+t);return Iz(e,n)}function Tz(e,t){var n=e.getFullYear(),r=e.getMonth(),i=e.getDate(),s=n*12+r+t,o=Math.trunc(s/12),a=s%12,l=Math.min(i,wz(o)[a]),u=new Date(e);return u.setFullYear(o),u.setDate(1),u.setMonth(a),u.setDate(l),u}function Iz(e,t){var n=e.getTimezoneOffset(),r=t.getTimezoneOffset(),i=r-n;return new Date(+t+i*PD.minutes)}function wu(e,t,n){return Wn(e,-t,n)}function At(e,t,n){switch(e=new Date(e),t){case Vs:case Fs:case Ls:e=Uh(e,0);case _u:e=OD(e,1);case ra:case $s:e=Tu(e,0);case yu:e=ia(e,0);case vu:e=Su(e,0);case gu:e=Eu(e,0)}return t===Fs&&(e=wu(e,js(e)%10,"year")),t===Vs&&(e=wu(e,js(e)%100,"year")),t===ra&&(e=xD(e,0,n)),e}function jh(e,t,n){switch(e=new Date(e),e=At(e,t,n),t){case Vs:case Fs:case Ls:case _u:case ra:e=Wn(e,1,t),e=wu(e,1,$s),e.setHours(23,59,59,999);break;case $s:e.setHours(23,59,59,999);break;case yu:case vu:case gu:e=Wn(e,1,t),e=wu(e,1,Vh)}return e}var uc=Aa(function(e,t){return e===t}),hw=Aa(function(e,t){return e!==t}),sp=Aa(function(e,t){return e>t}),cc=Aa(function(e,t){return e>=t}),fw=Aa(function(e,t){return e<t}),Ia=Aa(function(e,t){return e<=t});function CD(){return new Date(Math.min.apply(Math,arguments))}function kD(){return new Date(Math.max.apply(Math,arguments))}function DD(e,t,n,r){return r=r||"day",(!t||cc(e,t,r))&&(!n||Ia(e,n,r))}var Eu=Zi("Milliseconds"),Su=Zi("Seconds"),ia=Zi("Minutes"),Tu=Zi("Hours"),bD=Zi("Day"),OD=Zi("Date"),Uh=Zi("Month"),js=Zi("FullYear");function Az(e,t){return t===void 0?js(At(e,Fs)):Wn(e,t+10,Ls)}function Rz(e,t){return t===void 0?js(At(e,Vs)):Wn(e,t+100,Ls)}function xD(e,t,n){var r=(bD(e)+7-(n||0))%7;return t===void 0?r:Wn(e,t-r,$s)}function Pz(e,t,n,r){var i,s,o;switch(n){case Vh:case gu:case vu:case yu:case $s:case ra:i=t.getTime()-e.getTime();break;case _u:case Ls:case Fs:case Vs:i=(js(t)-js(e))*12+Uh(t)-Uh(e);break;default:throw new TypeError('Invalid units: "'+n+'"')}switch(n){case Vh:s=1;break;case gu:s=1e3;break;case vu:s=1e3*60;break;case yu:s=1e3*60*60;break;case $s:s=1e3*60*60*24;break;case ra:s=1e3*60*60*24*7;break;case _u:s=1;break;case Ls:s=12;break;case Fs:s=120;break;case Vs:s=1200;break;default:throw new TypeError('Invalid units: "'+n+'"')}return o=i/s,r?o:Math.round(o)}function Zi(e){var t=function(n){switch(n){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(n,r){if(r===void 0)return n["get"+e]();var i=new Date(n);return i["set"+e](r),t&&i["get"+e]()!=r&&(e==="Hours"||r>=t&&i.getHours()-n.getHours()<Math.floor(r/t))&&i["set"+e](r+t),i}}function Aa(e){return function(t,n,r){return e(+At(t,r),+At(n,r))}}const CT=Object.freeze(Object.defineProperty({__proto__:null,add:Wn,century:Rz,date:OD,day:bD,decade:Az,diff:Pz,endOf:jh,eq:uc,gt:sp,gte:cc,hours:Tu,inRange:DD,lt:fw,lte:Ia,max:kD,milliseconds:Eu,min:CD,minutes:ia,month:Uh,neq:hw,seconds:Su,startOf:At,subtract:wu,weekday:xD,year:js},Symbol.toStringTag,{value:"Module"}));function Cz(e){if(Array.isArray(e))return Cv(e)}function ND(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bd(e){return Cz(e)||ND(e)||dw(e)||kz()}function Dz(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(i);++r<i;)s[r]=e[r+t];return s}var MD=Dz;function bz(e,t){return e===t||e!==e&&t!==t}var dc=bz,Oz=typeof $n=="object"&&$n&&$n.Object===Object&&$n,$D=Oz,xz=$D,Nz=typeof self=="object"&&self&&self.Object===Object&&self,Mz=xz||Nz||Function("return this")(),gr=Mz,$z=gr,Lz=$z.Symbol,Ra=Lz,kT=Ra,LD=Object.prototype,Fz=LD.hasOwnProperty,Vz=LD.toString,Qa=kT?kT.toStringTag:void 0;function jz(e){var t=Fz.call(e,Qa),n=e[Qa];try{e[Qa]=void 0;var r=!0}catch{}var i=Vz.call(e);return r&&(t?e[Qa]=n:delete e[Qa]),i}var Uz=jz,Bz=Object.prototype,zz=Bz.toString;function Wz(e){return zz.call(e)}var Hz=Wz,DT=Ra,Yz=Uz,qz=Hz,Gz="[object Null]",Kz="[object Undefined]",bT=DT?DT.toStringTag:void 0;function Qz(e){return e==null?e===void 0?Kz:Gz:bT&&bT in Object(e)?Yz(e):qz(e)}var Pa=Qz;function Xz(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Zr=Xz,Jz=Pa,Zz=Zr,e9="[object AsyncFunction]",t9="[object Function]",n9="[object GeneratorFunction]",r9="[object Proxy]";function i9(e){if(!Zz(e))return!1;var t=Jz(e);return t==t9||t==n9||t==e9||t==r9}var pw=i9,s9=9007199254740991;function o9(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=s9}var mw=o9,a9=pw,l9=mw;function u9(e){return e!=null&&l9(e.length)&&!a9(e)}var hc=u9,c9=9007199254740991,d9=/^(?:0|[1-9]\d*)$/;function h9(e,t){var n=typeof e;return t=t??c9,!!t&&(n=="number"||n!="symbol"&&d9.test(e))&&e>-1&&e%1==0&&e<t}var gw=h9,f9=dc,p9=hc,m9=gw,g9=Zr;function v9(e,t,n){if(!g9(n))return!1;var r=typeof t;return(r=="number"?p9(n)&&m9(t,n.length):r=="string"&&t in n)?f9(n[t],e):!1}var op=v9,y9=/\s/;function _9(e){for(var t=e.length;t--&&y9.test(e.charAt(t)););return t}var w9=_9,E9=w9,S9=/^\s+/;function T9(e){return e&&e.slice(0,E9(e)+1).replace(S9,"")}var I9=T9;function A9(e){return e!=null&&typeof e=="object"}var es=A9,R9=Pa,P9=es,C9="[object Symbol]";function k9(e){return typeof e=="symbol"||P9(e)&&R9(e)==C9}var fc=k9,D9=I9,OT=Zr,b9=fc,xT=NaN,O9=/^[-+]0x[0-9a-f]+$/i,x9=/^0b[01]+$/i,N9=/^0o[0-7]+$/i,M9=parseInt;function $9(e){if(typeof e=="number")return e;if(b9(e))return xT;if(OT(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=OT(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=D9(e);var n=x9.test(e);return n||N9.test(e)?M9(e.slice(2),n?2:8):O9.test(e)?xT:+e}var L9=$9,F9=L9,NT=1/0,V9=17976931348623157e292;function j9(e){if(!e)return e===0?e:0;if(e=F9(e),e===NT||e===-NT){var t=e<0?-1:1;return t*V9}return e===e?e:0}var FD=j9,U9=FD;function B9(e){var t=U9(e),n=t%1;return t===t?n?t-n:t:0}var VD=B9,z9=MD,W9=op,H9=VD,Y9=Math.ceil,q9=Math.max;function G9(e,t,n){(n?W9(e,t,n):t===void 0)?t=1:t=q9(H9(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var i=0,s=0,o=Array(Y9(r/t));i<r;)o[s++]=z9(e,i,i+=t);return o}var K9=G9;const Q9=sn(K9);function pc(e){return e&&e.ownerDocument||document}function X9(e){var t=pc(e);return t&&t.defaultView||window}function J9(e,t){return X9(e).getComputedStyle(e,t)}var Z9=/([A-Z])/g;function eW(e){return e.replace(Z9,"-$1").toLowerCase()}var tW=/^ms-/;function ed(e){return eW(e).replace(tW,"-ms-")}var nW=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function rW(e){return!!(e&&nW.test(e))}function oo(e,t){var n="",r="";if(typeof t=="string")return e.style.getPropertyValue(ed(t))||J9(e).getPropertyValue(ed(t));Object.keys(t).forEach(function(i){var s=t[i];!s&&s!==0?e.style.removeProperty(ed(i)):rW(i)?r+=i+"("+s+") ":n+=ed(i)+": "+s+";"}),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n}function Iu(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function iW(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}function vw(e){return"window"in e&&e.window===e?e:iW(e)&&e.defaultView||!1}function jD(e){var t=e==="pageXOffset"?"scrollLeft":"scrollTop";function n(r,i){var s=vw(r);if(i===void 0)return s?s[e]:r[t];s?s.scrollTo(s[e],i):r[t]=i}return n}const UD=jD("pageXOffset"),BD=jD("pageYOffset");function Es(e){var t=pc(e),n={top:0,left:0,height:0,width:0},r=t&&t.documentElement;return!r||!Iu(r,e)||(e.getBoundingClientRect!==void 0&&(n=e.getBoundingClientRect()),n={top:n.top+BD(r)-(r.clientTop||0),left:n.left+UD(r)-(r.clientLeft||0),width:n.width,height:n.height}),n}var sW=function(t){return!!t&&"offsetParent"in t};function oW(e){for(var t=pc(e),n=e&&e.offsetParent;sW(n)&&n.nodeName!=="HTML"&&oo(n,"position")==="static";)n=n.offsetParent;return n||t.documentElement}var aW=function(t){return t.nodeName&&t.nodeName.toLowerCase()};function zD(e,t){var n={top:0,left:0},r;if(oo(e,"position")==="fixed")r=e.getBoundingClientRect();else{var i=t||oW(e);r=Es(e),aW(i)!=="html"&&(n=Es(i));var s=String(oo(i,"borderTopWidth")||0);n.top+=parseInt(s,10)-BD(i)||0;var o=String(oo(i,"borderLeftWidth")||0);n.left+=parseInt(o,10)-UD(i)||0}var a=String(oo(e,"marginTop")||0),l=String(oo(e,"marginLeft")||0);return qe({},r,{top:r.top-n.top-(parseInt(a,10)||0),left:r.left-n.left-(parseInt(l,10)||0)})}const yw=!!(typeof window<"u"&&window.document&&window.document.createElement);var MT=new Date().getTime();function lW(e){var t=new Date().getTime(),n=Math.max(0,16-(t-MT)),r=setTimeout(e,n);return MT=t,r}var uW=["","webkit","moz","o","ms"],kv="clearTimeout",Dv=lW,$T=function(t,n){return t+(t?n[0].toUpperCase()+n.substr(1):n)+"AnimationFrame"};yw&&uW.some(function(e){var t=$T(e,"request");return t in window&&(kv=$T(e,"cancel"),Dv=function(r){return window[t](r)}),!!Dv});var LT=function(t){typeof window[kv]=="function"&&window[kv](t)},WD=Dv,xm;function cW(e,t){if(!xm){var n=document.body,r=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;xm=function(s,o){return r.call(s,o)}}return xm(e,t)}var dW=Function.prototype.bind.call(Function.prototype.call,[].slice);function hW(e,t){return dW(e.querySelectorAll(t))}var bv=!1,Ov=!1;try{var Nm={get passive(){return bv=!0},get once(){return Ov=bv=!0}};yw&&(window.addEventListener("test",Nm,Nm),window.removeEventListener("test",Nm,!0))}catch{}function fW(e,t,n,r){if(r&&typeof r!="boolean"&&!Ov){var i=r.once,s=r.capture,o=n;!Ov&&i&&(o=n.__once||function a(l){this.removeEventListener(t,a,s),n.call(this,l)},n.__once=o),e.addEventListener(t,o,bv?r:s)}e.addEventListener(t,n,r)}function pW(e){const t=R.useRef(e);return R.useEffect(()=>{t.current=e},[e]),t}function FT(e){const t=pW(e);return R.useCallback(function(...n){return t.current&&t.current(...n)},[t])}function VT(){return R.useState(null)}function mW(){const e=R.useRef(!0),t=R.useRef(()=>e.current);return R.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function gW(e){const t=mW();return[e[0],R.useCallback(n=>{if(t())return e[1](n)},[t,e[1]])]}var tn="top",Rn="bottom",Pn="right",nn="left",_w="auto",mc=[tn,Rn,Pn,nn],sa="start",Au="end",vW="clippingParents",HD="viewport",Xa="popper",yW="reference",jT=mc.reduce(function(e,t){return e.concat([t+"-"+sa,t+"-"+Au])},[]),ww=[].concat(mc,[_w]).reduce(function(e,t){return e.concat([t,t+"-"+sa,t+"-"+Au])},[]),_W="beforeRead",wW="read",EW="afterRead",SW="beforeMain",TW="main",IW="afterMain",AW="beforeWrite",RW="write",PW="afterWrite",CW=[_W,wW,EW,SW,TW,IW,AW,RW,PW];function cr(e){return e.split("-")[0]}function hn(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Us(e){var t=hn(e).Element;return e instanceof t||e instanceof Element}function dr(e){var t=hn(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Ew(e){if(typeof ShadowRoot>"u")return!1;var t=hn(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var Ss=Math.max,Bh=Math.min,oa=Math.round;function xv(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function YD(){return!/^((?!chrome|android).)*safari/i.test(xv())}function aa(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),i=1,s=1;t&&dr(e)&&(i=e.offsetWidth>0&&oa(r.width)/e.offsetWidth||1,s=e.offsetHeight>0&&oa(r.height)/e.offsetHeight||1);var o=Us(e)?hn(e):window,a=o.visualViewport,l=!YD()&&n,u=(r.left+(l&&a?a.offsetLeft:0))/i,c=(r.top+(l&&a?a.offsetTop:0))/s,d=r.width/i,h=r.height/s;return{width:d,height:h,top:c,right:u+d,bottom:c+h,left:u,x:u,y:c}}function Sw(e){var t=aa(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function qD(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Ew(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ui(e){return e?(e.nodeName||"").toLowerCase():null}function qr(e){return hn(e).getComputedStyle(e)}function kW(e){return["table","td","th"].indexOf(Ui(e))>=0}function ts(e){return((Us(e)?e.ownerDocument:e.document)||window.document).documentElement}function ap(e){return Ui(e)==="html"?e:e.assignedSlot||e.parentNode||(Ew(e)?e.host:null)||ts(e)}function UT(e){return!dr(e)||qr(e).position==="fixed"?null:e.offsetParent}function DW(e){var t=/firefox/i.test(xv()),n=/Trident/i.test(xv());if(n&&dr(e)){var r=qr(e);if(r.position==="fixed")return null}var i=ap(e);for(Ew(i)&&(i=i.host);dr(i)&&["html","body"].indexOf(Ui(i))<0;){var s=qr(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function gc(e){for(var t=hn(e),n=UT(e);n&&kW(n)&&qr(n).position==="static";)n=UT(n);return n&&(Ui(n)==="html"||Ui(n)==="body"&&qr(n).position==="static")?t:n||DW(e)||t}function Tw(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function kl(e,t,n){return Ss(e,Bh(t,n))}function bW(e,t,n){var r=kl(e,t,n);return r>n?n:r}function GD(){return{top:0,right:0,bottom:0,left:0}}function KD(e){return Object.assign({},GD(),e)}function QD(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var OW=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,KD(typeof t!="number"?t:QD(t,mc))};function xW(e){var t,n=e.state,r=e.name,i=e.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=cr(n.placement),l=Tw(a),u=[nn,Pn].indexOf(a)>=0,c=u?"height":"width";if(!(!s||!o)){var d=OW(i.padding,n),h=Sw(s),f=l==="y"?tn:nn,v=l==="y"?Rn:Pn,p=n.rects.reference[c]+n.rects.reference[l]-o[l]-n.rects.popper[c],y=o[l]-n.rects.reference[l],m=gc(s),g=m?l==="y"?m.clientHeight||0:m.clientWidth||0:0,_=p/2-y/2,E=d[f],S=g-h[c]-d[v],T=g/2-h[c]/2+_,I=kl(E,T,S),P=l;n.modifiersData[r]=(t={},t[P]=I,t.centerOffset=I-T,t)}}function NW(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||qD(t.elements.popper,i)&&(t.elements.arrow=i))}const MW={name:"arrow",enabled:!0,phase:"main",fn:xW,effect:NW,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function la(e){return e.split("-")[1]}var $W={top:"auto",right:"auto",bottom:"auto",left:"auto"};function LW(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:oa(n*i)/i||0,y:oa(r*i)/i||0}}function BT(e){var t,n=e.popper,r=e.popperRect,i=e.placement,s=e.variation,o=e.offsets,a=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,d=e.isFixed,h=o.x,f=h===void 0?0:h,v=o.y,p=v===void 0?0:v,y=typeof c=="function"?c({x:f,y:p}):{x:f,y:p};f=y.x,p=y.y;var m=o.hasOwnProperty("x"),g=o.hasOwnProperty("y"),_=nn,E=tn,S=window;if(u){var T=gc(n),I="clientHeight",P="clientWidth";if(T===hn(n)&&(T=ts(n),qr(T).position!=="static"&&a==="absolute"&&(I="scrollHeight",P="scrollWidth")),T=T,i===tn||(i===nn||i===Pn)&&s===Au){E=Rn;var b=d&&T===S&&S.visualViewport?S.visualViewport.height:T[I];p-=b-r.height,p*=l?1:-1}if(i===nn||(i===tn||i===Rn)&&s===Au){_=Pn;var C=d&&T===S&&S.visualViewport?S.visualViewport.width:T[P];f-=C-r.width,f*=l?1:-1}}var L=Object.assign({position:a},u&&$W),z=c===!0?LW({x:f,y:p},hn(n)):{x:f,y:p};if(f=z.x,p=z.y,l){var q;return Object.assign({},L,(q={},q[E]=g?"0":"",q[_]=m?"0":"",q.transform=(S.devicePixelRatio||1)<=1?"translate("+f+"px, "+p+"px)":"translate3d("+f+"px, "+p+"px, 0)",q))}return Object.assign({},L,(t={},t[E]=g?p+"px":"",t[_]=m?f+"px":"",t.transform="",t))}function FW(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:cr(t.placement),variation:la(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,BT(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,BT(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const VW={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:FW,data:{}};var td={passive:!0};function jW(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=hn(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&u.forEach(function(c){c.addEventListener("scroll",n.update,td)}),a&&l.addEventListener("resize",n.update,td),function(){s&&u.forEach(function(c){c.removeEventListener("scroll",n.update,td)}),a&&l.removeEventListener("resize",n.update,td)}}const UW={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:jW,data:{}};var BW={left:"right",right:"left",bottom:"top",top:"bottom"};function Od(e){return e.replace(/left|right|bottom|top/g,function(t){return BW[t]})}var zW={start:"end",end:"start"};function zT(e){return e.replace(/start|end/g,function(t){return zW[t]})}function Iw(e){var t=hn(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Aw(e){return aa(ts(e)).left+Iw(e).scrollLeft}function WW(e,t){var n=hn(e),r=ts(e),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var u=YD();(u||!u&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+Aw(e),y:l}}function HW(e){var t,n=ts(e),r=Iw(e),i=(t=e.ownerDocument)==null?void 0:t.body,s=Ss(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Ss(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+Aw(e),l=-r.scrollTop;return qr(i||n).direction==="rtl"&&(a+=Ss(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function Rw(e){var t=qr(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function XD(e){return["html","body","#document"].indexOf(Ui(e))>=0?e.ownerDocument.body:dr(e)&&Rw(e)?e:XD(ap(e))}function Dl(e,t){var n;t===void 0&&(t=[]);var r=XD(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),s=hn(r),o=i?[s].concat(s.visualViewport||[],Rw(r)?r:[]):r,a=t.concat(o);return i?a:a.concat(Dl(ap(o)))}function Nv(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function YW(e,t){var n=aa(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function WT(e,t,n){return t===HD?Nv(WW(e,n)):Us(t)?YW(t,n):Nv(HW(ts(e)))}function qW(e){var t=Dl(ap(e)),n=["absolute","fixed"].indexOf(qr(e).position)>=0,r=n&&dr(e)?gc(e):e;return Us(r)?t.filter(function(i){return Us(i)&&qD(i,r)&&Ui(i)!=="body"}):[]}function GW(e,t,n,r){var i=t==="clippingParents"?qW(e):[].concat(t),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,u){var c=WT(e,u,r);return l.top=Ss(c.top,l.top),l.right=Bh(c.right,l.right),l.bottom=Bh(c.bottom,l.bottom),l.left=Ss(c.left,l.left),l},WT(e,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function JD(e){var t=e.reference,n=e.element,r=e.placement,i=r?cr(r):null,s=r?la(r):null,o=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,l;switch(i){case tn:l={x:o,y:t.y-n.height};break;case Rn:l={x:o,y:t.y+t.height};break;case Pn:l={x:t.x+t.width,y:a};break;case nn:l={x:t.x-n.width,y:a};break;default:l={x:t.x,y:t.y}}var u=i?Tw(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(s){case sa:l[u]=l[u]-(t[c]/2-n[c]/2);break;case Au:l[u]=l[u]+(t[c]/2-n[c]/2);break}}return l}function Ru(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,s=n.strategy,o=s===void 0?e.strategy:s,a=n.boundary,l=a===void 0?vW:a,u=n.rootBoundary,c=u===void 0?HD:u,d=n.elementContext,h=d===void 0?Xa:d,f=n.altBoundary,v=f===void 0?!1:f,p=n.padding,y=p===void 0?0:p,m=KD(typeof y!="number"?y:QD(y,mc)),g=h===Xa?yW:Xa,_=e.rects.popper,E=e.elements[v?g:h],S=GW(Us(E)?E:E.contextElement||ts(e.elements.popper),l,c,o),T=aa(e.elements.reference),I=JD({reference:T,element:_,strategy:"absolute",placement:i}),P=Nv(Object.assign({},_,I)),b=h===Xa?P:T,C={top:S.top-b.top+m.top,bottom:b.bottom-S.bottom+m.bottom,left:S.left-b.left+m.left,right:b.right-S.right+m.right},L=e.modifiersData.offset;if(h===Xa&&L){var z=L[i];Object.keys(C).forEach(function(q){var Ee=[Pn,Rn].indexOf(q)>=0?1:-1,ye=[tn,Rn].indexOf(q)>=0?"y":"x";C[q]+=z[ye]*Ee})}return C}function KW(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?ww:l,c=la(r),d=c?a?jT:jT.filter(function(v){return la(v)===c}):mc,h=d.filter(function(v){return u.indexOf(v)>=0});h.length===0&&(h=d);var f=h.reduce(function(v,p){return v[p]=Ru(e,{placement:p,boundary:i,rootBoundary:s,padding:o})[cr(p)],v},{});return Object.keys(f).sort(function(v,p){return f[v]-f[p]})}function QW(e){if(cr(e)===_w)return[];var t=Od(e);return[zT(e),t,zT(t)]}function XW(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,v=f===void 0?!0:f,p=n.allowedAutoPlacements,y=t.options.placement,m=cr(y),g=m===y,_=l||(g||!v?[Od(y)]:QW(y)),E=[y].concat(_).reduce(function(W,G){return W.concat(cr(G)===_w?KW(t,{placement:G,boundary:c,rootBoundary:d,padding:u,flipVariations:v,allowedAutoPlacements:p}):G)},[]),S=t.rects.reference,T=t.rects.popper,I=new Map,P=!0,b=E[0],C=0;C<E.length;C++){var L=E[C],z=cr(L),q=la(L)===sa,Ee=[tn,Rn].indexOf(z)>=0,ye=Ee?"width":"height",ie=Ru(t,{placement:L,boundary:c,rootBoundary:d,altBoundary:h,padding:u}),fe=Ee?q?Pn:nn:q?Rn:tn;S[ye]>T[ye]&&(fe=Od(fe));var V=Od(fe),X=[];if(s&&X.push(ie[z]<=0),a&&X.push(ie[fe]<=0,ie[V]<=0),X.every(function(W){return W})){b=L,P=!1;break}I.set(L,X)}if(P)for(var ee=v?3:1,k=function(G){var ae=E.find(function(Te){var Pe=I.get(Te);if(Pe)return Pe.slice(0,G).every(function(bn){return bn})});if(ae)return b=ae,"break"},x=ee;x>0;x--){var j=k(x);if(j==="break")break}t.placement!==b&&(t.modifiersData[r]._skip=!0,t.placement=b,t.reset=!0)}}const JW={name:"flip",enabled:!0,phase:"main",fn:XW,requiresIfExists:["offset"],data:{_skip:!1}};function HT(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function YT(e){return[tn,Pn,Rn,nn].some(function(t){return e[t]>=0})}function ZW(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,s=t.modifiersData.preventOverflow,o=Ru(t,{elementContext:"reference"}),a=Ru(t,{altBoundary:!0}),l=HT(o,r),u=HT(a,i,s),c=YT(l),d=YT(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}const e6={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:ZW};function t6(e,t,n){var r=cr(e),i=[nn,tn].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[nn,Pn].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function n6(e){var t=e.state,n=e.options,r=e.name,i=n.offset,s=i===void 0?[0,0]:i,o=ww.reduce(function(c,d){return c[d]=t6(d,t.rects,s),c},{}),a=o[t.placement],l=a.x,u=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=o}const r6={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:n6};function i6(e){var t=e.state,n=e.name;t.modifiersData[n]=JD({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const s6={name:"popperOffsets",enabled:!0,phase:"read",fn:i6,data:{}};function o6(e){return e==="x"?"y":"x"}function a6(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,h=n.tether,f=h===void 0?!0:h,v=n.tetherOffset,p=v===void 0?0:v,y=Ru(t,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),m=cr(t.placement),g=la(t.placement),_=!g,E=Tw(m),S=o6(E),T=t.modifiersData.popperOffsets,I=t.rects.reference,P=t.rects.popper,b=typeof p=="function"?p(Object.assign({},t.rects,{placement:t.placement})):p,C=typeof b=="number"?{mainAxis:b,altAxis:b}:Object.assign({mainAxis:0,altAxis:0},b),L=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,z={x:0,y:0};if(T){if(s){var q,Ee=E==="y"?tn:nn,ye=E==="y"?Rn:Pn,ie=E==="y"?"height":"width",fe=T[E],V=fe+y[Ee],X=fe-y[ye],ee=f?-P[ie]/2:0,k=g===sa?I[ie]:P[ie],x=g===sa?-P[ie]:-I[ie],j=t.elements.arrow,W=f&&j?Sw(j):{width:0,height:0},G=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:GD(),ae=G[Ee],Te=G[ye],Pe=kl(0,I[ie],W[ie]),bn=_?I[ie]/2-ee-Pe-ae-C.mainAxis:k-Pe-ae-C.mainAxis,Zs=_?-I[ie]/2+ee+Pe+Te+C.mainAxis:x+Pe+Te+C.mainAxis,ns=t.elements.arrow&&gc(t.elements.arrow),La=ns?E==="y"?ns.clientTop||0:ns.clientLeft||0:0,Ac=(q=L==null?void 0:L[E])!=null?q:0,Mp=fe+bn-Ac-La,HO=fe+Zs-Ac,v0=kl(f?Bh(V,Mp):V,fe,f?Ss(X,HO):X);T[E]=v0,z[E]=v0-fe}if(a){var y0,YO=E==="x"?tn:nn,qO=E==="x"?Rn:Pn,rs=T[S],Rc=S==="y"?"height":"width",_0=rs+y[YO],w0=rs-y[qO],$p=[tn,nn].indexOf(m)!==-1,E0=(y0=L==null?void 0:L[S])!=null?y0:0,S0=$p?_0:rs-I[Rc]-P[Rc]-E0+C.altAxis,T0=$p?rs+I[Rc]+P[Rc]-E0-C.altAxis:w0,I0=f&&$p?bW(S0,rs,T0):kl(f?S0:_0,rs,f?T0:w0);T[S]=I0,z[S]=I0-rs}t.modifiersData[r]=z}}const l6={name:"preventOverflow",enabled:!0,phase:"main",fn:a6,requiresIfExists:["offset"]};function u6(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function c6(e){return e===hn(e)||!dr(e)?Iw(e):u6(e)}function d6(e){var t=e.getBoundingClientRect(),n=oa(t.width)/e.offsetWidth||1,r=oa(t.height)/e.offsetHeight||1;return n!==1||r!==1}function h6(e,t,n){n===void 0&&(n=!1);var r=dr(t),i=dr(t)&&d6(t),s=ts(t),o=aa(e,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Ui(t)!=="body"||Rw(s))&&(a=c6(t)),dr(t)?(l=aa(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=Aw(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function f6(e){var t=new Map,n=new Set,r=[];e.forEach(function(s){t.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=t.get(a);l&&i(l)}}),r.push(s)}return e.forEach(function(s){n.has(s.name)||i(s)}),r}function p6(e){var t=f6(e);return CW.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function m6(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function g6(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var qT={placement:"bottom",modifiers:[],strategy:"absolute"};function GT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function v6(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,s=i===void 0?qT:i;return function(a,l,u){u===void 0&&(u=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},qT,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],h=!1,f={state:c,setOptions:function(m){var g=typeof m=="function"?m(c.options):m;p(),c.options=Object.assign({},s,c.options,g),c.scrollParents={reference:Us(a)?Dl(a):a.contextElement?Dl(a.contextElement):[],popper:Dl(l)};var _=p6(g6([].concat(r,c.options.modifiers)));return c.orderedModifiers=_.filter(function(E){return E.enabled}),v(),f.update()},forceUpdate:function(){if(!h){var m=c.elements,g=m.reference,_=m.popper;if(GT(g,_)){c.rects={reference:h6(g,gc(_),c.options.strategy==="fixed"),popper:Sw(_)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(C){return c.modifiersData[C.name]=Object.assign({},C.data)});for(var E=0;E<c.orderedModifiers.length;E++){if(c.reset===!0){c.reset=!1,E=-1;continue}var S=c.orderedModifiers[E],T=S.fn,I=S.options,P=I===void 0?{}:I,b=S.name;typeof T=="function"&&(c=T({state:c,options:P,name:b,instance:f})||c)}}}},update:m6(function(){return new Promise(function(y){f.forceUpdate(),y(c)})}),destroy:function(){p(),h=!0}};if(!GT(a,l))return f;f.setOptions(u).then(function(y){!h&&u.onFirstUpdate&&u.onFirstUpdate(y)});function v(){c.orderedModifiers.forEach(function(y){var m=y.name,g=y.options,_=g===void 0?{}:g,E=y.effect;if(typeof E=="function"){var S=E({state:c,name:m,instance:f,options:_}),T=function(){};d.push(S||T)}})}function p(){d.forEach(function(y){return y()}),d=[]}return f}}var y6=v6({defaultModifiers:[e6,s6,VW,UW,r6,JW,l6,MW]}),KT=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},_6={name:"applyStyles",enabled:!1},w6={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var n=t.state;return function(){var r=n.elements,i=r.reference,s=r.popper;if("removeAttribute"in i){var o=(i.getAttribute("aria-describedby")||"").split(",").filter(function(a){return a.trim()!==s.id});o.length?i.setAttribute("aria-describedby",o.join(",")):i.removeAttribute("aria-describedby")}}},fn:function(t){var n,r=t.state,i=r.elements,s=i.popper,o=i.reference,a=(n=s.getAttribute("role"))==null?void 0:n.toLowerCase();if(s.id&&a==="tooltip"&&"setAttribute"in o){var l=o.getAttribute("aria-describedby");if(l&&l.split(",").indexOf(s.id)!==-1)return;o.setAttribute("aria-describedby",l?l+","+s.id:s.id)}}},E6=[];function S6(e,t,n){var r=n===void 0?{}:n,i=r.enabled,s=i===void 0?!0:i,o=r.placement,a=o===void 0?"bottom":o,l=r.strategy,u=l===void 0?"absolute":l,c=r.modifiers,d=c===void 0?E6:c,h=ip(r,["enabled","placement","strategy","modifiers"]),f=R.useRef(),v=R.useCallback(function(){var E;(E=f.current)==null||E.update()},[]),p=R.useCallback(function(){var E;(E=f.current)==null||E.forceUpdate()},[]),y=gW(R.useState({placement:a,update:v,forceUpdate:p,attributes:{},styles:{popper:KT(u),arrow:{}}})),m=y[0],g=y[1],_=R.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(S){var T=S.state,I={},P={};Object.keys(T.elements).forEach(function(b){I[b]=T.styles[b],P[b]=T.attributes[b]}),g({state:T,styles:I,attributes:P,update:v,forceUpdate:p,placement:T.placement})}}},[v,p,g]);return R.useEffect(function(){!f.current||!s||f.current.setOptions({placement:a,strategy:u,modifiers:[].concat(d,[_,_6])})},[u,a,_,s]),R.useEffect(function(){if(!(!s||e==null||t==null))return f.current=y6(e,t,qe({},h,{placement:a,strategy:u,modifiers:[].concat(d,[w6,_])})),function(){f.current!=null&&(f.current.destroy(),f.current=void 0,g(function(E){return qe({},E,{attributes:{},styles:{popper:KT(u)}})}))}},[s,e,t]),m}function T6(e,t,n,r){var i=r&&typeof r!="boolean"?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)}function hl(e,t,n,r){return fW(e,t,n,r),function(){T6(e,t,n,r)}}var I6=function(){},A6=I6;const R6=sn(A6);function P6(e){return e&&"setState"in e?_R.findDOMNode(e):e??null}const C6=function(e){return pc(P6(e))};var k6=27,QT=function(){};function D6(e){return e.button===0}function b6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var XT=function(t){return t&&("current"in t?t.current:t)};function O6(e,t,n){var r=n===void 0?{}:n,i=r.disabled,s=r.clickTrigger,o=s===void 0?"click":s,a=R.useRef(!1),l=t||QT,u=R.useCallback(function(h){var f,v=XT(e);R6(!!v,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),a.current=!v||b6(h)||!D6(h)||!!Iu(v,(f=h.composedPath==null?void 0:h.composedPath()[0])!=null?f:h.target)},[e]),c=FT(function(h){a.current||l(h)}),d=FT(function(h){h.keyCode===k6&&l(h)});R.useEffect(function(){if(!(i||e==null)){var h=window.event,f=C6(XT(e)),v=hl(f,o,u,!0),p=hl(f,o,function(g){if(g===h){h=void 0;return}c(g)}),y=hl(f,"keyup",function(g){if(g===h){h=void 0;return}d(g)}),m=[];return"ontouchstart"in f.documentElement&&(m=[].slice.call(f.body.children).map(function(g){return hl(g,"mousemove",QT)})),function(){v(),p(),y(),m.forEach(function(g){return g()})}}},[e,i,o,u,c,d])}function x6(e){var t={};return Array.isArray(e)?(e==null||e.forEach(function(n){t[n.name]=n}),t):e||t}function N6(e){return e===void 0&&(e={}),Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function M6(e){var t,n,r,i,s=e.enabled,o=e.enableEvents,a=e.placement,l=e.flip,u=e.offset,c=e.fixed,d=e.containerPadding,h=e.arrowElement,f=e.popperConfig,v=f===void 0?{}:f,p=x6(v.modifiers);return qe({},v,{placement:a,enabled:s,strategy:c?"fixed":v.strategy,modifiers:N6(qe({},p,{eventListeners:{enabled:o},preventOverflow:qe({},p.preventOverflow,{options:d?qe({padding:d},(t=p.preventOverflow)==null?void 0:t.options):(n=p.preventOverflow)==null?void 0:n.options}),offset:{options:qe({offset:u},(r=p.offset)==null?void 0:r.options)},arrow:qe({},p.arrow,{enabled:!!h,options:qe({},(i=p.arrow)==null?void 0:i.options,{element:h})}),flip:qe({enabled:!!l},p.flip)}))})}function $6(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function L6(e,t){e.classList?e.classList.add(t):$6(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function JT(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function F6(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=JT(e.className,t):e.setAttribute("class",JT(e.className&&e.className.baseVal||"",t))}var nd;function ZD(e){if((!nd&&nd!==0||e)&&yw){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),nd=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return nd}var Mm=function(t){var n;return typeof document>"u"?null:t==null?pc().body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(n=t)!=null&&n.nodeType&&t||null)};function ZT(e,t){var n=R.useState(function(){return Mm(e)}),r=n[0],i=n[1];if(!r){var s=Mm(e);s&&i(s)}return R.useEffect(function(){t&&r&&t(r)},[t,r]),R.useEffect(function(){var o=Mm(e);o!==r&&i(o)},[e,r]),r}const e1=e=>!e||typeof e=="function"?e:t=>{e.current=t};function V6(e,t){const n=e1(e),r=e1(t);return i=>{n&&n(i),r&&r(i)}}function j6(e,t){return R.useMemo(()=>V6(e,t),[e,t])}var Pw=A.forwardRef(function(e,t){var n=e.flip,r=e.offset,i=e.placement,s=e.containerPadding,o=s===void 0?5:s,a=e.popperConfig,l=a===void 0?{}:a,u=e.transition,c=VT(),d=c[0],h=c[1],f=VT(),v=f[0],p=f[1],y=j6(h,t),m=ZT(e.container),g=ZT(e.target),_=R.useState(!e.show),E=_[0],S=_[1],T=S6(g,d,M6({placement:i,enableEvents:!!e.show,containerPadding:o||5,flip:n,offset:r,arrowElement:v,popperConfig:l})),I=T.styles,P=T.attributes,b=ip(T,["styles","attributes"]);e.show?E&&S(!1):!e.transition&&!E&&S(!0);var C=function(){S(!0),e.onExited&&e.onExited.apply(e,arguments)},L=e.show||u&&!E;if(O6(d,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!L)return null;var z=e.children(qe({},b,{show:!!e.show,props:qe({},P.popper,{style:I.popper,ref:y}),arrowProps:qe({},P.arrow,{style:I.arrow,ref:p})}));if(u){var q=e.onExit,Ee=e.onExiting,ye=e.onEnter,ie=e.onEntering,fe=e.onEntered;z=A.createElement(u,{in:e.show,appear:!0,onExit:q,onExiting:Ee,onExited:C,onEnter:ye,onEntering:ie,onEntered:fe},z)}return m?_R.createPortal(z,m):null});Pw.displayName="Overlay";Pw.propTypes={show:F.bool,placement:F.oneOf(ww),target:F.any,container:F.any,flip:F.bool,children:F.func.isRequired,containerPadding:F.number,popperConfig:F.object,rootClose:F.bool,rootCloseEvent:F.oneOf(["click","mousedown"]),rootCloseDisabled:F.bool,onHide:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(t.rootClose){var s;return(s=F.func).isRequired.apply(s,[t].concat(r))}return F.func.apply(F,[t].concat(r))},transition:F.elementType,onEnter:F.func,onEntering:F.func,onEntered:F.func,onExit:F.func,onExiting:F.func,onExited:F.func};const U6=Pw;function B6(){this.__data__=[],this.size=0}var z6=B6,W6=dc;function H6(e,t){for(var n=e.length;n--;)if(W6(e[n][0],t))return n;return-1}var lp=H6,Y6=lp,q6=Array.prototype,G6=q6.splice;function K6(e){var t=this.__data__,n=Y6(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():G6.call(t,n,1),--this.size,!0}var Q6=K6,X6=lp;function J6(e){var t=this.__data__,n=X6(t,e);return n<0?void 0:t[n][1]}var Z6=J6,eH=lp;function tH(e){return eH(this.__data__,e)>-1}var nH=tH,rH=lp;function iH(e,t){var n=this.__data__,r=rH(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var sH=iH,oH=z6,aH=Q6,lH=Z6,uH=nH,cH=sH;function Ca(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ca.prototype.clear=oH;Ca.prototype.delete=aH;Ca.prototype.get=lH;Ca.prototype.has=uH;Ca.prototype.set=cH;var up=Ca,dH=up;function hH(){this.__data__=new dH,this.size=0}var fH=hH;function pH(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var mH=pH;function gH(e){return this.__data__.get(e)}var vH=gH;function yH(e){return this.__data__.has(e)}var _H=yH,wH=gr,EH=wH["__core-js_shared__"],SH=EH,$m=SH,t1=function(){var e=/[^.]+$/.exec($m&&$m.keys&&$m.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function TH(e){return!!t1&&t1 in e}var IH=TH,AH=Function.prototype,RH=AH.toString;function PH(e){if(e!=null){try{return RH.call(e)}catch{}try{return e+""}catch{}}return""}var eb=PH,CH=pw,kH=IH,DH=Zr,bH=eb,OH=/[\\^$.*+?()[\]{}|]/g,xH=/^\[object .+?Constructor\]$/,NH=Function.prototype,MH=Object.prototype,$H=NH.toString,LH=MH.hasOwnProperty,FH=RegExp("^"+$H.call(LH).replace(OH,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function VH(e){if(!DH(e)||kH(e))return!1;var t=CH(e)?FH:xH;return t.test(bH(e))}var jH=VH;function UH(e,t){return e==null?void 0:e[t]}var BH=UH,zH=jH,WH=BH;function HH(e,t){var n=WH(e,t);return zH(n)?n:void 0}var Xs=HH,YH=Xs,qH=gr,GH=YH(qH,"Map"),Cw=GH,KH=Xs,QH=KH(Object,"create"),cp=QH,n1=cp;function XH(){this.__data__=n1?n1(null):{},this.size=0}var JH=XH;function ZH(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var e5=ZH,t5=cp,n5="__lodash_hash_undefined__",r5=Object.prototype,i5=r5.hasOwnProperty;function s5(e){var t=this.__data__;if(t5){var n=t[e];return n===n5?void 0:n}return i5.call(t,e)?t[e]:void 0}var o5=s5,a5=cp,l5=Object.prototype,u5=l5.hasOwnProperty;function c5(e){var t=this.__data__;return a5?t[e]!==void 0:u5.call(t,e)}var d5=c5,h5=cp,f5="__lodash_hash_undefined__";function p5(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=h5&&t===void 0?f5:t,this}var m5=p5,g5=JH,v5=e5,y5=o5,_5=d5,w5=m5;function ka(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ka.prototype.clear=g5;ka.prototype.delete=v5;ka.prototype.get=y5;ka.prototype.has=_5;ka.prototype.set=w5;var E5=ka,r1=E5,S5=up,T5=Cw;function I5(){this.size=0,this.__data__={hash:new r1,map:new(T5||S5),string:new r1}}var A5=I5;function R5(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var P5=R5,C5=P5;function k5(e,t){var n=e.__data__;return C5(t)?n[typeof t=="string"?"string":"hash"]:n.map}var dp=k5,D5=dp;function b5(e){var t=D5(this,e).delete(e);return this.size-=t?1:0,t}var O5=b5,x5=dp;function N5(e){return x5(this,e).get(e)}var M5=N5,$5=dp;function L5(e){return $5(this,e).has(e)}var F5=L5,V5=dp;function j5(e,t){var n=V5(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var U5=j5,B5=A5,z5=O5,W5=M5,H5=F5,Y5=U5;function Da(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Da.prototype.clear=B5;Da.prototype.delete=z5;Da.prototype.get=W5;Da.prototype.has=H5;Da.prototype.set=Y5;var kw=Da,q5=up,G5=Cw,K5=kw,Q5=200;function X5(e,t){var n=this.__data__;if(n instanceof q5){var r=n.__data__;if(!G5||r.length<Q5-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new K5(r)}return n.set(e,t),this.size=n.size,this}var J5=X5,Z5=up,eY=fH,tY=mH,nY=vH,rY=_H,iY=J5;function ba(e){var t=this.__data__=new Z5(e);this.size=t.size}ba.prototype.clear=eY;ba.prototype.delete=tY;ba.prototype.get=nY;ba.prototype.has=rY;ba.prototype.set=iY;var Dw=ba,sY="__lodash_hash_undefined__";function oY(e){return this.__data__.set(e,sY),this}var aY=oY;function lY(e){return this.__data__.has(e)}var uY=lY,cY=kw,dY=aY,hY=uY;function zh(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new cY;++t<n;)this.add(e[t])}zh.prototype.add=zh.prototype.push=dY;zh.prototype.has=hY;var fY=zh;function pY(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var mY=pY;function gY(e,t){return e.has(t)}var vY=gY,yY=fY,_Y=mY,wY=vY,EY=1,SY=2;function TY(e,t,n,r,i,s){var o=n&EY,a=e.length,l=t.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(e),c=s.get(t);if(u&&c)return u==t&&c==e;var d=-1,h=!0,f=n&SY?new yY:void 0;for(s.set(e,t),s.set(t,e);++d<a;){var v=e[d],p=t[d];if(r)var y=o?r(p,v,d,t,e,s):r(v,p,d,e,t,s);if(y!==void 0){if(y)continue;h=!1;break}if(f){if(!_Y(t,function(m,g){if(!wY(f,g)&&(v===m||i(v,m,n,r,s)))return f.push(g)})){h=!1;break}}else if(!(v===p||i(v,p,n,r,s))){h=!1;break}}return s.delete(e),s.delete(t),h}var tb=TY,IY=gr,AY=IY.Uint8Array,nb=AY;function RY(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var PY=RY;function CY(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var kY=CY,i1=Ra,s1=nb,DY=dc,bY=tb,OY=PY,xY=kY,NY=1,MY=2,$Y="[object Boolean]",LY="[object Date]",FY="[object Error]",VY="[object Map]",jY="[object Number]",UY="[object RegExp]",BY="[object Set]",zY="[object String]",WY="[object Symbol]",HY="[object ArrayBuffer]",YY="[object DataView]",o1=i1?i1.prototype:void 0,Lm=o1?o1.valueOf:void 0;function qY(e,t,n,r,i,s,o){switch(n){case YY:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case HY:return!(e.byteLength!=t.byteLength||!s(new s1(e),new s1(t)));case $Y:case LY:case jY:return DY(+e,+t);case FY:return e.name==t.name&&e.message==t.message;case UY:case zY:return e==t+"";case VY:var a=OY;case BY:var l=r&NY;if(a||(a=xY),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;r|=MY,o.set(e,t);var c=bY(a(e),a(t),r,i,s,o);return o.delete(e),c;case WY:if(Lm)return Lm.call(e)==Lm.call(t)}return!1}var GY=qY;function KY(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var bw=KY,QY=Array.isArray,Cn=QY,XY=bw,JY=Cn;function ZY(e,t,n){var r=t(e);return JY(e)?r:XY(r,n(e))}var rb=ZY;function eq(e,t){for(var n=-1,r=e==null?0:e.length,i=0,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[i++]=o)}return s}var tq=eq;function nq(){return[]}var ib=nq,rq=tq,iq=ib,sq=Object.prototype,oq=sq.propertyIsEnumerable,a1=Object.getOwnPropertySymbols,aq=a1?function(e){return e==null?[]:(e=Object(e),rq(a1(e),function(t){return oq.call(e,t)}))}:iq,Ow=aq;function lq(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var uq=lq,cq=Pa,dq=es,hq="[object Arguments]";function fq(e){return dq(e)&&cq(e)==hq}var pq=fq,l1=pq,mq=es,sb=Object.prototype,gq=sb.hasOwnProperty,vq=sb.propertyIsEnumerable,yq=l1(function(){return arguments}())?l1:function(e){return mq(e)&&gq.call(e,"callee")&&!vq.call(e,"callee")},xw=yq,Wh={exports:{}};function _q(){return!1}var wq=_q;Wh.exports;(function(e,t){var n=gr,r=wq,i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;e.exports=u})(Wh,Wh.exports);var hp=Wh.exports,Eq=Pa,Sq=mw,Tq=es,Iq="[object Arguments]",Aq="[object Array]",Rq="[object Boolean]",Pq="[object Date]",Cq="[object Error]",kq="[object Function]",Dq="[object Map]",bq="[object Number]",Oq="[object Object]",xq="[object RegExp]",Nq="[object Set]",Mq="[object String]",$q="[object WeakMap]",Lq="[object ArrayBuffer]",Fq="[object DataView]",Vq="[object Float32Array]",jq="[object Float64Array]",Uq="[object Int8Array]",Bq="[object Int16Array]",zq="[object Int32Array]",Wq="[object Uint8Array]",Hq="[object Uint8ClampedArray]",Yq="[object Uint16Array]",qq="[object Uint32Array]",Oe={};Oe[Vq]=Oe[jq]=Oe[Uq]=Oe[Bq]=Oe[zq]=Oe[Wq]=Oe[Hq]=Oe[Yq]=Oe[qq]=!0;Oe[Iq]=Oe[Aq]=Oe[Lq]=Oe[Rq]=Oe[Fq]=Oe[Pq]=Oe[Cq]=Oe[kq]=Oe[Dq]=Oe[bq]=Oe[Oq]=Oe[xq]=Oe[Nq]=Oe[Mq]=Oe[$q]=!1;function Gq(e){return Tq(e)&&Sq(e.length)&&!!Oe[Eq(e)]}var Kq=Gq;function Qq(e){return function(t){return e(t)}}var fp=Qq,Hh={exports:{}};Hh.exports;(function(e,t){var n=$D,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=a})(Hh,Hh.exports);var Nw=Hh.exports,Xq=Kq,Jq=fp,u1=Nw,c1=u1&&u1.isTypedArray,Zq=c1?Jq(c1):Xq,Mw=Zq,eG=uq,tG=xw,nG=Cn,rG=hp,iG=gw,sG=Mw,oG=Object.prototype,aG=oG.hasOwnProperty;function lG(e,t){var n=nG(e),r=!n&&tG(e),i=!n&&!r&&rG(e),s=!n&&!r&&!i&&sG(e),o=n||r||i||s,a=o?eG(e.length,String):[],l=a.length;for(var u in e)(t||aG.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||iG(u,l)))&&a.push(u);return a}var ob=lG,uG=Object.prototype;function cG(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||uG;return e===n}var $w=cG;function dG(e,t){return function(n){return e(t(n))}}var ab=dG,hG=ab,fG=hG(Object.keys,Object),pG=fG,mG=$w,gG=pG,vG=Object.prototype,yG=vG.hasOwnProperty;function _G(e){if(!mG(e))return gG(e);var t=[];for(var n in Object(e))yG.call(e,n)&&n!="constructor"&&t.push(n);return t}var wG=_G,EG=ob,SG=wG,TG=hc;function IG(e){return TG(e)?EG(e):SG(e)}var vc=IG,AG=rb,RG=Ow,PG=vc;function CG(e){return AG(e,PG,RG)}var lb=CG,d1=lb,kG=1,DG=Object.prototype,bG=DG.hasOwnProperty;function OG(e,t,n,r,i,s){var o=n&kG,a=d1(e),l=a.length,u=d1(t),c=u.length;if(l!=c&&!o)return!1;for(var d=l;d--;){var h=a[d];if(!(o?h in t:bG.call(t,h)))return!1}var f=s.get(e),v=s.get(t);if(f&&v)return f==t&&v==e;var p=!0;s.set(e,t),s.set(t,e);for(var y=o;++d<l;){h=a[d];var m=e[h],g=t[h];if(r)var _=o?r(g,m,h,t,e,s):r(m,g,h,e,t,s);if(!(_===void 0?m===g||i(m,g,n,r,s):_)){p=!1;break}y||(y=h=="constructor")}if(p&&!y){var E=e.constructor,S=t.constructor;E!=S&&"constructor"in e&&"constructor"in t&&!(typeof E=="function"&&E instanceof E&&typeof S=="function"&&S instanceof S)&&(p=!1)}return s.delete(e),s.delete(t),p}var xG=OG,NG=Xs,MG=gr,$G=NG(MG,"DataView"),LG=$G,FG=Xs,VG=gr,jG=FG(VG,"Promise"),UG=jG,BG=Xs,zG=gr,WG=BG(zG,"Set"),HG=WG,YG=Xs,qG=gr,GG=YG(qG,"WeakMap"),KG=GG,Mv=LG,$v=Cw,Lv=UG,Fv=HG,Vv=KG,ub=Pa,Oa=eb,h1="[object Map]",QG="[object Object]",f1="[object Promise]",p1="[object Set]",m1="[object WeakMap]",g1="[object DataView]",XG=Oa(Mv),JG=Oa($v),ZG=Oa(Lv),e8=Oa(Fv),t8=Oa(Vv),ls=ub;(Mv&&ls(new Mv(new ArrayBuffer(1)))!=g1||$v&&ls(new $v)!=h1||Lv&&ls(Lv.resolve())!=f1||Fv&&ls(new Fv)!=p1||Vv&&ls(new Vv)!=m1)&&(ls=function(e){var t=ub(e),n=t==QG?e.constructor:void 0,r=n?Oa(n):"";if(r)switch(r){case XG:return g1;case JG:return h1;case ZG:return f1;case e8:return p1;case t8:return m1}return t});var pp=ls,Fm=Dw,n8=tb,r8=GY,i8=xG,v1=pp,y1=Cn,_1=hp,s8=Mw,o8=1,w1="[object Arguments]",E1="[object Array]",rd="[object Object]",a8=Object.prototype,S1=a8.hasOwnProperty;function l8(e,t,n,r,i,s){var o=y1(e),a=y1(t),l=o?E1:v1(e),u=a?E1:v1(t);l=l==w1?rd:l,u=u==w1?rd:u;var c=l==rd,d=u==rd,h=l==u;if(h&&_1(e)){if(!_1(t))return!1;o=!0,c=!1}if(h&&!c)return s||(s=new Fm),o||s8(e)?n8(e,t,n,r,i,s):r8(e,t,l,n,r,i,s);if(!(n&o8)){var f=c&&S1.call(e,"__wrapped__"),v=d&&S1.call(t,"__wrapped__");if(f||v){var p=f?e.value():e,y=v?t.value():t;return s||(s=new Fm),i(p,y,n,r,s)}}return h?(s||(s=new Fm),i8(e,t,n,r,i,s)):!1}var u8=l8,c8=u8,T1=es;function cb(e,t,n,r,i){return e===t?!0:e==null||t==null||!T1(e)&&!T1(t)?e!==e&&t!==t:c8(e,t,n,r,cb,i)}var Lw=cb,d8=Lw;function h8(e,t){return d8(e,t)}var f8=h8;const p8=sn(f8);function Vm(e,t){var n=vw(e);return n?n.innerHeight:t?e.clientHeight:Es(e).height}function db(e,t,n){e.closest&&!n&&e.closest(t);var r=e;do{if(cW(r,t))return r;r=r.parentElement}while(r&&r!==n&&r.nodeType===document.ELEMENT_NODE);return null}function m8(e,t,n,r){for(var i=e.length,s=n+(r?1:-1);r?s--:++s<i;)if(t(e[s],s,e))return s;return-1}var g8=m8,v8=Dw,y8=Lw,_8=1,w8=2;function E8(e,t,n,r){var i=n.length,s=i,o=!r;if(e==null)return!s;for(e=Object(e);i--;){var a=n[i];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<s;){a=n[i];var l=a[0],u=e[l],c=a[1];if(o&&a[2]){if(u===void 0&&!(l in e))return!1}else{var d=new v8;if(r)var h=r(u,c,l,e,t,d);if(!(h===void 0?y8(c,u,_8|w8,r,d):h))return!1}}return!0}var S8=E8,T8=Zr;function I8(e){return e===e&&!T8(e)}var hb=I8,A8=hb,R8=vc;function P8(e){for(var t=R8(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,A8(i)]}return t}var C8=P8;function k8(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var fb=k8,D8=S8,b8=C8,O8=fb;function x8(e){var t=b8(e);return t.length==1&&t[0][2]?O8(t[0][0],t[0][1]):function(n){return n===e||D8(n,e,t)}}var N8=x8,M8=Cn,$8=fc,L8=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,F8=/^\w*$/;function V8(e,t){if(M8(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||$8(e)?!0:F8.test(e)||!L8.test(e)||t!=null&&e in Object(t)}var Fw=V8,pb=kw,j8="Expected a function";function Vw(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(j8);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=e.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(Vw.Cache||pb),n}Vw.Cache=pb;var U8=Vw,B8=U8,z8=500;function W8(e){var t=B8(e,function(r){return n.size===z8&&n.clear(),r}),n=t.cache;return t}var H8=W8,Y8=H8,q8=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,G8=/\\(\\)?/g,K8=Y8(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(q8,function(n,r,i,s){t.push(i?s.replace(G8,"$1"):r||n)}),t}),Q8=K8;function X8(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var jw=X8,I1=Ra,J8=jw,Z8=Cn,e7=fc,t7=1/0,A1=I1?I1.prototype:void 0,R1=A1?A1.toString:void 0;function mb(e){if(typeof e=="string")return e;if(Z8(e))return J8(e,mb)+"";if(e7(e))return R1?R1.call(e):"";var t=e+"";return t=="0"&&1/e==-t7?"-0":t}var n7=mb,r7=n7;function i7(e){return e==null?"":r7(e)}var s7=i7,o7=Cn,a7=Fw,l7=Q8,u7=s7;function c7(e,t){return o7(e)?e:a7(e,t)?[e]:l7(u7(e))}var mp=c7,d7=fc,h7=1/0;function f7(e){if(typeof e=="string"||d7(e))return e;var t=e+"";return t=="0"&&1/e==-h7?"-0":t}var yc=f7,p7=mp,m7=yc;function g7(e,t){t=p7(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[m7(t[n++])];return n&&n==r?e:void 0}var gp=g7,v7=gp;function y7(e,t,n){var r=e==null?void 0:v7(e,t);return r===void 0?n:r}var _7=y7;function w7(e,t){return e!=null&&t in Object(e)}var E7=w7,S7=mp,T7=xw,I7=Cn,A7=gw,R7=mw,P7=yc;function C7(e,t,n){t=S7(t,e);for(var r=-1,i=t.length,s=!1;++r<i;){var o=P7(t[r]);if(!(s=e!=null&&n(e,o)))break;e=e[o]}return s||++r!=i?s:(i=e==null?0:e.length,!!i&&R7(i)&&A7(o,i)&&(I7(e)||T7(e)))}var k7=C7,D7=E7,b7=k7;function O7(e,t){return e!=null&&b7(e,t,D7)}var x7=O7,N7=Lw,M7=_7,$7=x7,L7=Fw,F7=hb,V7=fb,j7=yc,U7=1,B7=2;function z7(e,t){return L7(e)&&F7(t)?V7(j7(e),t):function(n){var r=M7(n,e);return r===void 0&&r===t?$7(n,e):N7(t,r,U7|B7)}}var W7=z7;function H7(e){return e}var vp=H7;function Y7(e){return function(t){return t==null?void 0:t[e]}}var q7=Y7,G7=gp;function K7(e){return function(t){return G7(t,e)}}var Q7=K7,X7=q7,J7=Q7,Z7=Fw,eK=yc;function tK(e){return Z7(e)?X7(eK(e)):J7(e)}var nK=tK,rK=N8,iK=W7,sK=vp,oK=Cn,aK=nK;function lK(e){return typeof e=="function"?e:e==null?sK:typeof e=="object"?oK(e)?iK(e[0],e[1]):rK(e):aK(e)}var yp=lK,uK=g8,cK=yp,dK=VD,hK=Math.max;function fK(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=n==null?0:dK(n);return i<0&&(i=hK(r+i,0)),uK(e,cK(t),i)}var pK=fK;const mK=sn(pK);var gK=Math.ceil,vK=Math.max;function yK(e,t,n,r){for(var i=-1,s=vK(gK((t-e)/(n||1)),0),o=Array(s);s--;)o[r?s:++i]=e,e+=n;return o}var _K=yK,wK=_K,EK=op,jm=FD;function SK(e){return function(t,n,r){return r&&typeof r!="number"&&EK(t,n,r)&&(n=r=void 0),t=jm(t),n===void 0?(n=t,t=0):n=jm(n),r=r===void 0?t<n?1:-1:jm(r),wK(t,n,r,e)}}var TK=SK,IK=TK,AK=IK(),RK=AK;const PK=sn(RK);var P1=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function CK(e,t){return!!(e===t||P1(e)&&P1(t))}function kK(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!CK(e[n],t[n]))return!1;return!0}function gb(e,t){t===void 0&&(t=kK);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;var o=e.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}var C1=Ra,DK=xw,bK=Cn,k1=C1?C1.isConcatSpreadable:void 0;function OK(e){return bK(e)||DK(e)||!!(k1&&e&&e[k1])}var xK=OK,NK=bw,MK=xK;function vb(e,t,n,r,i){var s=-1,o=e.length;for(n||(n=MK),i||(i=[]);++s<o;){var a=e[s];t>0&&n(a)?t>1?vb(a,t-1,n,r,i):NK(i,a):r||(i[i.length]=a)}return i}var yb=vb;function $K(e){return function(t,n,r){for(var i=-1,s=Object(t),o=r(t),a=o.length;a--;){var l=o[e?a:++i];if(n(s[l],l,s)===!1)break}return t}}var LK=$K,FK=LK,VK=FK(),jK=VK,UK=jK,BK=vc;function zK(e,t){return e&&UK(e,t,BK)}var Uw=zK,WK=hc;function HK(e,t){return function(n,r){if(n==null)return n;if(!WK(n))return e(n,r);for(var i=n.length,s=t?i:-1,o=Object(n);(t?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var YK=HK,qK=Uw,GK=YK,KK=GK(qK),QK=KK,XK=QK,JK=hc;function ZK(e,t){var n=-1,r=JK(e)?Array(e.length):[];return XK(e,function(i,s,o){r[++n]=t(i,s,o)}),r}var eQ=ZK;function tQ(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var nQ=tQ,D1=fc;function rQ(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=e===e,s=D1(e),o=t!==void 0,a=t===null,l=t===t,u=D1(t);if(!a&&!u&&!s&&e>t||s&&o&&l&&!a&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!s&&!u&&e<t||u&&n&&i&&!r&&!s||a&&n&&i||!o&&i||!l)return-1}return 0}var iQ=rQ,sQ=iQ;function oQ(e,t,n){for(var r=-1,i=e.criteria,s=t.criteria,o=i.length,a=n.length;++r<o;){var l=sQ(i[r],s[r]);if(l){if(r>=a)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return e.index-t.index}var aQ=oQ,Um=jw,lQ=gp,uQ=yp,cQ=eQ,dQ=nQ,hQ=fp,fQ=aQ,pQ=vp,mQ=Cn;function gQ(e,t,n){t.length?t=Um(t,function(s){return mQ(s)?function(o){return lQ(o,s.length===1?s[0]:s)}:s}):t=[pQ];var r=-1;t=Um(t,hQ(uQ));var i=cQ(e,function(s,o,a){var l=Um(t,function(u){return u(s)});return{criteria:l,index:++r,value:s}});return dQ(i,function(s,o){return fQ(s,o,n)})}var vQ=gQ;function yQ(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var _Q=yQ,wQ=_Q,b1=Math.max;function EQ(e,t,n){return t=b1(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,s=b1(r.length-t,0),o=Array(s);++i<s;)o[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=n(o),wQ(e,this,a)}}var _b=EQ;function SQ(e){return function(){return e}}var TQ=SQ,IQ=Xs,AQ=function(){try{var e=IQ(Object,"defineProperty");return e({},"",{}),e}catch{}}(),wb=AQ,RQ=TQ,O1=wb,PQ=vp,CQ=O1?function(e,t){return O1(e,"toString",{configurable:!0,enumerable:!1,value:RQ(t),writable:!0})}:PQ,kQ=CQ,DQ=800,bQ=16,OQ=Date.now;function xQ(e){var t=0,n=0;return function(){var r=OQ(),i=bQ-(r-n);if(n=r,i>0){if(++t>=DQ)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var NQ=xQ,MQ=kQ,$Q=NQ,LQ=$Q(MQ),Eb=LQ,FQ=vp,VQ=_b,jQ=Eb;function UQ(e,t){return jQ(VQ(e,t,FQ),e+"")}var Sb=UQ,BQ=yb,zQ=vQ,WQ=Sb,x1=op,HQ=WQ(function(e,t){if(e==null)return[];var n=t.length;return n>1&&x1(e,t[0],t[1])?t=[]:n>2&&x1(t[0],t[1],t[2])&&(t=[t[0]]),zQ(e,BQ(t,1),[])}),YQ=HQ;const qQ=sn(YQ);function jv(e,t){var n=vw(e);return n?n.innerWidth:t?e.clientWidth:Es(e).width}function Tb(e){return vD(e)||ND(e)||dw(e)||yD()}function GQ(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var Ib=GQ,N1=wb;function KQ(e,t,n){t=="__proto__"&&N1?N1(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Bw=KQ,QQ=Bw,XQ=dc,JQ=Object.prototype,ZQ=JQ.hasOwnProperty;function eX(e,t,n){var r=e[t];(!(ZQ.call(e,t)&&XQ(r,n))||n===void 0&&!(t in e))&&QQ(e,t,n)}var Ab=eX,tX=Ab,nX=Bw;function rX(e,t,n,r){var i=!n;n||(n={});for(var s=-1,o=t.length;++s<o;){var a=t[s],l=r?r(n[a],e[a],a,n,e):void 0;l===void 0&&(l=e[a]),i?nX(n,a,l):tX(n,a,l)}return n}var _c=rX,iX=_c,sX=vc;function oX(e,t){return e&&iX(t,sX(t),e)}var aX=oX;function lX(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var uX=lX,cX=Zr,dX=$w,hX=uX,fX=Object.prototype,pX=fX.hasOwnProperty;function mX(e){if(!cX(e))return hX(e);var t=dX(e),n=[];for(var r in e)r=="constructor"&&(t||!pX.call(e,r))||n.push(r);return n}var gX=mX,vX=ob,yX=gX,_X=hc;function wX(e){return _X(e)?vX(e,!0):yX(e)}var _p=wX,EX=_c,SX=_p;function TX(e,t){return e&&EX(t,SX(t),e)}var IX=TX,Yh={exports:{}};Yh.exports;(function(e,t){var n=gr,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===r,o=s?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var d=u.length,h=a?a(d):new u.constructor(d);return u.copy(h),h}e.exports=l})(Yh,Yh.exports);var AX=Yh.exports;function RX(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var PX=RX,CX=_c,kX=Ow;function DX(e,t){return CX(e,kX(e),t)}var bX=DX,OX=ab,xX=OX(Object.getPrototypeOf,Object),wp=xX,NX=bw,MX=wp,$X=Ow,LX=ib,FX=Object.getOwnPropertySymbols,VX=FX?function(e){for(var t=[];e;)NX(t,$X(e)),e=MX(e);return t}:LX,Rb=VX,jX=_c,UX=Rb;function BX(e,t){return jX(e,UX(e),t)}var zX=BX,WX=rb,HX=Rb,YX=_p;function qX(e){return WX(e,YX,HX)}var Pb=qX,GX=Object.prototype,KX=GX.hasOwnProperty;function QX(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&KX.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var XX=QX,M1=nb;function JX(e){var t=new e.constructor(e.byteLength);return new M1(t).set(new M1(e)),t}var zw=JX,ZX=zw;function eJ(e,t){var n=t?ZX(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var tJ=eJ,nJ=/\w*$/;function rJ(e){var t=new e.constructor(e.source,nJ.exec(e));return t.lastIndex=e.lastIndex,t}var iJ=rJ,$1=Ra,L1=$1?$1.prototype:void 0,F1=L1?L1.valueOf:void 0;function sJ(e){return F1?Object(F1.call(e)):{}}var oJ=sJ,aJ=zw;function lJ(e,t){var n=t?aJ(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var uJ=lJ,cJ=zw,dJ=tJ,hJ=iJ,fJ=oJ,pJ=uJ,mJ="[object Boolean]",gJ="[object Date]",vJ="[object Map]",yJ="[object Number]",_J="[object RegExp]",wJ="[object Set]",EJ="[object String]",SJ="[object Symbol]",TJ="[object ArrayBuffer]",IJ="[object DataView]",AJ="[object Float32Array]",RJ="[object Float64Array]",PJ="[object Int8Array]",CJ="[object Int16Array]",kJ="[object Int32Array]",DJ="[object Uint8Array]",bJ="[object Uint8ClampedArray]",OJ="[object Uint16Array]",xJ="[object Uint32Array]";function NJ(e,t,n){var r=e.constructor;switch(t){case TJ:return cJ(e);case mJ:case gJ:return new r(+e);case IJ:return dJ(e,n);case AJ:case RJ:case PJ:case CJ:case kJ:case DJ:case bJ:case OJ:case xJ:return pJ(e,n);case vJ:return new r;case yJ:case EJ:return new r(e);case _J:return hJ(e);case wJ:return new r;case SJ:return fJ(e)}}var MJ=NJ,$J=Zr,V1=Object.create,LJ=function(){function e(){}return function(t){if(!$J(t))return{};if(V1)return V1(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),Cb=LJ,FJ=Cb,VJ=wp,jJ=$w;function UJ(e){return typeof e.constructor=="function"&&!jJ(e)?FJ(VJ(e)):{}}var BJ=UJ,zJ=pp,WJ=es,HJ="[object Map]";function YJ(e){return WJ(e)&&zJ(e)==HJ}var qJ=YJ,GJ=qJ,KJ=fp,j1=Nw,U1=j1&&j1.isMap,QJ=U1?KJ(U1):GJ,XJ=QJ,JJ=pp,ZJ=es,eZ="[object Set]";function tZ(e){return ZJ(e)&&JJ(e)==eZ}var nZ=tZ,rZ=nZ,iZ=fp,B1=Nw,z1=B1&&B1.isSet,sZ=z1?iZ(z1):rZ,oZ=sZ,aZ=Dw,lZ=Ib,uZ=Ab,cZ=aX,dZ=IX,hZ=AX,fZ=PX,pZ=bX,mZ=zX,gZ=lb,vZ=Pb,yZ=pp,_Z=XX,wZ=MJ,EZ=BJ,SZ=Cn,TZ=hp,IZ=XJ,AZ=Zr,RZ=oZ,PZ=vc,CZ=_p,kZ=1,DZ=2,bZ=4,kb="[object Arguments]",OZ="[object Array]",xZ="[object Boolean]",NZ="[object Date]",MZ="[object Error]",Db="[object Function]",$Z="[object GeneratorFunction]",LZ="[object Map]",FZ="[object Number]",bb="[object Object]",VZ="[object RegExp]",jZ="[object Set]",UZ="[object String]",BZ="[object Symbol]",zZ="[object WeakMap]",WZ="[object ArrayBuffer]",HZ="[object DataView]",YZ="[object Float32Array]",qZ="[object Float64Array]",GZ="[object Int8Array]",KZ="[object Int16Array]",QZ="[object Int32Array]",XZ="[object Uint8Array]",JZ="[object Uint8ClampedArray]",ZZ="[object Uint16Array]",eee="[object Uint32Array]",ke={};ke[kb]=ke[OZ]=ke[WZ]=ke[HZ]=ke[xZ]=ke[NZ]=ke[YZ]=ke[qZ]=ke[GZ]=ke[KZ]=ke[QZ]=ke[LZ]=ke[FZ]=ke[bb]=ke[VZ]=ke[jZ]=ke[UZ]=ke[BZ]=ke[XZ]=ke[JZ]=ke[ZZ]=ke[eee]=!0;ke[MZ]=ke[Db]=ke[zZ]=!1;function xd(e,t,n,r,i,s){var o,a=t&kZ,l=t&DZ,u=t&bZ;if(n&&(o=i?n(e,r,i,s):n(e)),o!==void 0)return o;if(!AZ(e))return e;var c=SZ(e);if(c){if(o=_Z(e),!a)return fZ(e,o)}else{var d=yZ(e),h=d==Db||d==$Z;if(TZ(e))return hZ(e,a);if(d==bb||d==kb||h&&!i){if(o=l||h?{}:EZ(e),!a)return l?mZ(e,dZ(o,e)):pZ(e,cZ(o,e))}else{if(!ke[d])return i?e:{};o=wZ(e,d,a)}}s||(s=new aZ);var f=s.get(e);if(f)return f;s.set(e,o),RZ(e)?e.forEach(function(y){o.add(xd(y,t,n,y,e,s))}):IZ(e)&&e.forEach(function(y,m){o.set(m,xd(y,t,n,m,e,s))});var v=u?l?vZ:gZ:l?CZ:PZ,p=c?void 0:v(e);return lZ(p||e,function(y,m){p&&(m=y,y=e[m]),uZ(o,m,xd(y,t,n,m,e,s))}),o}var tee=xd;function nee(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var ree=nee,iee=gp,see=MD;function oee(e,t){return t.length<2?e:iee(e,see(t,0,-1))}var aee=oee,lee=mp,uee=ree,cee=aee,dee=yc;function hee(e,t){return t=lee(t,e),e=cee(e,t),e==null||delete e[dee(uee(t))]}var fee=hee,pee=Pa,mee=wp,gee=es,vee="[object Object]",yee=Function.prototype,_ee=Object.prototype,Ob=yee.toString,wee=_ee.hasOwnProperty,Eee=Ob.call(Object);function See(e){if(!gee(e)||pee(e)!=vee)return!1;var t=mee(e);if(t===null)return!0;var n=wee.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Ob.call(n)==Eee}var Tee=See,Iee=Tee;function Aee(e){return Iee(e)?void 0:e}var Ree=Aee,Pee=yb;function Cee(e){var t=e==null?0:e.length;return t?Pee(e,1):[]}var kee=Cee,Dee=kee,bee=_b,Oee=Eb;function xee(e){return Oee(bee(e,void 0,Dee),e+"")}var Nee=xee,Mee=jw,$ee=tee,Lee=fee,Fee=mp,Vee=_c,jee=Ree,Uee=Nee,Bee=Pb,zee=1,Wee=2,Hee=4,Yee=Uee(function(e,t){var n={};if(e==null)return n;var r=!1;t=Mee(t,function(s){return s=Fee(s,e),r||(r=s.length>1),s}),Vee(e,Bee(e),n),r&&(n=$ee(n,zee|Wee|Hee,jee));for(var i=t.length;i--;)Lee(n,t[i]);return n}),qee=Yee;const Gee=sn(qee);var Kee=Sb,Qee=dc,Xee=op,Jee=_p,xb=Object.prototype,Zee=xb.hasOwnProperty,ete=Kee(function(e,t){e=Object(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&Xee(t[0],t[1],i)&&(r=1);++n<r;)for(var s=t[n],o=Jee(s),a=-1,l=o.length;++a<l;){var u=o[a],c=e[u];(c===void 0||Qee(c,xb[u])&&!Zee.call(e,u))&&(e[u]=s[u])}return e}),tte=ete;const nte=sn(tte);var rte=Ib,ite=Cb,ste=Uw,ote=yp,ate=wp,lte=Cn,ute=hp,cte=pw,dte=Zr,hte=Mw;function fte(e,t,n){var r=lte(e),i=r||ute(e)||hte(e);if(t=ote(t),n==null){var s=e&&e.constructor;i?n=r?new s:[]:dte(e)?n=cte(s)?ite(ate(e)):{}:n={}}return(i?rte:ste)(e,function(o,a,l){return t(n,o,a,l)}),n}var pte=fte;const mte=sn(pte);var gte=Bw,vte=Uw,yte=yp;function _te(e,t){var n={};return t=yte(t),vte(e,function(r,i,s){gte(n,i,t(r,i,s))}),n}var wte=_te;const Ete=sn(wte);var Ste={exports:{}};(function(e,t){(function(n,r){e.exports=r()})($n,function(){return function(n,r,i){r.prototype.isBetween=function(s,o,a,l){var u=i(s),c=i(o),d=(l=l||"()")[0]==="(",h=l[1]===")";return(d?this.isAfter(u,a):!this.isBefore(u,a))&&(h?this.isBefore(c,a):!this.isAfter(c,a))||(d?this.isBefore(u,a):!this.isAfter(u,a))&&(h?this.isAfter(c,a):!this.isBefore(c,a))}}})})(Ste);var Tte={exports:{}};(function(e,t){(function(n,r){e.exports=r()})($n,function(){return function(n,r){r.prototype.isSameOrAfter=function(i,s){return this.isSame(i,s)||this.isAfter(i,s)}}})})(Tte);var Ite={exports:{}};(function(e,t){(function(n,r){e.exports=r()})($n,function(){return function(n,r){r.prototype.isSameOrBefore=function(i,s){return this.isSame(i,s)||this.isBefore(i,s)}}})})(Ite);var Ate={exports:{}};(function(e,t){(function(n,r){e.exports=r()})($n,function(){return function(n,r,i){var s=r.prototype,o=function(d){return d&&(d.indexOf?d:d.s)},a=function(d,h,f,v,p){var y=d.name?d:d.$locale(),m=o(y[h]),g=o(y[f]),_=m||g.map(function(S){return S.slice(0,v)});if(!p)return _;var E=y.weekStart;return _.map(function(S,T){return _[(T+(E||0))%7]})},l=function(){return i.Ls[i.locale()]},u=function(d,h){return d.formats[h]||function(f){return f.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(v,p,y){return p||y.slice(1)})}(d.formats[h.toUpperCase()])},c=function(){var d=this;return{months:function(h){return h?h.format("MMMM"):a(d,"months")},monthsShort:function(h){return h?h.format("MMM"):a(d,"monthsShort","months",3)},firstDayOfWeek:function(){return d.$locale().weekStart||0},weekdays:function(h){return h?h.format("dddd"):a(d,"weekdays")},weekdaysMin:function(h){return h?h.format("dd"):a(d,"weekdaysMin","weekdays",2)},weekdaysShort:function(h){return h?h.format("ddd"):a(d,"weekdaysShort","weekdays",3)},longDateFormat:function(h){return u(d.$locale(),h)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};s.localeData=function(){return c.bind(this)()},i.localeData=function(){var d=l();return{firstDayOfWeek:function(){return d.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(h){return u(d,h)},meridiem:d.meridiem,ordinal:d.ordinal}},i.months=function(){return a(l(),"months")},i.monthsShort=function(){return a(l(),"monthsShort","months",3)},i.weekdays=function(d){return a(l(),"weekdays",null,null,d)},i.weekdaysShort=function(d){return a(l(),"weekdaysShort","weekdays",3,d)},i.weekdaysMin=function(d){return a(l(),"weekdaysMin","weekdays",2,d)}}})})(Ate);var Rte={exports:{}};(function(e,t){(function(n,r){e.exports=r()})($n,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,i,s){var o=i.prototype,a=o.format;s.en.formats=n,o.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var u=this.$locale().formats,c=function(d,h){return d.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(f,v,p){var y=p&&p.toUpperCase();return v||h[p]||n[p]||h[y].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(m,g,_){return g||_.slice(1)})})}(l,u===void 0?{}:u);return a.call(this,c)}}})})(Rte);var Pte={exports:{}};(function(e,t){(function(n,r){e.exports=r()})($n,function(){return function(n,r,i){var s=function(o,a){if(!a||!a.length||a.length===1&&!a[0]||a.length===1&&Array.isArray(a[0])&&!a[0].length)return null;var l;a.length===1&&a[0].length>0&&(a=a[0]),l=(a=a.filter(function(c){return c}))[0];for(var u=1;u<a.length;u+=1)a[u].isValid()&&!a[u][o](l)||(l=a[u]);return l};i.max=function(){var o=[].slice.call(arguments,0);return s("isAfter",o)},i.min=function(){var o=[].slice.call(arguments,0);return s("isBefore",o)}}})})(Pte);var Cte={exports:{}};(function(e,t){(function(n,r){e.exports=r()})($n,function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(s,o,a){var l=o.prototype;a.utc=function(p){var y={date:p,utc:!0,args:arguments};return new o(y)},l.utc=function(p){var y=a(this.toDate(),{locale:this.$L,utc:!0});return p?y.add(this.utcOffset(),n):y},l.local=function(){return a(this.toDate(),{locale:this.$L,utc:!1})};var u=l.parse;l.parse=function(p){p.utc&&(this.$u=!0),this.$utils().u(p.$offset)||(this.$offset=p.$offset),u.call(this,p)};var c=l.init;l.init=function(){if(this.$u){var p=this.$d;this.$y=p.getUTCFullYear(),this.$M=p.getUTCMonth(),this.$D=p.getUTCDate(),this.$W=p.getUTCDay(),this.$H=p.getUTCHours(),this.$m=p.getUTCMinutes(),this.$s=p.getUTCSeconds(),this.$ms=p.getUTCMilliseconds()}else c.call(this)};var d=l.utcOffset;l.utcOffset=function(p,y){var m=this.$utils().u;if(m(p))return this.$u?0:m(this.$offset)?d.call(this):this.$offset;if(typeof p=="string"&&(p=function(S){S===void 0&&(S="");var T=S.match(r);if(!T)return null;var I=(""+T[0]).match(i)||["-",0,0],P=I[0],b=60*+I[1]+ +I[2];return b===0?0:P==="+"?b:-b}(p),p===null))return this;var g=Math.abs(p)<=16?60*p:p,_=this;if(y)return _.$offset=g,_.$u=p===0,_;if(p!==0){var E=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(_=this.local().add(g+E,n)).$offset=g,_.$x.$localOffset=E}else _=this.utc();return _};var h=l.format;l.format=function(p){var y=p||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return h.call(this,y)},l.valueOf=function(){var p=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*p},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var f=l.toDate;l.toDate=function(p){return p==="s"&&this.$offset?a(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():f.call(this)};var v=l.diff;l.diff=function(p,y,m){if(p&&this.$u===p.$u)return v.call(this,p,y,m);var g=this.local(),_=a(p).local();return v.call(g,_,y,m)}}})})(Cte);function Sr(e){return e.children}var rn={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},jt={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},W1=Object.keys(jt).map(function(e){return jt[e]});F.oneOfType([F.string,F.func]);F.any;F.func;F.oneOfType([F.arrayOf(F.oneOf(W1)),F.objectOf(function(e,t){var n=W1.indexOf(t)!==-1&&typeof e[t]=="boolean";if(n)return null;for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];return F.elementType.apply(F,[e,t].concat(i))})]);F.oneOfType([F.oneOf(["overlap","no-overlap"]),F.func]);function je(e,t){e&&e.apply(null,[].concat(t))}var H1={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function Nb(e,t){var n=At(e,"month");return At(n,"week",t.startOfWeek())}function Mb(e,t){var n=jh(e,"month");return jh(n,"week",t.startOfWeek())}function kte(e,t){for(var n=Nb(e,t),r=Mb(e,t),i=[];Ia(n,r,"day");)i.push(n),n=Wn(n,1,"day");return i}function Dte(e,t){var n=At(e,t);return uc(n,e)?n:Wn(n,1,t)}function bte(e,t){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",r=e,i=[];Ia(r,t,n);)i.push(r),r=Wn(r,1,n);return i}function Ote(e,t){return t==null&&e==null?null:(t==null&&(t=new Date),e==null&&(e=new Date),e=At(e,"day"),e=Tu(e,Tu(t)),e=ia(e,ia(t)),e=Su(e,Su(t)),Eu(e,Eu(t)))}function Y1(e){return Tu(e)===0&&ia(e)===0&&Su(e)===0&&Eu(e)===0}function xte(e,t,n,r){return n==="day"&&(n="date"),Math.abs(CT[n](e,void 0,r)-CT[n](t,void 0,r))}function Ww(e,t,n){return!n||n==="milliseconds"?Math.abs(+e-+t):Math.round(Math.abs(+At(e,n)/H1[n]-+At(t,n)/H1[n]))}var Nte=F.oneOfType([F.string,F.func]);function Mte(e,t,n,r,i){var s=typeof r=="function"?r(n,i,e):t.call(e,n,r,i);return mu(s==null||typeof s=="string","`localizer format(..)` must return a string, null, or undefined"),s}function $te(e,t,n){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+n,0,0)}function Hw(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function Lte(e,t){return Ww(e,t,"minutes")+Hw(e,t)}function Fte(e){var t=At(e,"day");return Ww(t,e,"minutes")+Hw(t,e)}function Vte(e,t){return fw(e,t,"day")}function jte(e,t,n){var r=uc(e,t,"minutes");return r?cc(t,n,"minutes"):sp(t,n,"minutes")}function Uv(e,t){return xte(e,t,"day")}function Ute(e){var t=e.evtA,n=t.start,r=t.end,i=t.allDay,s=e.evtB,o=s.start,a=s.end,l=s.allDay,u=+At(n,"day")-+At(o,"day"),c=Uv(n,r),d=Uv(o,a);return u||d-c||!!l-!!i||+n-+o||+r-+a}function Bte(e){var t=e.event,n=t.start,r=t.end,i=e.range,s=i.start,o=i.end,a=At(n,"day"),l=Ia(a,o,"day"),u=hw(a,r,"minutes"),c=u?sp(r,s,"minutes"):cc(r,s,"minutes");return l&&c}function zte(e,t){return uc(e,t,"day")}function Wte(e,t){return Y1(e)&&Y1(t)}var Hte=mt(function e(t){var n=this;pt(this,e),mu(typeof t.format=="function","date localizer `format(..)` must be a function"),mu(typeof t.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||Nte,this.formats=t.formats,this.format=function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return Mte.apply(void 0,[n,t.format].concat(i))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||Ote,this.inRange=t.inRange||DD,this.lt=t.lt||fw,this.lte=t.lte||Ia,this.gt=t.gt||sp,this.gte=t.gte||cc,this.eq=t.eq||uc,this.neq=t.neq||hw,this.startOf=t.startOf||At,this.endOf=t.endOf||jh,this.add=t.add||Wn,this.range=t.range||bte,this.diff=t.diff||Ww,this.ceil=t.ceil||Dte,this.min=t.min||CD,this.max=t.max||kD,this.minutes=t.minutes||ia,this.daySpan=t.daySpan||Uv,this.firstVisibleDay=t.firstVisibleDay||Nb,this.lastVisibleDay=t.lastVisibleDay||Mb,this.visibleDays=t.visibleDays||kte,this.getSlotDate=t.getSlotDate||$te,this.getTimezoneOffset=t.getTimezoneOffset||function(r){return r.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||Hw,this.getTotalMin=t.getTotalMin||Lte,this.getMinutesFromMidnight=t.getMinutesFromMidnight||Fte,this.continuesPrior=t.continuesPrior||Vte,this.continuesAfter=t.continuesAfter||jte,this.sortEvents=t.sortEvents||Ute,this.inEventRange=t.inEventRange||Bte,this.isSameDate=t.isSameDate||zte,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||Wte,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function Yte(e,t,n,r){var i=Ce(Ce({},e.formats),n);return Ce(Ce({},e),{},{messages:r,startOfWeek:function(){return e.startOfWeek(t)},format:function(o,a){return e.format(o,i[a]||a,t)}})}var qte={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(t){return"+".concat(t," more")}};function Gte(e){return Ce(Ce({},qte),e)}function Kte(e){var t=e.ref,n=e.callback;R.useEffect(function(){var r=function(s){t.current&&!t.current.contains(s.target)&&n()};return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[t,n])}var Qte=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],$b=function(e){Yt(t,e);function t(){return pt(this,t),Ht(this,t,arguments)}return mt(t,[{key:"render",value:function(){var r=this.props,i=r.style,s=r.className,o=r.event,a=r.selected,l=r.isAllDay,u=r.onSelect,c=r.onDoubleClick,d=r.onKeyPress,h=r.localizer,f=r.continuesPrior,v=r.continuesAfter,p=r.accessors,y=r.getters,m=r.children,g=r.components,_=g.event,E=g.eventWrapper,S=r.slotStart,T=r.slotEnd,I=fr(r,Qte);delete I.resizable;var P=p.title(o),b=p.tooltip(o),C=p.end(o),L=p.start(o),z=p.allDay(o),q=l||z||h.diff(L,h.ceil(C,"day"),"day")>1,Ee=y.eventProp(o,L,C,a),ye=A.createElement("div",{className:"rbc-event-content",title:b||void 0},_?A.createElement(_,{event:o,continuesPrior:f,continuesAfter:v,title:P,isAllDay:z,localizer:h,slotStart:S,slotEnd:T}):P);return A.createElement(E,Object.assign({},this.props,{type:"date"}),A.createElement("div",Object.assign({},I,{style:Ce(Ce({},Ee.style),i),className:at("rbc-event",s,Ee.className,{"rbc-selected":a,"rbc-event-allday":q,"rbc-event-continues-prior":f,"rbc-event-continues-after":v}),onClick:function(fe){return u&&u(o,fe)},onDoubleClick:function(fe){return c&&c(o,fe)},onKeyDown:function(fe){return d&&d(o,fe)}}),typeof m=="function"?m(ye):ye))}}]),t}(A.Component);function Ep(e,t){return!e||t==null?!1:p8(e,t)}function Lb(e,t){var n=e.right-e.left,r=n/t;return r}function Fb(e,t,n,r){var i=Lb(e,r);return n?r-1-Math.floor((t-e.left)/i):Math.floor((t-e.left)/i)}function Xte(e,t){var n=t.x,r=t.y;return r>=e.top&&r<=e.bottom&&n>=e.left&&n<=e.right}function Jte(e,t,n,r,i){var s=-1,o=-1,a=r-1,l=Lb(t,r),u=Fb(t,n.x,i,r),c=t.top<n.y&&t.bottom>n.y,d=t.top<e.y&&t.bottom>e.y,h=e.y>t.bottom,f=t.top>e.y,v=n.top<t.top&&n.bottom>t.bottom;return v&&(s=0,o=a),c&&(f?(s=0,o=u):h&&(s=u,o=a)),d&&(s=o=i?a-Math.floor((e.x-t.left)/l):Math.floor((e.x-t.left)/l),c?u<s?s=u:o=u:e.y<n.y?o=a:s=0),{startIdx:s,endIdx:o}}function Zte(e){var t=e.target,n=e.offset,r=e.container,i=e.box,s=Es(t),o=s.top,a=s.left,l=s.width,u=s.height,c=Es(r),d=c.top,h=c.left,f=c.width,v=c.height,p=Es(i),y=p.width,m=p.height,g=d+v,_=h+f,E=o+m,S=a+y,T=n.x,I=n.y,P=E>g?o-m-I:o+I+u,b=S>_?a+T-y+l:a+T;return{topOffset:P,leftOffset:b}}function ene(e){var t=e.containerRef,n=e.accessors,r=e.getters,i=e.selected,s=e.components,o=e.localizer,a=e.position,l=e.show,u=e.events,c=e.slotStart,d=e.slotEnd,h=e.onSelect,f=e.onDoubleClick,v=e.onKeyPress,p=e.handleDragStart,y=e.popperRef,m=e.target,g=e.offset;Kte({ref:y,callback:l}),R.useLayoutEffect(function(){var S=Zte({target:m,offset:g,container:t.current,box:y.current}),T=S.topOffset,I=S.leftOffset;y.current.style.top="".concat(T,"px"),y.current.style.left="".concat(I,"px")},[g.x,g.y,m]);var _=a.width,E={minWidth:_+_/2};return A.createElement("div",{style:E,className:"rbc-overlay",ref:y},A.createElement("div",{className:"rbc-overlay-header"},o.format(c,"dayHeaderFormat")),u.map(function(S,T){return A.createElement($b,{key:T,type:"popup",localizer:o,event:S,getters:r,onSelect:h,accessors:n,components:s,onDoubleClick:f,onKeyPress:v,continuesPrior:o.lt(n.end(S),c,"day"),continuesAfter:o.gte(n.start(S),d,"day"),slotStart:c,slotEnd:d,selected:Ep(S,i),draggable:!0,onDragStart:function(){return p(S)},onDragEnd:function(){return l()}})}))}var Vb=A.forwardRef(function(e,t){return A.createElement(ene,Object.assign({},e,{popperRef:t}))});Vb.propTypes={accessors:F.object.isRequired,getters:F.object.isRequired,selected:F.object,components:F.object.isRequired,localizer:F.object.isRequired,position:F.object.isRequired,show:F.func.isRequired,events:F.array.isRequired,slotStart:F.instanceOf(Date).isRequired,slotEnd:F.instanceOf(Date),onSelect:F.func,onDoubleClick:F.func,onKeyPress:F.func,handleDragStart:F.func,style:F.object,offset:F.shape({x:F.number,y:F.number})};function tne(e){var t=e.containerRef,n=e.popupOffset,r=n===void 0?5:n,i=e.overlay,s=e.accessors,o=e.localizer,a=e.components,l=e.getters,u=e.selected,c=e.handleSelectEvent,d=e.handleDoubleClickEvent,h=e.handleKeyPressEvent,f=e.handleDragStart,v=e.onHide,p=e.overlayDisplay,y=R.useRef(null);if(!i.position)return null;var m=r;isNaN(r)||(m={x:r,y:r});var g=i.position,_=i.events,E=i.date,S=i.end;return A.createElement(U6,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:v,target:i.target},function(T){var I=T.props;return A.createElement(Vb,Object.assign({},I,{containerRef:t,ref:y,target:i.target,offset:m,accessors:s,getters:l,selected:u,components:a,localizer:o,position:g,show:p,events:_,slotStart:E,slotEnd:S,onSelect:c,onDoubleClick:d,onKeyPress:h,handleDragStart:f}))})}var Yw=A.forwardRef(function(e,t){return A.createElement(tne,Object.assign({},e,{containerRef:t}))});Yw.propTypes={popupOffset:F.oneOfType([F.number,F.shape({x:F.number,y:F.number})]),overlay:F.shape({position:F.object,events:F.array,date:F.instanceOf(Date),end:F.instanceOf(Date)}),accessors:F.object.isRequired,localizer:F.object.isRequired,components:F.object.isRequired,getters:F.object.isRequired,selected:F.object,handleSelectEvent:F.func,handleDoubleClickEvent:F.func,handleKeyPressEvent:F.func,handleDragStart:F.func,onHide:F.func,overlayDisplay:F.func};function kt(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return hl(n,e,t,{passive:!1})}function nne(e,t,n){return!e||Iu(e,document.elementFromPoint(t,n))}function rne(e,t){var n=t.clientX,r=t.clientY,i=document.elementFromPoint(n,r);return db(i,".rbc-event",e)}function ine(e,t){var n=t.clientX,r=t.clientY,i=document.elementFromPoint(n,r);return db(i,".rbc-show-more",e)}function qh(e,t){return!!rne(e,t)}function sne(e,t){return!!ine(e,t)}function Ja(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var q1=5,one=250,jb=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.global,i=r===void 0?!1:r,s=n.longPressThreshold,o=s===void 0?250:s,a=n.validContainers,l=a===void 0?[]:a;pt(this,e),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=t,this.globalMouse=!t||i,this.longPressThreshold=o,this.validContainers=l,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=kt("touchmove",function(){},window),this._removeKeyDownListener=kt("keydown",this._keyListener),this._removeKeyUpListener=kt("keyup",this._keyListener),this._removeDropFromOutsideListener=kt("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=kt("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return mt(e,[{key:"on",value:function(n,r){var i=this._listeners[n]||(this._listeners[n]=[]);return i.push(r),{remove:function(){var o=i.indexOf(r);o!==-1&&i.splice(o,1)}}}},{key:"emit",value:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];var o,a=this._listeners[n]||[];return a.forEach(function(l){o===void 0&&(o=l.apply(void 0,i))}),o}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(n){var r=this._selectRect;return!r||!this.selecting?!1:G1(r,Bs(n))}},{key:"filter",value:function(n){var r=this._selectRect;return!r||!this.selecting?[]:n.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(n,r){var i=this,s=null,o=null,a=null,l=function(h){s=setTimeout(function(){c(),n(h)},i.longPressThreshold),o=kt("touchmove",function(){return c()}),a=kt("touchend",function(){return c()})},u=kt("touchstart",l),c=function(){s&&clearTimeout(s),o&&o(),a&&a(),s=null,o=null,a=null};return r&&l(r),function(){c(),u()}}},{key:"_addInitialEventListener",value:function(){var n=this,r=kt("mousedown",function(s){n._removeInitialEventListener(),n._handleInitialEvent(s),n._removeInitialEventListener=kt("mousedown",n._handleInitialEvent)}),i=kt("touchstart",function(s){n._removeInitialEventListener(),n._removeInitialEventListener=n._addLongPressListener(n._handleInitialEvent,s)});this._removeInitialEventListener=function(){r(),i()}}},{key:"_dropFromOutsideListener",value:function(n){var r=Ja(n),i=r.pageX,s=r.pageY,o=r.clientX,a=r.clientY;this.emit("dropFromOutside",{x:i,y:s,clientX:o,clientY:a}),n.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(n){var r=Ja(n),i=r.pageX,s=r.pageY,o=r.clientX,a=r.clientY;this.emit("dragOverFromOutside",{x:i,y:s,clientX:o,clientY:a}),n.preventDefault()}},{key:"_handleInitialEvent",value:function(n){if(this._initialEvent=n,!this.isDetached){var r=Ja(n),i=r.clientX,s=r.clientY,o=r.pageX,a=r.pageY,l=this.container(),u,c;if(!(n.which===3||n.button===2||!nne(l,i,s))){if(!this.globalMouse&&l&&!Iu(l,n.target)){var d=ane(0),h=d.top,f=d.left,v=d.bottom,p=d.right;if(c=Bs(l),u=G1({top:c.top-h,left:c.left-f,bottom:c.bottom+v,right:c.right+p},{top:a,left:o}),!u)return}var y=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(n.type),x:o,y:a,clientX:i,clientY:s});if(y!==!1)switch(n.type){case"mousedown":this._removeEndListener=kt("mouseup",this._handleTerminatingEvent),this._onEscListener=kt("keydown",this._handleTerminatingEvent),this._removeMoveListener=kt("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(n),this._removeEndListener=kt("touchend",this._handleTerminatingEvent),this._removeMoveListener=kt("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(n){var r=n.target,i=this.validContainers;return!i||!i.length||!r?!0:i.some(function(s){return!!r.closest(s)})}},{key:"_handleTerminatingEvent",value:function(n){var r=this.selecting,i=this._selectRect;if(!r&&n.type.includes("key")&&(n=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,this._lastClickData=null,!!n){var s=!this.container||Iu(this.container(),n.target),o=this._isWithinValidContainer(n);return n.key==="Escape"||!o?this.emit("reset"):!r&&s?this._handleClickEvent(n):r?this.emit("select",i):this.emit("reset")}}},{key:"_handleClickEvent",value:function(n){var r=Ja(n),i=r.pageX,s=r.pageY,o=r.clientX,a=r.clientY,l=new Date().getTime();return this._lastClickData&&l-this._lastClickData.timestamp<one?(this._lastClickData=null,this.emit("doubleClick",{x:i,y:s,clientX:o,clientY:a})):(this._lastClickData={timestamp:l},this.emit("click",{x:i,y:s,clientX:o,clientY:a}))}},{key:"_handleMoveEvent",value:function(n){if(!(this._initialEventData===null||this.isDetached)){var r=this._initialEventData,i=r.x,s=r.y,o=Ja(n),a=o.pageX,l=o.pageY,u=Math.abs(i-a),c=Math.abs(s-l),d=Math.min(a,i),h=Math.min(l,s),f=this.selecting,v=this.isClick(a,l);v&&!f&&!(u||c)||(!f&&!v&&this.emit("selectStart",this._initialEventData),v||(this.selecting=!0,this._selectRect={top:h,left:d,x:a,y:l,right:d+u,bottom:h+c},this.emit("selecting",this._selectRect)),n.preventDefault())}}},{key:"_keyListener",value:function(n){this.ctrl=n.metaKey||n.ctrlKey}},{key:"isClick",value:function(n,r){var i=this._initialEventData,s=i.x,o=i.y,a=i.isTouch;return!a&&Math.abs(n-s)<=q1&&Math.abs(r-o)<=q1}}]),e}();function ane(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return Yr(e)!=="object"&&(e={top:e,left:e,right:e,bottom:e}),e}function G1(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=Bs(e),i=r.top,s=r.left,o=r.right,a=o===void 0?s:o,l=r.bottom,u=l===void 0?i:l,c=Bs(t),d=c.top,h=c.left,f=c.right,v=f===void 0?h:f,p=c.bottom,y=p===void 0?d:p;return!(u-n<d||i+n>y||a-n<h||s+n>v)}function Bs(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),n=t.left+K1("left"),r=t.top+K1("top");return{top:r,left:n,right:(e.offsetWidth||0)+n,bottom:(e.offsetHeight||0)+r}}function K1(e){if(e==="left")return window.pageXOffset||document.body.scrollLeft||0;if(e==="top")return window.pageYOffset||document.body.scrollTop||0}var lne=function(e){Yt(t,e);function t(n,r){var i;return pt(this,t),i=Ht(this,t,[n,r]),i.state={selecting:!1},i.containerRef=R.createRef(),i}return mt(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(r){!r.selectable&&this.props.selectable&&this._selectable(),r.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var r=this.props,i=r.range,s=r.getNow,o=r.getters,a=r.date,l=r.components.dateCellWrapper,u=r.localizer,c=this.state,d=c.selecting,h=c.startIdx,f=c.endIdx,v=s();return A.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},i.map(function(p,y){var m=d&&y>=h&&y<=f,g=o.dayProp(p),_=g.className,E=g.style;return A.createElement(l,{key:y,value:p,range:i},A.createElement("div",{style:E,className:at("rbc-day-bg",_,m&&"rbc-selected-cell",u.isSameDate(p,v)&&"rbc-today",a&&u.neq(a,p,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var r=this,i=this.containerRef.current,s=this._selector=new jb(this.props.container,{longPressThreshold:this.props.longPressThreshold}),o=function(l,u){if(!qh(i,l)&&!sne(i,l)){var c=Bs(i),d=r.props,h=d.range,f=d.rtl;if(Xte(c,l)){var v=Fb(c,l.x,f,h.length);r._selectSlot({startIdx:v,endIdx:v,action:u,box:l})}}r._initial={},r.setState({selecting:!1})};s.on("selecting",function(a){var l=r.props,u=l.range,c=l.rtl,d=-1,h=-1;if(r.state.selecting||(je(r.props.onSelectStart,[a]),r._initial={x:a.x,y:a.y}),s.isSelected(i)){var f=Bs(i),v=Jte(r._initial,f,a,u.length,c);d=v.startIdx,h=v.endIdx}r.setState({selecting:!0,startIdx:d,endIdx:h})}),s.on("beforeSelect",function(a){if(r.props.selectable==="ignoreEvents")return!qh(r.containerRef.current,a)}),s.on("click",function(a){return o(a,"click")}),s.on("doubleClick",function(a){return o(a,"doubleClick")}),s.on("select",function(a){r._selectSlot(Ce(Ce({},r.state),{},{action:"select",bounds:a})),r._initial={},r.setState({selecting:!1}),je(r.props.onSelectEnd,[r.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(r){var i=r.endIdx,s=r.startIdx,o=r.action,a=r.bounds,l=r.box;i!==-1&&s!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:s,end:i,action:o,bounds:a,box:l,resourceId:this.props.resourceId})}}]),t}(A.Component),Jn={propTypes:{slotMetrics:F.object.isRequired,selected:F.object,isAllDay:F.bool,accessors:F.object.isRequired,localizer:F.object.isRequired,components:F.object.isRequired,getters:F.object.isRequired,onSelect:F.func,onDoubleClick:F.func,onKeyPress:F.func},defaultProps:{segments:[],selected:{}},renderEvent:function(t,n){var r=t.selected;t.isAllDay;var i=t.accessors,s=t.getters,o=t.onSelect,a=t.onDoubleClick,l=t.onKeyPress,u=t.localizer,c=t.slotMetrics,d=t.components,h=t.resizable,f=c.continuesPrior(n),v=c.continuesAfter(n);return A.createElement($b,{event:n,getters:s,localizer:u,accessors:i,components:d,onSelect:o,onDoubleClick:a,onKeyPress:l,continuesPrior:f,continuesAfter:v,slotStart:c.first,slotEnd:c.last,selected:Ep(n,r),resizable:h})},renderSpan:function(t,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",s=Math.abs(n)/t*100+"%";return A.createElement("div",{key:r,className:"rbc-row-segment",style:{WebkitFlexBasis:s,flexBasis:s,maxWidth:s}},i)}},Ub=function(e){Yt(t,e);function t(){return pt(this,t),Ht(this,t,arguments)}return mt(t,[{key:"render",value:function(){var r=this,i=this.props,s=i.segments,o=i.slotMetrics.slots,a=i.className,l=1;return A.createElement("div",{className:at(a,"rbc-row")},s.reduce(function(u,c,d){var h=c.event,f=c.left,v=c.right,p=c.span,y="_lvl_"+d,m=f-l,g=Jn.renderEvent(r.props,h);return m&&u.push(Jn.renderSpan(o,m,"".concat(y,"_gap"))),u.push(Jn.renderSpan(o,p,y,g)),l=v+1,u},[]))}}]),t}(A.Component);Ub.defaultProps=Ce({},Jn.defaultProps);function Bb(e){var t=e.dateRange,n=e.unit,r=n===void 0?"day":n,i=e.localizer;return{first:t[0],last:i.add(t[t.length-1],1,r)}}function une(e,t,n,r){var i=Bb({dateRange:t,localizer:r}),s=i.first,o=i.last,a=r.diff(s,o,"day"),l=r.max(r.startOf(n.start(e),"day"),s),u=r.min(r.ceil(n.end(e),"day"),o),c=mK(t,function(h){return r.isSameDate(h,l)}),d=r.diff(l,u,"day");return d=Math.min(d,a),d=Math.max(d-r.segmentOffset,1),{event:e,span:d,left:c+1,right:Math.max(c+d,1)}}function zb(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,n,r,i,s=[],o=[];for(n=0;n<e.length;n++){for(i=e[n],r=0;r<s.length&&cne(i,s[r]);r++);r>=t?o.push(i):(s[r]||(s[r]=[])).push(i)}for(n=0;n<s.length;n++)s[n].sort(function(a,l){return a.left-l.left});return{levels:s,extra:o}}function Pu(e,t,n,r,i){var s={start:r.start(e),end:r.end(e)},o={start:t,end:n};return i.inEventRange({event:s,range:o})}function cne(e,t){return t.some(function(n){return n.left<=e.right&&n.right>=e.left})}function dne(e,t,n){var r=bd(e),i=[],s=[];r.forEach(function(l){var u=t.start(l),c=t.end(l);n.daySpan(u,c)>1?i.push(l):s.push(l)});var o=i.sort(function(l,u){return Bv(l,u,t,n)}),a=s.sort(function(l,u){return Bv(l,u,t,n)});return[].concat(bd(o),bd(a))}function Bv(e,t,n,r){var i={start:n.start(e),end:n.end(e),allDay:n.allDay(e)},s={start:n.start(t),end:n.end(t),allDay:n.allDay(t)};return r.sortEvents({evtA:i,evtB:s})}var Wb=function(t,n){return t.left<=n&&t.right>=n},Q1=function(t,n){return t.filter(function(r){return Wb(r,n)}).map(function(r){return r.event})},Hb=function(e){Yt(t,e);function t(){return pt(this,t),Ht(this,t,arguments)}return mt(t,[{key:"render",value:function(){for(var r=this.props,i=r.segments,s=r.slotMetrics.slots,o=zb(i).levels[0],a=1,l=1,u=[];a<=s;){var c="_lvl_"+a,d=o.filter(function(g){return Wb(g,a)})[0]||{},h=d.event,f=d.left,v=d.right,p=d.span;if(!h){a++;continue}var y=Math.max(0,f-l);if(this.canRenderSlotEvent(f,p)){var m=Jn.renderEvent(this.props,h);y&&u.push(Jn.renderSpan(s,y,c+"_gap")),u.push(Jn.renderSpan(s,p,c,m)),l=a=v+1}else y&&u.push(Jn.renderSpan(s,y,c+"_gap")),u.push(Jn.renderSpan(s,1,c,this.renderShowMore(i,a))),l=a=a+1}return A.createElement("div",{className:"rbc-row"},u)}},{key:"canRenderSlotEvent",value:function(r,i){var s=this.props.segments;return PK(r,r+i).every(function(o){var a=Q1(s,o).length;return a===1})}},{key:"renderShowMore",value:function(r,i){var s=this,o=this.props,a=o.localizer,l=o.slotMetrics,u=l.getEventsForSlot(i),c=Q1(r,i),d=c.length;return d?A.createElement("button",{type:"button",key:"sm_"+i,className:at("rbc-button-link","rbc-show-more"),onClick:function(f){return s.showMore(i,f)}},a.messages.showMore(d,c,u)):!1}},{key:"showMore",value:function(r,i){i.preventDefault(),i.stopPropagation(),this.props.onShowMore(r,i.target)}}]),t}(A.Component);Hb.defaultProps=Ce({},Jn.defaultProps);var hne=function(t){var n=t.children;return A.createElement("div",{className:"rbc-row-content-scroll-container"},n)},fne=function(t,n){return t.left<=n&&t.right>=n},pne=function(t,n){return t[0].range===n[0].range&&t[0].events===n[0].events};function Yb(){return gb(function(e){for(var t=e.range,n=e.events,r=e.maxRows,i=e.minRows,s=e.accessors,o=e.localizer,a=Bb({dateRange:t,localizer:o}),l=a.first,u=a.last,c=n.map(function(p){return une(p,t,s,o)}),d=zb(c,Math.max(r-1,1)),h=d.levels,f=d.extra,v=f.length>0?i-1:i;h.length<v;)h.push([]);return{first:l,last:u,levels:h,extra:f,range:t,slots:t.length,clone:function(y){var m=Yb();return m(Ce(Ce({},e),y))},getDateForSlot:function(y){return t[y]},getSlotForDate:function(y){return t.find(function(m){return o.isSameDate(m,y)})},getEventsForSlot:function(y){return c.filter(function(m){return fne(m,y)}).map(function(m){return m.event})},continuesPrior:function(y){return o.continuesPrior(s.start(y),l)},continuesAfter:function(y){var m=s.start(y),g=s.end(y);return o.continuesAfter(m,g,u)}}},pne)}var Gh=function(e){Yt(t,e);function t(){var n;pt(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Ht(this,t,[].concat(i)),n.handleSelectSlot=function(o){var a=n.props,l=a.range,u=a.onSelectSlot;u(l.slice(o.start,o.end+1),o)},n.handleShowMore=function(o,a){var l=n.props,u=l.range,c=l.onShowMore,d=n.slotMetrics(n.props),h=hW(n.containerRef.current,".rbc-row-bg")[0],f;h&&(f=h.children[o-1]);var v=d.getEventsForSlot(o);c(v,u[o-1],f,o,a)},n.getContainer=function(){var o=n.props.container;return o?o():n.containerRef.current},n.renderHeadingCell=function(o,a){var l=n.props,u=l.renderHeader,c=l.getNow,d=l.localizer;return u({date:o,key:"header_".concat(a),className:at("rbc-date-cell",d.isSameDate(o,c())&&"rbc-now")})},n.renderDummy=function(){var o=n.props,a=o.className,l=o.range,u=o.renderHeader,c=o.showAllEvents;return A.createElement("div",{className:a,ref:n.containerRef},A.createElement("div",{className:at("rbc-row-content",c&&"rbc-row-content-scrollable")},u&&A.createElement("div",{className:"rbc-row",ref:n.headingRowRef},l.map(n.renderHeadingCell)),A.createElement("div",{className:"rbc-row",ref:n.eventRowRef},A.createElement("div",{className:"rbc-row-segment"},A.createElement("div",{className:"rbc-event"},A.createElement("div",{className:"rbc-event-content"},""))))))},n.containerRef=R.createRef(),n.headingRowRef=R.createRef(),n.eventRowRef=R.createRef(),n.slotMetrics=Yb(),n}return mt(t,[{key:"getRowLimit",value:function(){var r,i=Vm(this.eventRowRef.current),s=(r=this.headingRowRef)!==null&&r!==void 0&&r.current?Vm(this.headingRowRef.current):0,o=Vm(this.containerRef.current)-s;return Math.max(Math.floor(o/i),1)}},{key:"render",value:function(){var r=this.props,i=r.date,s=r.rtl,o=r.range,a=r.className,l=r.selected,u=r.selectable,c=r.renderForMeasure,d=r.accessors,h=r.getters,f=r.components,v=r.getNow,p=r.renderHeader,y=r.onSelect,m=r.localizer,g=r.onSelectStart,_=r.onSelectEnd,E=r.onDoubleClick,S=r.onKeyPress,T=r.resourceId,I=r.longPressThreshold,P=r.isAllDay,b=r.resizable,C=r.showAllEvents;if(c)return this.renderDummy();var L=this.slotMetrics(this.props),z=L.levels,q=L.extra,Ee=C?hne:Sr,ye=f.weekWrapper,ie={selected:l,accessors:d,getters:h,localizer:m,components:f,onSelect:y,onDoubleClick:E,onKeyPress:S,resourceId:T,slotMetrics:L,resizable:b};return A.createElement("div",{className:a,role:"rowgroup",ref:this.containerRef},A.createElement(lne,{localizer:m,date:i,getNow:v,rtl:s,range:o,selectable:u,container:this.getContainer,getters:h,onSelectStart:g,onSelectEnd:_,onSelectSlot:this.handleSelectSlot,components:f,longPressThreshold:I,resourceId:T}),A.createElement("div",{className:at("rbc-row-content",C&&"rbc-row-content-scrollable"),role:"row"},p&&A.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},o.map(this.renderHeadingCell)),A.createElement(Ee,null,A.createElement(ye,Object.assign({isAllDay:P},ie,{rtl:this.props.rtl}),z.map(function(fe,V){return A.createElement(Ub,Object.assign({key:V,segments:fe},ie))}),!!q.length&&A.createElement(Hb,Object.assign({segments:q,onShowMore:this.handleShowMore},ie))))))}}]),t}(A.Component);Gh.defaultProps={minRows:0,maxRows:1/0};var qb=function(t){var n=t.label;return A.createElement("span",{role:"columnheader","aria-sort":"none"},n)},mne=function(t){var n=t.label,r=t.drilldownView,i=t.onDrillDown;return r?A.createElement("button",{type:"button",className:"rbc-button-link",onClick:i,role:"cell"},n):A.createElement("span",null,n)},gne=["date","className"],vne=function(t,n,r,i,s){return t.filter(function(o){return Pu(o,n,r,i,s)})},Sp=function(e){Yt(t,e);function t(){var n;pt(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Ht(this,t,[].concat(i)),n.getContainer=function(){return n.containerRef.current},n.renderWeek=function(o,a){var l=n.props,u=l.events,c=l.components,d=l.selectable,h=l.getNow,f=l.selected,v=l.date,p=l.localizer,y=l.longPressThreshold,m=l.accessors,g=l.getters,_=l.showAllEvents,E=n.state,S=E.needLimitMeasure,T=E.rowLimit,I=vne(bd(u),o[0],o[o.length-1],m,p),P=dne(I,m,p);return A.createElement(Gh,{key:a,ref:a===0?n.slotRowRef:void 0,container:n.getContainer,className:"rbc-month-row",getNow:h,date:v,range:o,events:P,maxRows:_?1/0:T,selected:f,selectable:d,components:c,accessors:m,getters:g,localizer:p,renderHeader:n.readerDateHeading,renderForMeasure:S,onShowMore:n.handleShowMore,onSelect:n.handleSelectEvent,onDoubleClick:n.handleDoubleClickEvent,onKeyPress:n.handleKeyPressEvent,onSelectSlot:n.handleSelectSlot,longPressThreshold:y,rtl:n.props.rtl,resizable:n.props.resizable,showAllEvents:_})},n.readerDateHeading=function(o){var a=o.date,l=o.className,u=fr(o,gne),c=n.props,d=c.date,h=c.getDrilldownView,f=c.localizer,v=f.neq(a,d,"month"),p=f.isSameDate(a,d),y=h(a),m=f.format(a,"dateFormat"),g=n.props.components.dateHeader||mne;return A.createElement("div",Object.assign({},u,{className:at(l,v&&"rbc-off-range",p&&"rbc-current"),role:"cell"}),A.createElement(g,{label:m,date:a,drilldownView:y,isOffRange:v,onDrillDown:function(E){return n.handleHeadingClick(a,y,E)}}))},n.handleSelectSlot=function(o,a){n._pendingSelection=n._pendingSelection.concat(o),clearTimeout(n._selectTimer),n._selectTimer=setTimeout(function(){return n.selectDates(a)})},n.handleHeadingClick=function(o,a,l){l.preventDefault(),n.clearSelection(),je(n.props.onDrillDown,[o,a])},n.handleSelectEvent=function(){n.clearSelection();for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];je(n.props.onSelectEvent,a)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];je(n.props.onDoubleClickEvent,a)},n.handleKeyPressEvent=function(){n.clearSelection();for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];je(n.props.onKeyPressEvent,a)},n.handleShowMore=function(o,a,l,u,c){var d=n.props,h=d.popup,f=d.onDrillDown,v=d.onShowMore,p=d.getDrilldownView,y=d.doShowMoreDrillDown;if(n.clearSelection(),h){var m=zD(l,n.containerRef.current);n.setState({overlay:{date:a,events:o,position:m,target:c}})}else y&&je(f,[a,p(a)||jt.DAY]);je(v,[o,a,u])},n.overlayDisplay=function(){n.setState({overlay:null})},n.state={rowLimit:5,needLimitMeasure:!0,date:null},n.containerRef=R.createRef(),n.slotRowRef=R.createRef(),n._bgRows=[],n._pendingSelection=[],n}return mt(t,[{key:"componentDidMount",value:function(){var r=this,i;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){i||WD(function(){i=!1,r.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var r=this.props,i=r.date,s=r.localizer,o=r.className,a=s.visibleDays(i,s),l=Q9(a,7);return this._weekCount=l.length,A.createElement("div",{className:at("rbc-month-view",o),role:"table","aria-label":"Month View",ref:this.containerRef},A.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(l[0])),l.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(r){var i=this.props,s=i.localizer,o=i.components,a=r[0],l=r[r.length-1],u=o.header||qb;return s.range(a,l,"day").map(function(c,d){return A.createElement("div",{key:"header_"+d,className:"rbc-header"},A.createElement(u,{date:c,localizer:s,label:s.format(c,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var r,i,s=this,o=(r=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&r!==void 0?r:{},a=this.props,l=a.accessors,u=a.localizer,c=a.components,d=a.getters,h=a.selected,f=a.popupOffset,v=a.handleDragStart,p=function(){return s.setState({overlay:null})};return A.createElement(Yw,{overlay:o,accessors:l,localizer:u,components:c,getters:d,selected:h,popupOffset:f,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:v,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:p})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(r){var i=this._pendingSelection.slice();this._pendingSelection=[],i.sort(function(a,l){return+a-+l});var s=new Date(i[0]),o=new Date(i[i.length-1]);o.setDate(i[i.length-1].getDate()+1),je(this.props.onSelectSlot,{slots:i,start:s,end:o,action:r.action,bounds:r.bounds,box:r.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(r,i){var s=r.date,o=r.localizer;return{date:s,needLimitMeasure:o.neq(s,i.date,"month")}}}]),t}(A.Component);Sp.range=function(e,t){var n=t.localizer,r=n.firstVisibleDay(e,n),i=n.lastVisibleDay(e,n);return{start:r,end:i}};Sp.navigate=function(e,t,n){var r=n.localizer;switch(t){case rn.PREVIOUS:return r.add(e,-1,"month");case rn.NEXT:return r.add(e,1,"month");default:return e}};Sp.title=function(e,t){var n=t.localizer;return n.format(e,"monthHeaderFormat")};var X1=function(t){var n=t.min,r=t.max,i=t.step,s=t.slots,o=t.localizer;return"".concat(+o.startOf(n,"minutes"))+"".concat(+o.startOf(r,"minutes"))+"".concat(i,"-").concat(s)};function qw(e){for(var t=e.min,n=e.max,r=e.step,i=e.timeslots,s=e.localizer,o=X1({start:t,end:n,step:r,timeslots:i,localizer:s}),a=1+s.getTotalMin(t,n),l=s.getMinutesFromMidnight(t),u=Math.ceil((a-1)/(r*i)),c=u*i,d=new Array(u),h=new Array(c),f=0;f<u;f++){d[f]=new Array(i);for(var v=0;v<i;v++){var p=f*i+v,y=p*r;h[p]=d[f][v]=s.getSlotDate(t,l,y)}}var m=h.length*r;h.push(s.getSlotDate(t,l,m));function g(_){var E=s.diff(t,_,"minutes")+s.getDstOffset(t,_);return Math.min(E,a)}return{groups:d,update:function(E){return X1(E)!==o?qw(E):this},dateIsInGroup:function(E,S){var T=d[S+1];return s.inRange(E,d[S][0],T?T[0]:n,"minutes")},nextSlot:function(E){var S=h[Math.min(h.findIndex(function(T){return T===E||s.eq(T,E)})+1,h.length-1)];return s.eq(S,E)&&(S=s.add(E,r,"minutes")),S},closestSlotToPosition:function(E){var S=Math.min(h.length-1,Math.max(0,Math.floor(E*c)));return h[S]},closestSlotFromPoint:function(E,S){var T=Math.abs(S.top-S.bottom);return this.closestSlotToPosition((E.y-S.top)/T)},closestSlotFromDate:function(E){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(s.lt(E,t,"minutes"))return h[0];if(s.gt(E,n,"minutes"))return h[h.length-1];var T=s.diff(t,E,"minutes");return h[(T-T%r)/r+S]},startsBeforeDay:function(E){return s.lt(E,t,"day")},startsAfterDay:function(E){return s.gt(E,n,"day")},startsBefore:function(E){return s.lt(s.merge(t,E),t,"minutes")},startsAfter:function(E){return s.gt(s.merge(n,E),n,"minutes")},getRange:function(E,S,T,I){T||(E=s.min(n,s.max(t,E))),I||(S=s.min(n,s.max(t,S)));var P=g(E),b=g(S),C=b>r*c&&!s.eq(n,S)?(P-r)/(r*c)*100:P/(r*c)*100;return{top:C,height:b/(r*c)*100-C,start:g(E),startDate:E,end:g(S),endDate:S}},getCurrentTimePosition:function(E){var S=g(E),T=S/(r*c)*100;return T}}}var yne=function(){function e(t,n){var r=n.accessors,i=n.slotMetrics;pt(this,e);var s=i.getRange(r.start(t),r.end(t)),o=s.start,a=s.startDate,l=s.end,u=s.endDate,c=s.top,d=s.height;this.start=o,this.end=l,this.startMs=+a,this.endMs=+u,this.top=c,this.height=d,this.data=t}return mt(e,[{key:"_width",get:function(){if(this.rows){var n=this.rows.reduce(function(i,s){return Math.max(i,s.leaves.length+1)},0)+1;return 100/n}if(this.leaves){var r=100-this.container._width;return r/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var n=this._width,r=Math.min(100,this._width*1.7);if(this.rows)return r;if(this.leaves)return this.leaves.length>0?r:n;var i=this.row.leaves,s=i.indexOf(this);return s===i.length-1?n:r}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var n=this.row,r=n.leaves,i=n.xOffset,s=n._width,o=r.indexOf(this)+1;return i+o*s}}]),e}();function _ne(e,t,n){return Math.abs(t.start-e.start)<n||t.start>e.start&&t.start<e.end}function wne(e){for(var t=qQ(e,["startMs",function(a){return-a.endMs}]),n=[];t.length>0;){var r=t.shift();n.push(r);for(var i=0;i<t.length;i++){var s=t[i];if(!(r.endMs>s.startMs)){if(i>0){var o=t.splice(i,1)[0];n.push(o)}break}}}return n}function Gb(e){for(var t=e.events,n=e.minimumStartDifference,r=e.slotMetrics,i=e.accessors,s=t.map(function(c){return new yne(c,{slotMetrics:r,accessors:i})}),o=wne(s),a=[],l=function(){var d=o[u],h=a.find(function(p){return p.end>d.start||Math.abs(d.start-p.start)<n});if(!h)return d.rows=[],a.push(d),1;d.container=h;for(var f=null,v=h.rows.length-1;!f&&v>=0;v--)_ne(h.rows[v],d,n)&&(f=h.rows[v]);f?(f.leaves.push(d),d.row=f):(d.leaves=[],h.rows.push(d))},u=0;u<o.length;u++)l();return o.map(function(c){return{event:c.data,style:{top:c.top,height:c.height,width:c.width,xOffset:Math.max(0,c.xOffset)}}})}function Kb(e,t,n){for(var r=0;r<e.friends.length;++r)if(!(n.indexOf(e.friends[r])>-1)){t=t>e.friends[r].idx?t:e.friends[r].idx,n.push(e.friends[r]);var i=Kb(e.friends[r],t,n);t=t>i?t:i}return t}function Ene(e){var t=e.events,n=e.minimumStartDifference,r=e.slotMetrics,i=e.accessors,s=Gb({events:t,minimumStartDifference:n,slotMetrics:r,accessors:i});s.sort(function(ye,ie){return ye=ye.style,ie=ie.style,ye.top!==ie.top?ye.top>ie.top?1:-1:ye.height!==ie.height?ye.top+ye.height<ie.top+ie.height?1:-1:0});for(var o=0;o<s.length;++o)s[o].friends=[],delete s[o].style.left,delete s[o].style.left,delete s[o].idx,delete s[o].size;for(var a=0;a<s.length-1;++a)for(var l=s[a],u=l.style.top,c=l.style.top+l.style.height,d=a+1;d<s.length;++d){var h=s[d],f=h.style.top,v=h.style.top+h.style.height;(f>=u&&v<=c||v>u&&v<=c||f>=u&&f<c)&&(l.friends.push(h),h.friends.push(l))}for(var p=0;p<s.length;++p){for(var y=s[p],m=[],g=0;g<100;++g)m.push(1);for(var _=0;_<y.friends.length;++_)y.friends[_].idx!==void 0&&(m[y.friends[_].idx]=0);y.idx=m.indexOf(1)}for(var E=0;E<s.length;++E){var S=0;if(!s[E].size){var T=[],I=Kb(s[E],0,T);S=100/(I+1),s[E].size=S;for(var P=0;P<T.length;++P)T[P].size=S}}for(var b=0;b<s.length;++b){var C=s[b];C.style.left=C.idx*C.size;for(var L=0,z=0;z<C.friends.length;++z){var q=C.friends[z].idx;L=L>q?L:q}L<=C.idx&&(C.size=100-C.idx*C.size);var Ee=C.idx===0?0:3;C.style.width="calc(".concat(C.size,"% - ").concat(Ee,"px)"),C.style.height="calc(".concat(C.style.height,"% - 2px)"),C.style.xOffset="calc(".concat(C.style.left,"% + ").concat(Ee,"px)")}return s}var J1={overlap:Gb,"no-overlap":Ene};function Sne(e){return!!(e&&e.constructor&&e.call&&e.apply)}function Tne(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t=e.dayLayoutAlgorithm,n=t;return t in J1&&(n=J1[t]),Sne(n)?n.apply(this,arguments):[]}var Qb=function(e){Yt(t,e);function t(){return pt(this,t),Ht(this,t,arguments)}return mt(t,[{key:"render",value:function(){var r=this.props,i=r.renderSlot,s=r.resource,o=r.group,a=r.getters,l=r.components,u=l===void 0?{}:l,c=u.timeSlotWrapper,d=c===void 0?Sr:c,h=a?a.slotGroupProp(o):{};return A.createElement("div",Object.assign({className:"rbc-timeslot-group"},h),o.map(function(f,v){var p=a?a.slotProp(f,s):{};return A.createElement(d,{key:v,value:f,resource:s},A.createElement("div",Object.assign({},p,{className:at("rbc-time-slot",p.className)}),i&&i(f,v)))}))}}]),t}(R.Component);function id(e){return typeof e=="string"?e:e+"%"}function Ine(e){var t=e.style,n=e.className,r=e.event,i=e.accessors,s=e.rtl,o=e.selected,a=e.label,l=e.continuesPrior,u=e.continuesAfter,c=e.getters,d=e.onClick,h=e.onDoubleClick,f=e.isBackgroundEvent,v=e.onKeyPress,p=e.components,y=p.event,m=p.eventWrapper,g=i.title(r),_=i.tooltip(r),E=i.end(r),S=i.start(r),T=c.eventProp(r,S,E,o),I=[A.createElement("div",{key:"1",className:"rbc-event-label"},a),A.createElement("div",{key:"2",className:"rbc-event-content"},y?A.createElement(y,{event:r,title:g}):g)],P=t.height,b=t.top,C=t.width,L=t.xOffset,z=Ce(Ce({},T.style),{},us({top:id(b),height:id(P),width:id(C)},s?"right":"left",id(L)));return A.createElement(m,Object.assign({type:"time"},e),A.createElement("div",{role:"button",tabIndex:0,onClick:d,onDoubleClick:h,style:z,onKeyDown:v,title:_?(typeof a=="string"?a+": ":"")+_:void 0,className:at(f?"rbc-background-event":"rbc-event",n,T.className,{"rbc-selected":o,"rbc-event-continues-earlier":l,"rbc-event-continues-later":u})},I))}var Ane=function(t){var n=t.children,r=t.className,i=t.style,s=t.innerRef;return A.createElement("div",{className:r,style:i,ref:s},n)},Rne=A.forwardRef(function(e,t){return A.createElement(Ane,Object.assign({},e,{innerRef:t}))}),Pne=["dayProp"],Cne=["eventContainerWrapper"],Xb=function(e){Yt(t,e);function t(){var n;pt(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Ht(this,t,[].concat(i)),n.state={selecting:!1,timeIndicatorPosition:null},n.intervalTriggered=!1,n.renderEvents=function(o){var a=o.events,l=o.isBackgroundEvent,u=n.props,c=u.rtl,d=u.selected,h=u.accessors,f=u.localizer,v=u.getters,p=u.components,y=u.step,m=u.timeslots,g=u.dayLayoutAlgorithm,_=u.resizable,E=gD(n),S=E.slotMetrics,T=f.messages,I=Tne({events:a,accessors:h,slotMetrics:S,minimumStartDifference:Math.ceil(y*m/2),dayLayoutAlgorithm:g});return I.map(function(P,b){var C=P.event,L=P.style,z=h.end(C),q=h.start(C),Ee="eventTimeRangeFormat",ye,ie=S.startsBeforeDay(q),fe=S.startsAfterDay(z);ie?Ee="eventTimeRangeEndFormat":fe&&(Ee="eventTimeRangeStartFormat"),ie&&fe?ye=T.allDay:ye=f.format({start:q,end:z},Ee);var V=ie||S.startsBefore(q),X=fe||S.startsAfter(z);return A.createElement(Ine,{style:L,event:C,label:ye,key:"evt_"+b,getters:v,rtl:c,components:p,continuesPrior:V,continuesAfter:X,accessors:h,resource:n.props.resource,selected:Ep(C,d),onClick:function(k){return n._select(Ce(Ce(Ce({},C),n.props.resource&&{sourceResource:n.props.resource}),l&&{isBackgroundEvent:!0}),k)},onDoubleClick:function(k){return n._doubleClick(C,k)},isBackgroundEvent:l,onKeyPress:function(k){return n._keyPress(C,k)},resizable:_})})},n._selectable=function(){var o=n.containerRef.current,a=n.props,l=a.longPressThreshold,u=a.localizer,c=n._selector=new jb(function(){return o},{longPressThreshold:l}),d=function(p){var y=n.props.onSelecting,m=n.state||{},g=h(p),_=g.startDate,E=g.endDate;y&&(u.eq(m.startDate,_,"minutes")&&u.eq(m.endDate,E,"minutes")||y({start:_,end:E,resourceId:n.props.resource})===!1)||(n.state.start!==g.start||n.state.end!==g.end||n.state.selecting!==g.selecting)&&n.setState(g)},h=function(p){var y=n.slotMetrics.closestSlotFromPoint(p,Bs(o));n.state.selecting||(n._initialSlot=y);var m=n._initialSlot;u.lte(m,y)?y=n.slotMetrics.nextSlot(y):u.gt(m,y)&&(m=n.slotMetrics.nextSlot(m));var g=n.slotMetrics.getRange(u.min(m,y),u.max(m,y));return Ce(Ce({},g),{},{selecting:!0,top:"".concat(g.top,"%"),height:"".concat(g.height,"%")})},f=function(p,y){if(!qh(n.containerRef.current,p)){var m=h(p),g=m.startDate,_=m.endDate;n._selectSlot({startDate:g,endDate:_,action:y,box:p})}n.setState({selecting:!1})};c.on("selecting",d),c.on("selectStart",d),c.on("beforeSelect",function(v){if(n.props.selectable==="ignoreEvents")return!qh(n.containerRef.current,v)}),c.on("click",function(v){return f(v,"click")}),c.on("doubleClick",function(v){return f(v,"doubleClick")}),c.on("select",function(v){n.state.selecting&&(n._selectSlot(Ce(Ce({},n.state),{},{action:"select",bounds:v})),n.setState({selecting:!1}))}),c.on("reset",function(){n.state.selecting&&n.setState({selecting:!1})})},n._teardownSelectable=function(){n._selector&&(n._selector.teardown(),n._selector=null)},n._selectSlot=function(o){for(var a=o.startDate,l=o.endDate,u=o.action,c=o.bounds,d=o.box,h=a,f=[];n.props.localizer.lte(h,l);)f.push(h),h=new Date(+h+n.props.step*60*1e3);je(n.props.onSelectSlot,{slots:f,start:a,end:l,resourceId:n.props.resource,action:u,bounds:c,box:d})},n._select=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];je(n.props.onSelectEvent,a)},n._doubleClick=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];je(n.props.onDoubleClickEvent,a)},n._keyPress=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];je(n.props.onKeyPressEvent,a)},n.slotMetrics=qw(n.props),n.containerRef=R.createRef(),n}return mt(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(r,i){this.props.selectable&&!r.selectable&&this._selectable(),!this.props.selectable&&r.selectable&&this._teardownSelectable();var s=this.props,o=s.getNow,a=s.isNow,l=s.localizer,u=s.date,c=s.min,d=s.max,h=l.neq(r.getNow(),o(),"minutes");if(r.isNow!==a||h){if(this.clearTimeIndicatorInterval(),a){var f=!h&&l.eq(r.date,u,"minutes")&&i.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(f)}}else a&&(l.neq(r.min,c,"minutes")||l.neq(r.max,d,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var r=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!i&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){r.intervalTriggered=!0,r.positionTimeIndicator(),r.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var r=this.props,i=r.min,s=r.max,o=r.getNow,a=o();if(a>=i&&a<=s){var l=this.slotMetrics.getCurrentTimePosition(a);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:l})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var r=this.props,i=r.date,s=r.max,o=r.rtl,a=r.isNow,l=r.resource,u=r.accessors,c=r.localizer,d=r.getters,h=d.dayProp,f=fr(d,Pne),v=r.components,p=v.eventContainerWrapper,y=fr(v,Cne);this.slotMetrics=this.slotMetrics.update(this.props);var m=this.slotMetrics,g=this.state,_=g.selecting,E=g.top,S=g.height,T=g.startDate,I=g.endDate,P={start:T,end:I},b=h(s),C=b.className,L=b.style,z=y.dayColumnWrapper||Rne;return A.createElement(z,{ref:this.containerRef,date:i,style:L,className:at(C,"rbc-day-slot","rbc-time-column",a&&"rbc-now",a&&"rbc-today",_&&"rbc-slot-selecting"),slotMetrics:m},m.groups.map(function(q,Ee){return A.createElement(Qb,{key:Ee,group:q,resource:l,getters:f,components:y})}),A.createElement(p,{localizer:c,resource:l,accessors:u,getters:f,components:y,slotMetrics:m},A.createElement("div",{className:at("rbc-events-container",o&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),_&&A.createElement("div",{className:"rbc-slot-selection",style:{top:E,height:S}},A.createElement("span",null,c.format(P,"selectRangeFormat"))),a&&this.intervalTriggered&&A.createElement("div",{className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}}))}}]),t}(A.Component);Xb.defaultProps={dragThroughEvents:!0,timeslots:2};function kne(e){var t=e.min,n=e.max,r=e.localizer;return r.getTimezoneOffset(t)!==r.getTimezoneOffset(n)?{start:r.add(t,-1,"day"),end:r.add(n,-1,"day")}:{start:t,end:n}}var Dne=function(t){var n=t.min,r=t.max,i=t.timeslots,s=t.step,o=t.localizer,a=t.getNow,l=t.resource,u=t.components,c=t.getters,d=t.gutterRef,h=u.timeGutterWrapper,f=R.useMemo(function(){return kne({min:n,max:r,localizer:o})},[n==null?void 0:n.toISOString(),r==null?void 0:r.toISOString(),o]),v=f.start,p=f.end,y=R.useState(qw({min:v,max:p,timeslots:i,step:s,localizer:o})),m=Ar(y,2),g=m[0],_=m[1];R.useEffect(function(){g&&_(g.update({min:v,max:p,timeslots:i,step:s,localizer:o}))},[v==null?void 0:v.toISOString(),p==null?void 0:p.toISOString(),i,s]);var E=R.useCallback(function(S,T){if(T)return null;var I=g.dateIsInGroup(a(),T);return A.createElement("span",{className:at("rbc-label",I&&"rbc-now")},o.format(S,"timeGutterFormat"))},[g,o,a]);return A.createElement(h,{slotMetrics:g},A.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:d},g.groups.map(function(S,T){return A.createElement(Qb,{key:T,group:S,resource:l,components:u,renderSlot:E,getters:c})})))},bne=A.forwardRef(function(e,t){return A.createElement(Dne,Object.assign({gutterRef:t},e))}),One=function(t){var n=t.label;return A.createElement(A.Fragment,null,n)},xne=function(e){Yt(t,e);function t(){var n;pt(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Ht(this,t,[].concat(i)),n.handleHeaderClick=function(o,a,l){l.preventDefault(),je(n.props.onDrillDown,[o,a])},n.renderRow=function(o){var a=n.props,l=a.events,u=a.rtl,c=a.selectable,d=a.getNow,h=a.range,f=a.getters,v=a.localizer,p=a.accessors,y=a.components,m=a.resizable,g=p.resourceId(o),_=o?l.filter(function(E){return p.resource(E)===g}):l;return A.createElement(Gh,{isAllDay:!0,rtl:u,getNow:d,minRows:2,maxRows:n.props.allDayMaxRows+1,range:h,events:_,resourceId:g,className:"rbc-allday-cell",selectable:c,selected:n.props.selected,components:y,accessors:p,getters:f,localizer:v,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyPress:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:m})},n}return mt(t,[{key:"renderHeaderCells",value:function(r){var i=this,s=this.props,o=s.localizer,a=s.getDrilldownView,l=s.getNow,u=s.getters.dayProp,c=s.components.header,d=c===void 0?qb:c,h=l();return r.map(function(f,v){var p=a(f),y=o.format(f,"dayFormat"),m=u(f),g=m.className,_=m.style,E=A.createElement(d,{date:f,label:y,localizer:o});return A.createElement("div",{key:v,style:_,className:at("rbc-header",g,o.isSameDate(f,h)&&"rbc-today")},p?A.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(T){return i.handleHeaderClick(f,p,T)}},E):A.createElement("span",null,E))})}},{key:"render",value:function(){var r=this,i=this.props,s=i.width,o=i.rtl,a=i.resources,l=i.range,u=i.events,c=i.getNow,d=i.accessors,h=i.selectable,f=i.components,v=i.getters,p=i.scrollRef,y=i.localizer,m=i.isOverflowing,g=i.components,_=g.timeGutterHeader,E=g.resourceHeader,S=E===void 0?One:E,T=i.resizable,I={};m&&(I[o?"marginLeft":"marginRight"]="".concat(ZD()-1,"px"));var P=a.groupEvents(u);return A.createElement("div",{style:I,ref:p,className:at("rbc-time-header",m&&"rbc-overflowing")},A.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:s,minWidth:s,maxWidth:s}},_&&A.createElement(_,null)),a.map(function(b,C){var L=Ar(b,2),z=L[0],q=L[1];return A.createElement("div",{className:"rbc-time-header-content",key:z||C},q&&A.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(C)},A.createElement("div",{className:"rbc-header"},A.createElement(S,{index:C,label:d.resourceTitle(q),resource:q}))),A.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(l.length<=1?" rbc-time-header-cell-single-day":"")},r.renderHeaderCells(l)),A.createElement(Gh,{isAllDay:!0,rtl:o,getNow:c,minRows:2,maxRows:r.props.allDayMaxRows+1,range:l,events:P.get(z)||[],resourceId:q&&z,className:"rbc-allday-cell",selectable:h,selected:r.props.selected,components:f,accessors:d,getters:v,localizer:y,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyDown:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:T}))}))}}]),t}(A.Component),Bm={};function Nne(e,t){return{map:function(r){return e?e.map(function(i,s){return r([t.resourceId(i),i],s)}):[r([Bm,null],0)]},groupEvents:function(r){var i=new Map;return e?(r.forEach(function(s){var o=t.resource(s)||Bm;if(Array.isArray(o))o.forEach(function(l){var u=i.get(l)||[];u.push(s),i.set(l,u)});else{var a=i.get(o)||[];a.push(s),i.set(o,a)}}),i):(i.set(Bm,r),i)}}}var xa=function(e){Yt(t,e);function t(n){var r;return pt(this,t),r=Ht(this,t,[n]),r.handleScroll=function(i){r.scrollRef.current&&(r.scrollRef.current.scrollLeft=i.target.scrollLeft)},r.handleResize=function(){LT(r.rafHandle),r.rafHandle=WD(r.checkOverflow)},r.handleKeyPressEvent=function(){r.clearSelection();for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];je(r.props.onKeyPressEvent,s)},r.handleSelectEvent=function(){r.clearSelection();for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];je(r.props.onSelectEvent,s)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];je(r.props.onDoubleClickEvent,s)},r.handleShowMore=function(i,s,o,a,l){var u=r.props,c=u.popup,d=u.onDrillDown,h=u.onShowMore,f=u.getDrilldownView,v=u.doShowMoreDrillDown;if(r.clearSelection(),c){var p=zD(o,r.containerRef.current);r.setState({overlay:{date:s,events:i,position:Ce(Ce({},p),{},{width:"200px"}),target:l}})}else v&&je(d,[s,f(s)||jt.DAY]);je(h,[i,s,a])},r.handleSelectAllDaySlot=function(i,s){var o=r.props.onSelectSlot,a=new Date(i[0]),l=new Date(i[i.length-1]);l.setDate(i[i.length-1].getDate()+1),je(o,{slots:i,start:a,end:l,action:s.action,resourceId:s.resourceId})},r.overlayDisplay=function(){r.setState({overlay:null})},r.checkOverflow=function(){if(!r._updatingOverflow){var i=r.contentRef.current;if(i!=null&&i.scrollHeight){var s=i.scrollHeight>i.clientHeight;r.state.isOverflowing!==s&&(r._updatingOverflow=!0,r.setState({isOverflowing:s},function(){r._updatingOverflow=!1}))}}},r.memoizedResources=gb(function(i,s){return Nne(i,s)}),r.state={gutterWidth:void 0,isOverflowing:null},r.scrollRef=A.createRef(),r.contentRef=A.createRef(),r.containerRef=A.createRef(),r._scrollRatio=null,r.gutterRef=R.createRef(),r}return mt(t,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),LT(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderEvents",value:function(r,i,s,o){var a=this,l=this.props,u=l.min,c=l.max,d=l.components,h=l.accessors,f=l.localizer,v=l.dayLayoutAlgorithm,p=this.memoizedResources(this.props.resources,h),y=p.groupEvents(i),m=p.groupEvents(s);return p.map(function(g,_){var E=Ar(g,2),S=E[0],T=E[1];return r.map(function(I,P){var b=(y.get(S)||[]).filter(function(L){return f.inRange(I,h.start(L),h.end(L),"day")}),C=(m.get(S)||[]).filter(function(L){return f.inRange(I,h.start(L),h.end(L),"day")});return A.createElement(Xb,Object.assign({},a.props,{localizer:f,min:f.merge(I,u),max:f.merge(I,c),resource:T&&S,components:d,isNow:f.isSameDate(I,o),key:_+"-"+P,date:I,events:b,backgroundEvents:C,dayLayoutAlgorithm:v}))})})}},{key:"render",value:function(){var r,i=this.props,s=i.events,o=i.backgroundEvents,a=i.range,l=i.width,u=i.rtl,c=i.selected,d=i.getNow,h=i.resources,f=i.components,v=i.accessors,p=i.getters,y=i.localizer,m=i.min,g=i.max,_=i.showMultiDayTimes,E=i.longPressThreshold,S=i.resizable;l=l||this.state.gutterWidth;var T=a[0],I=a[a.length-1];this.slots=a.length;var P=[],b=[],C=[];return s.forEach(function(L){if(Pu(L,T,I,v,y)){var z=v.start(L),q=v.end(L);v.allDay(L)||y.startAndEndAreDateOnly(z,q)||!_&&!y.isSameDate(z,q)?P.push(L):b.push(L)}}),o.forEach(function(L){Pu(L,T,I,v,y)&&C.push(L)}),P.sort(function(L,z){return Bv(L,z,v,y)}),A.createElement("div",{className:at("rbc-time-view",h&&"rbc-time-view-resources"),ref:this.containerRef},A.createElement(xne,{range:a,events:P,width:l,rtl:u,getNow:d,localizer:y,selected:c,allDayMaxRows:this.props.showAllEvents?1/0:(r=this.props.allDayMaxRows)!==null&&r!==void 0?r:1/0,resources:this.memoizedResources(h,v),selectable:this.props.selectable,accessors:v,getters:p,components:f,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:E,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:S}),this.props.popup&&this.renderOverlay(),A.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},A.createElement(bne,{date:T,ref:this.gutterRef,localizer:y,min:y.merge(T,m),max:y.merge(T,g),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:f,className:"rbc-time-gutter",getters:p}),this.renderEvents(a,b,C,d())))}},{key:"renderOverlay",value:function(){var r,i,s=this,o=(r=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&r!==void 0?r:{},a=this.props,l=a.accessors,u=a.localizer,c=a.components,d=a.getters,h=a.selected,f=a.popupOffset,v=a.handleDragStart,p=function(){return s.setState({overlay:null})};return A.createElement(Yw,{overlay:o,accessors:l,localizer:u,components:c,getters:d,selected:h,popupOffset:f,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:v,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:p})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var r=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var i,s=(i=r.gutterRef)!==null&&i!==void 0&&i.current?jv(r.gutterRef.current):void 0;s&&r.state.gutterWidth!==s&&r.setState({gutterWidth:s})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var r=this.contentRef.current;r.scrollTop=r.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,i=r.min,s=r.max,o=r.scrollToTime,a=r.localizer,l=a.diff(a.merge(o,i),o,"milliseconds"),u=a.diff(i,s,"milliseconds");this._scrollRatio=l/u}}]),t}(R.Component);xa.defaultProps={step:30,timeslots:2};var Mne=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Tp=function(e){Yt(t,e);function t(){return pt(this,t),Ht(this,t,arguments)}return mt(t,[{key:"render",value:function(){var r=this.props,i=r.date,s=r.localizer,o=r.min,a=o===void 0?s.startOf(new Date,"day"):o,l=r.max,u=l===void 0?s.endOf(new Date,"day"):l,c=r.scrollToTime,d=c===void 0?s.startOf(new Date,"day"):c,h=r.enableAutoScroll,f=h===void 0?!0:h,v=fr(r,Mne),p=t.range(i,{localizer:s});return A.createElement(xa,Object.assign({},v,{range:p,eventOffset:10,localizer:s,min:a,max:u,scrollToTime:d,enableAutoScroll:f}))}}]),t}(A.Component);Tp.range=function(e,t){var n=t.localizer;return[n.startOf(e,"day")]};Tp.navigate=function(e,t,n){var r=n.localizer;switch(t){case rn.PREVIOUS:return r.add(e,-1,"day");case rn.NEXT:return r.add(e,1,"day");default:return e}};Tp.title=function(e,t){var n=t.localizer;return n.format(e,"dayHeaderFormat")};var $ne=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Bi=function(e){Yt(t,e);function t(){return pt(this,t),Ht(this,t,arguments)}return mt(t,[{key:"render",value:function(){var r=this.props,i=r.date,s=r.localizer,o=r.min,a=o===void 0?s.startOf(new Date,"day"):o,l=r.max,u=l===void 0?s.endOf(new Date,"day"):l,c=r.scrollToTime,d=c===void 0?s.startOf(new Date,"day"):c,h=r.enableAutoScroll,f=h===void 0?!0:h,v=fr(r,$ne),p=t.range(i,this.props);return A.createElement(xa,Object.assign({},v,{range:p,eventOffset:15,localizer:s,min:a,max:u,scrollToTime:d,enableAutoScroll:f}))}}]),t}(A.Component);Bi.defaultProps=xa.defaultProps;Bi.navigate=function(e,t,n){var r=n.localizer;switch(t){case rn.PREVIOUS:return r.add(e,-1,"week");case rn.NEXT:return r.add(e,1,"week");default:return e}};Bi.range=function(e,t){var n=t.localizer,r=n.startOfWeek(),i=n.startOf(e,"week",r),s=n.endOf(e,"week",r);return n.range(i,s)};Bi.title=function(e,t){var n=t.localizer,r=Bi.range(e,{localizer:n}),i=Tb(r),s=i[0],o=i.slice(1);return n.format({start:s,end:o.pop()},"dayRangeHeaderFormat")};var Lne=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function Gw(e,t){return Bi.range(e,t).filter(function(n){return[6,0].indexOf(n.getDay())===-1})}var wc=function(e){Yt(t,e);function t(){return pt(this,t),Ht(this,t,arguments)}return mt(t,[{key:"render",value:function(){var r=this.props,i=r.date,s=r.localizer,o=r.min,a=o===void 0?s.startOf(new Date,"day"):o,l=r.max,u=l===void 0?s.endOf(new Date,"day"):l,c=r.scrollToTime,d=c===void 0?s.startOf(new Date,"day"):c,h=r.enableAutoScroll,f=h===void 0?!0:h,v=fr(r,Lne),p=Gw(i,this.props);return A.createElement(xa,Object.assign({},v,{range:p,eventOffset:15,localizer:s,min:a,max:u,scrollToTime:d,enableAutoScroll:f}))}}]),t}(A.Component);wc.defaultProps=xa.defaultProps;wc.range=Gw;wc.navigate=Bi.navigate;wc.title=function(e,t){var n=t.localizer,r=Gw(e,{localizer:n}),i=Tb(r),s=i[0],o=i.slice(1);return n.format({start:s,end:o.pop()},"dayRangeHeaderFormat")};function zi(e){var t=e.accessors,n=e.components,r=e.date,i=e.events,s=e.getters,o=e.length,a=e.localizer,l=e.onDoubleClickEvent,u=e.onSelectEvent,c=e.selected,d=R.useRef(null),h=R.useRef(null),f=R.useRef(null),v=R.useRef(null),p=R.useRef(null);R.useEffect(function(){g()});var y=function(I,P,b){var C=n.event,L=n.date;return P=P.filter(function(z){return Pu(z,a.startOf(I,"day"),a.endOf(I,"day"),t,a)}),P.map(function(z,q){var Ee=t.title(z),ye=t.end(z),ie=t.start(z),fe=s.eventProp(z,ie,ye,Ep(z,c)),V=q===0&&a.format(I,"agendaDateFormat"),X=q===0?A.createElement("td",{rowSpan:P.length,className:"rbc-agenda-date-cell"},L?A.createElement(L,{day:I,label:V}):V):!1;return A.createElement("tr",{key:b+"_"+q,className:fe.className,style:fe.style},X,A.createElement("td",{className:"rbc-agenda-time-cell"},m(I,z)),A.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(k){return u&&u(z,k)},onDoubleClick:function(k){return l&&l(z,k)}},C?A.createElement(C,{event:z,title:Ee}):Ee))},[])},m=function(I,P){var b="",C=n.time,L=a.messages.allDay,z=t.end(P),q=t.start(P);return t.allDay(P)||(a.eq(q,z)?L=a.format(q,"agendaTimeFormat"):a.isSameDate(q,z)?L=a.format({start:q,end:z},"agendaTimeRangeFormat"):a.isSameDate(I,q)?L=a.format(q,"agendaTimeFormat"):a.isSameDate(I,z)&&(L=a.format(z,"agendaTimeFormat"))),a.gt(I,q,"day")&&(b="rbc-continues-prior"),a.lt(I,z,"day")&&(b+=" rbc-continues-after"),A.createElement("span",{className:b.trim()},C?A.createElement(C,{event:P,day:I,label:L}):L)},g=function(){if(p.current){var I=d.current,P=p.current.firstChild;if(P){var b=v.current.scrollHeight>v.current.clientHeight,C=[],L=C;C=[jv(P.children[0]),jv(P.children[1])],(L[0]!==C[0]||L[1]!==C[1])&&(h.current.style.width=C[0]+"px",f.current.style.width=C[1]+"px"),b?(L6(I,"rbc-header-overflowing"),I.style.marginRight=ZD()+"px"):F6(I,"rbc-header-overflowing")}}},_=a.messages,E=a.add(r,o,"day"),S=a.range(r,E,"day");return i=i.filter(function(T){return Pu(T,a.startOf(r,"day"),a.endOf(E,"day"),t,a)}),i.sort(function(T,I){return+t.start(T)-+t.start(I)}),A.createElement("div",{className:"rbc-agenda-view"},i.length!==0?A.createElement(A.Fragment,null,A.createElement("table",{ref:d,className:"rbc-agenda-table"},A.createElement("thead",null,A.createElement("tr",null,A.createElement("th",{className:"rbc-header",ref:h},_.date),A.createElement("th",{className:"rbc-header",ref:f},_.time),A.createElement("th",{className:"rbc-header"},_.event)))),A.createElement("div",{className:"rbc-agenda-content",ref:v},A.createElement("table",{className:"rbc-agenda-table"},A.createElement("tbody",{ref:p},S.map(function(T,I){return y(T,i,I)}))))):A.createElement("span",{className:"rbc-agenda-empty"},_.noEventsInRange))}zi.defaultProps={length:30};zi.range=function(e,t){var n=t.length,r=n===void 0?zi.defaultProps.length:n,i=t.localizer,s=i.add(e,r,"day");return{start:e,end:s}};zi.navigate=function(e,t,n){var r=n.length,i=r===void 0?zi.defaultProps.length:r,s=n.localizer;switch(t){case rn.PREVIOUS:return s.add(e,-i,"day");case rn.NEXT:return s.add(e,i,"day");default:return e}};zi.title=function(e,t){var n=t.length,r=n===void 0?zi.defaultProps.length:n,i=t.localizer,s=i.add(e,r,"day");return i.format({start:e,end:s},"agendaHeaderFormat")};var Nd=us(us(us(us(us({},jt.MONTH,Sp),jt.WEEK,Bi),jt.WORK_WEEK,wc),jt.DAY,Tp),jt.AGENDA,zi),Fne=["action","date","today"];function Vne(e,t){var n=t.action,r=t.date,i=t.today,s=fr(t,Fne);switch(e=typeof e=="string"?Nd[e]:e,n){case rn.TODAY:r=i||new Date;break;case rn.DATE:break;default:mu(e&&typeof e.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),r=e.navigate(r,n,s)}return r}var jne=function(e){Yt(t,e);function t(){var n;pt(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Ht(this,t,[].concat(i)),n.navigate=function(o){n.props.onNavigate(o)},n.view=function(o){n.props.onView(o)},n}return mt(t,[{key:"render",value:function(){var r=this.props,i=r.localizer.messages,s=r.label;return A.createElement("div",{className:"rbc-toolbar"},A.createElement("span",{className:"rbc-btn-group"},A.createElement("button",{type:"button",onClick:this.navigate.bind(null,rn.TODAY)},i.today),A.createElement("button",{type:"button",onClick:this.navigate.bind(null,rn.PREVIOUS)},i.previous),A.createElement("button",{type:"button",onClick:this.navigate.bind(null,rn.NEXT)},i.next)),A.createElement("span",{className:"rbc-toolbar-label"},s),A.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(i)))}},{key:"viewNamesGroup",value:function(r){var i=this,s=this.props.views,o=this.props.view;if(s.length>1)return s.map(function(a){return A.createElement("button",{type:"button",key:a,className:at({"rbc-active":o===a}),onClick:i.view.bind(null,a)},r[a])})}}]),t}(A.Component);function Une(e,t){var n=null;return typeof t=="function"?n=t(e):typeof t=="string"&&Yr(e)==="object"&&e!=null&&t in e&&(n=e[t]),n}var si=function(t){return function(n){return Une(n,t)}},Bne=["view","date","getNow","onNavigate"],zne=["view","toolbar","events","backgroundEvents","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function Jb(e){if(Array.isArray(e))return e;for(var t=[],n=0,r=Object.entries(e);n<r.length;n++){var i=Ar(r[n],2),s=i[0],o=i[1];o&&t.push(s)}return t}function Wne(e,t){var n=t.views,r=Jb(n);return r.indexOf(e)!==-1}var Zb=function(e){Yt(t,e);function t(){var n;pt(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Ht(this,t,[].concat(i)),n.getViews=function(){var o=n.props.views;return Array.isArray(o)?mte(o,function(a,l){return a[l]=Nd[l]},{}):Yr(o)==="object"?Ete(o,function(a,l){return a===!0?Nd[l]:a}):Nd},n.getView=function(){var o=n.getViews();return o[n.props.view]},n.getDrilldownView=function(o){var a=n.props,l=a.view,u=a.drilldownView,c=a.getDrilldownView;return c?c(o,l,Object.keys(n.getViews())):u},n.handleRangeChange=function(o,a,l){var u=n.props,c=u.onRangeChange,d=u.localizer;c&&a.range&&c(a.range(o,{localizer:d}),l)},n.handleNavigate=function(o,a){var l=n.props,u=l.view,c=l.date,d=l.getNow,h=l.onNavigate,f=fr(l,Bne),v=n.getView(),p=d();c=Vne(v,Ce(Ce({},f),{},{action:o,date:a||c||p,today:p})),h(c,u,o),n.handleRangeChange(c,v)},n.handleViewChange=function(o){o!==n.props.view&&Wne(o,n.props)&&n.props.onView(o);var a=n.getViews();n.handleRangeChange(n.props.date||n.props.getNow(),a[o],o)},n.handleSelectEvent=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];je(n.props.onSelectEvent,a)},n.handleDoubleClickEvent=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];je(n.props.onDoubleClickEvent,a)},n.handleKeyPressEvent=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];je(n.props.onKeyPressEvent,a)},n.handleSelectSlot=function(o){je(n.props.onSelectSlot,o)},n.handleDrillDown=function(o,a){var l=n.props.onDrillDown;if(l){l(o,a,n.drilldownView);return}a&&n.handleViewChange(a),n.handleNavigate(rn.DATE,o)},n.state={context:t.getContext(n.props)},n}return mt(t,[{key:"render",value:function(){var r=this.props,i=r.view,s=r.toolbar,o=r.events,a=r.backgroundEvents,l=r.style,u=r.className,c=r.elementProps,d=r.date,h=r.getNow,f=r.length,v=r.showMultiDayTimes,p=r.onShowMore,y=r.doShowMoreDrillDown;r.components,r.formats,r.messages,r.culture;var m=fr(r,zne);d=d||h();var g=this.getView(),_=this.state.context,E=_.accessors,S=_.components,T=_.getters,I=_.localizer,P=_.viewNames,b=S.toolbar||jne,C=g.title(d,{localizer:I,length:f});return A.createElement("div",Object.assign({},c,{className:at(u,"rbc-calendar",m.rtl&&"rbc-rtl"),style:l}),s&&A.createElement(b,{date:d,view:i,views:P,label:C,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:I}),A.createElement(g,Object.assign({},m,{events:o,backgroundEvents:a,date:d,getNow:h,length:f,localizer:I,getters:T,components:S,accessors:E,showMultiDayTimes:v,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:p,doShowMoreDrillDown:y})))}}],[{key:"getDerivedStateFromProps",value:function(r){return{context:t.getContext(r)}}},{key:"getContext",value:function(r){var i=r.startAccessor,s=r.endAccessor,o=r.allDayAccessor,a=r.tooltipAccessor,l=r.titleAccessor,u=r.resourceAccessor,c=r.resourceIdAccessor,d=r.resourceTitleAccessor,h=r.eventPropGetter,f=r.backgroundEventPropGetter,v=r.slotPropGetter,p=r.slotGroupPropGetter,y=r.dayPropGetter,m=r.view,g=r.views,_=r.localizer,E=r.culture,S=r.messages,T=S===void 0?{}:S,I=r.components,P=I===void 0?{}:I,b=r.formats,C=b===void 0?{}:b,L=Jb(g),z=Gte(T);return{viewNames:L,localizer:Yte(_,E,C,z),getters:{eventProp:function(){return h&&h.apply(void 0,arguments)||{}},backgroundEventProp:function(){return f&&f.apply(void 0,arguments)||{}},slotProp:function(){return v&&v.apply(void 0,arguments)||{}},slotGroupProp:function(){return p&&p.apply(void 0,arguments)||{}},dayProp:function(){return y&&y.apply(void 0,arguments)||{}}},components:nte(P[m]||{},Gee(P,L),{eventWrapper:Sr,backgroundEventWrapper:Sr,eventContainerWrapper:Sr,dateCellWrapper:Sr,weekWrapper:Sr,timeSlotWrapper:Sr,timeGutterWrapper:Sr}),accessors:{start:si(i),end:si(s),allDay:si(o),tooltip:si(a),title:si(l),resource:si(u),resourceId:si(c),resourceTitle:si(d)}}}}]),t}(A.Component);Zb.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:jt.MONTH,views:[jt.MONTH,jt.WEEK,jt.DAY,jt.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:jt.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var Hne=SD(Zb,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),Yne=function(t,n,r){var i=t.start,s=t.end;return r.format(i,"MMMM DD",n)+"  "+r.format(s,r.eq(i,s,"month")?"DD":"MMMM DD",n)},qne=function(t,n,r){var i=t.start,s=t.end;return r.format(i,"L",n)+"  "+r.format(s,"L",n)},zm=function(t,n,r){var i=t.start,s=t.end;return r.format(i,"LT",n)+"  "+r.format(s,"LT",n)},Gne=function(t,n,r){var i=t.start;return r.format(i,"LT",n)+"  "},Kne=function(t,n,r){var i=t.end;return"  "+r.format(i,"LT",n)},Qne={dateFormat:"DD",dayFormat:"DD ddd",weekdayFormat:"ddd",selectRangeFormat:zm,eventTimeRangeFormat:zm,eventTimeRangeStartFormat:Gne,eventTimeRangeEndFormat:Kne,timeGutterFormat:"LT",monthHeaderFormat:"MMMM YYYY",dayHeaderFormat:"dddd MMM DD",dayRangeHeaderFormat:Yne,agendaHeaderFormat:qne,agendaDateFormat:"ddd MMM DD",agendaTimeFormat:"LT",agendaTimeRangeFormat:zm};function oi(e){var t=e&&e.toLowerCase();return t==="FullYear"?t="year":t||(t=void 0),t}function Xne(e){var t=function(x,j){return j?x.locale(j):x};function n(k){return e(k).toDate().getTimezoneOffset()}function r(k,x){var j,W,G=e(k).local(),ae=e(x).local();if(!e.tz)return G.toDate().getTimezoneOffset()-ae.toDate().getTimezoneOffset();var Te=(j=G==null||(W=G._z)===null||W===void 0?void 0:W.name)!==null&&j!==void 0?j:e.tz.guess(),Pe=e.tz.zone(Te).utcOffset(+G),bn=e.tz.zone(Te).utcOffset(+ae);return Pe-bn}function i(k){var x=e(k).startOf("day");return r(x,k)}function s(k,x,j){var W=oi(j),G=W?e(k).startOf(W):e(k),ae=W?e(x).startOf(W):e(x);return[G,ae,W]}function o(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,x=arguments.length>1?arguments[1]:void 0,j=oi(x);return j?e(k).startOf(j).toDate():e(k).toDate()}function a(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,x=arguments.length>1?arguments[1]:void 0,j=oi(x);return j?e(k).endOf(j).toDate():e(k).toDate()}function l(k,x,j){var W=s(k,x,j),G=Ar(W,3),ae=G[0],Te=G[1],Pe=G[2];return ae.isSame(Te,Pe)}function u(k,x,j){return!l(k,x,j)}function c(k,x,j){var W=s(k,x,j),G=Ar(W,3),ae=G[0],Te=G[1],Pe=G[2];return ae.isAfter(Te,Pe)}function d(k,x,j){var W=s(k,x,j),G=Ar(W,3),ae=G[0],Te=G[1],Pe=G[2];return ae.isBefore(Te,Pe)}function h(k,x,j){var W=s(k,x,j),G=Ar(W,3),ae=G[0],Te=G[1],Pe=G[2];return ae.isSameOrBefore(Te,Pe)}function f(k,x,j){var W=s(k,x,j),G=Ar(W,3),ae=G[0],Te=G[1],Pe=G[2];return ae.isSameOrBefore(Te,Pe)}function v(k,x,j){var W=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"day",G=oi(W),ae=e(k),Te=e(x),Pe=e(j);return ae.isBetween(Te,Pe,G,"[]")}function p(k,x){var j=e(k),W=e(x),G=e.min(j,W);return G.toDate()}function y(k,x){var j=e(k),W=e(x),G=e.max(j,W);return G.toDate()}function m(k,x){if(!k&&!x)return null;var j=e(x).format("HH:mm:ss"),W=e(k).startOf("day").format("MM/DD/YYYY");return e("".concat(W," ").concat(j),"MM/DD/YYYY HH:mm:ss").toDate()}function g(k,x,j){var W=oi(j);return e(k).add(x,W).toDate()}function _(k,x){for(var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",W=oi(j),G=e(k).toDate(),ae=[];f(G,x);)ae.push(G),G=g(G,1,W);return ae}function E(k,x){var j=oi(x),W=o(k,j);return l(W,k)?W:g(W,1,j)}function S(k,x){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",W=oi(j),G=e(k),ae=e(x);return ae.diff(G,W)}function T(k){var x=e(k);return x.minutes()}function I(k){var x=k?e.localeData(k):e.localeData();return x?x.firstDayOfWeek():0}function P(k){return e(k).startOf("month").startOf("week").toDate()}function b(k){return e(k).endOf("month").endOf("week").toDate()}function C(k){for(var x=P(k),j=b(k),W=[];f(x,j);)W.push(x),x=g(x,1,"d");return W}function L(k,x,j){return e(k).startOf("day").minute(x+j).toDate()}function z(k,x){return S(k,x,"minutes")}function q(k){var x=e(k).startOf("day"),j=e(k);return j.diff(x,"minutes")+i(k)}function Ee(k,x){var j=e(k),W=e(x);return j.isBefore(W,"day")}function ye(k,x,j){var W=e(x),G=e(j);return W.isSameOrAfter(G,"minutes")}function ie(k,x){var j=e(k),W=e(x),G=e.duration(W.diff(j));return G.days()}function fe(k){var x=k.evtA,j=x.start,W=x.end,G=x.allDay,ae=k.evtB,Te=ae.start,Pe=ae.end,bn=ae.allDay,Zs=+o(j,"day")-+o(Te,"day"),ns=ie(j,W),La=ie(Te,Pe);return Zs||La-ns||!!bn-!!G||+j-+Te||+W-+Pe}function V(k){var x=k.event,j=x.start,W=x.end,G=k.range,ae=G.start,Te=G.end,Pe=e(j).startOf("day"),bn=e(W),Zs=e(ae),ns=e(Te),La=Pe.isSameOrBefore(ns,"day"),Ac=!Pe.isSame(bn,"minutes"),Mp=Ac?bn.isAfter(Zs,"minutes"):bn.isSameOrAfter(Zs,"minutes");return La&&Mp}function X(k,x){var j=e(k),W=e(x);return j.isSame(W,"day")}function ee(){var k=new Date,x=/-/.test(k.toString())?"-":"",j=k.getTimezoneOffset(),W=Number("".concat(x).concat(Math.abs(j))),G=e().utcOffset();return G>W?1:0}return new Hte({formats:Qne,firstOfWeek:I,firstVisibleDay:P,lastVisibleDay:b,visibleDays:C,format:function(x,j,W){return t(e(x),W).format(j)},lt:d,lte:f,gt:c,gte:h,eq:l,neq:u,merge:m,inRange:v,startOf:o,endOf:a,range:_,add:g,diff:S,ceil:E,min:p,max:y,minutes:T,getSlotDate:L,getTimezoneOffset:n,getDstOffset:r,getTotalMin:z,getMinutesFromMidnight:q,continuesPrior:Ee,continuesAfter:ye,sortEvents:fe,inEventRange:V,isSameDate:X,daySpan:ie,browserTZOffset:ee})}//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var eO;function U(){return eO.apply(null,arguments)}function Jne(e){eO=e}function Hn(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function Ts(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function _e(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Kw(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(_e(e,t))return!1;return!0}function qt(e){return e===void 0}function Gr(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function Ec(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function tO(e,t){var n=[],r,i=e.length;for(r=0;r<i;++r)n.push(t(e[r],r));return n}function _i(e,t){for(var n in t)_e(t,n)&&(e[n]=t[n]);return _e(t,"toString")&&(e.toString=t.toString),_e(t,"valueOf")&&(e.valueOf=t.valueOf),e}function vr(e,t,n,r){return IO(e,t,n,r,!0).utc()}function Zne(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function le(e){return e._pf==null&&(e._pf=Zne()),e._pf}var zv;Array.prototype.some?zv=Array.prototype.some:zv=function(e){var t=Object(this),n=t.length>>>0,r;for(r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function Qw(e){var t=null,n=!1,r=e._d&&!isNaN(e._d.getTime());if(r&&(t=le(e),n=zv.call(t.parsedDateParts,function(i){return i!=null}),r=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r;return e._isValid}function Ip(e){var t=vr(NaN);return e!=null?_i(le(t),e):le(t).userInvalidated=!0,t}var Z1=U.momentProperties=[],Wm=!1;function Xw(e,t){var n,r,i,s=Z1.length;if(qt(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),qt(t._i)||(e._i=t._i),qt(t._f)||(e._f=t._f),qt(t._l)||(e._l=t._l),qt(t._strict)||(e._strict=t._strict),qt(t._tzm)||(e._tzm=t._tzm),qt(t._isUTC)||(e._isUTC=t._isUTC),qt(t._offset)||(e._offset=t._offset),qt(t._pf)||(e._pf=le(t)),qt(t._locale)||(e._locale=t._locale),s>0)for(n=0;n<s;n++)r=Z1[n],i=t[r],qt(i)||(e[r]=i);return e}function Sc(e){Xw(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Wm===!1&&(Wm=!0,U.updateOffset(this),Wm=!1)}function Yn(e){return e instanceof Sc||e!=null&&e._isAMomentObject!=null}function nO(e){U.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function kn(e,t){var n=!0;return _i(function(){if(U.deprecationHandler!=null&&U.deprecationHandler(null,e),n){var r=[],i,s,o,a=arguments.length;for(s=0;s<a;s++){if(i="",typeof arguments[s]=="object"){i+=`
[`+s+"] ";for(o in arguments[0])_e(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[s];r.push(i)}nO(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var eI={};function rO(e,t){U.deprecationHandler!=null&&U.deprecationHandler(e,t),eI[e]||(nO(t),eI[e]=!0)}U.suppressDeprecationWarnings=!1;U.deprecationHandler=null;function yr(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function ere(e){var t,n;for(n in e)_e(e,n)&&(t=e[n],yr(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Wv(e,t){var n=_i({},e),r;for(r in t)_e(t,r)&&(Ts(e[r])&&Ts(t[r])?(n[r]={},_i(n[r],e[r]),_i(n[r],t[r])):t[r]!=null?n[r]=t[r]:delete n[r]);for(r in e)_e(e,r)&&!_e(t,r)&&Ts(e[r])&&(n[r]=_i({},n[r]));return n}function Jw(e){e!=null&&this.set(e)}var Hv;Object.keys?Hv=Object.keys:Hv=function(e){var t,n=[];for(t in e)_e(e,t)&&n.push(t);return n};var tre={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function nre(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return yr(r)?r.call(t,n):r}function pr(e,t,n){var r=""+Math.abs(e),i=t-r.length,s=e>=0;return(s?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var Zw=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,sd=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Hm={},Mo={};function J(e,t,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),e&&(Mo[e]=i),t&&(Mo[t[0]]=function(){return pr(i.apply(this,arguments),t[1],t[2])}),n&&(Mo[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function rre(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function ire(e){var t=e.match(Zw),n,r;for(n=0,r=t.length;n<r;n++)Mo[t[n]]?t[n]=Mo[t[n]]:t[n]=rre(t[n]);return function(i){var s="",o;for(o=0;o<r;o++)s+=yr(t[o])?t[o].call(i,e):t[o];return s}}function Md(e,t){return e.isValid()?(t=iO(t,e.localeData()),Hm[t]=Hm[t]||ire(t),Hm[t](e)):e.localeData().invalidDate()}function iO(e,t){var n=5;function r(i){return t.longDateFormat(i)||i}for(sd.lastIndex=0;n>=0&&sd.test(e);)e=e.replace(sd,r),sd.lastIndex=0,n-=1;return e}var sre={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function ore(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(Zw).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var are="Invalid date";function lre(){return this._invalidDate}var ure="%d",cre=/\d{1,2}/;function dre(e){return this._ordinal.replace("%d",e)}var hre={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function fre(e,t,n,r){var i=this._relativeTime[n];return yr(i)?i(e,t,n,r):i.replace(/%d/i,e)}function pre(e,t){var n=this._relativeTime[e>0?"future":"past"];return yr(n)?n(t):n.replace(/%s/i,t)}var tI={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Dn(e){return typeof e=="string"?tI[e]||tI[e.toLowerCase()]:void 0}function e0(e){var t={},n,r;for(r in e)_e(e,r)&&(n=Dn(r),n&&(t[n]=e[r]));return t}var mre={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function gre(e){var t=[],n;for(n in e)_e(e,n)&&t.push({unit:n,priority:mre[n]});return t.sort(function(r,i){return r.priority-i.priority}),t}var sO=/\d/,mn=/\d\d/,oO=/\d{3}/,t0=/\d{4}/,Ap=/[+-]?\d{6}/,Fe=/\d\d?/,aO=/\d\d\d\d?/,lO=/\d\d\d\d\d\d?/,Rp=/\d{1,3}/,n0=/\d{1,4}/,Pp=/[+-]?\d{1,6}/,Na=/\d+/,Cp=/[+-]?\d+/,vre=/Z|[+-]\d\d:?\d\d/gi,kp=/Z|[+-]\d\d(?::?\d\d)?/gi,yre=/[+-]?\d+(\.\d{1,3})?/,Tc=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Ma=/^[1-9]\d?/,r0=/^([1-9]\d|\d)/,Kh;Kh={};function H(e,t,n){Kh[e]=yr(t)?t:function(r,i){return r&&n?n:t}}function _re(e,t){return _e(Kh,e)?Kh[e](t._strict,t._locale):new RegExp(wre(e))}function wre(e){return $r(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,r,i,s){return n||r||i||s}))}function $r(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function _n(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function ce(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=_n(t)),n}var Yv={};function Re(e,t){var n,r=t,i;for(typeof e=="string"&&(e=[e]),Gr(t)&&(r=function(s,o){o[t]=ce(s)}),i=e.length,n=0;n<i;n++)Yv[e[n]]=r}function Ic(e,t){Re(e,function(n,r,i,s){i._w=i._w||{},t(n,i._w,i,s)})}function Ere(e,t,n){t!=null&&_e(Yv,e)&&Yv[e](t,n._a,n,e)}function Dp(e){return e%4===0&&e%100!==0||e%400===0}var Mt=0,br=1,Zn=2,ot=3,Ln=4,Or=5,gs=6,Sre=7,Tre=8;J("Y",0,0,function(){var e=this.year();return e<=9999?pr(e,4):"+"+e});J(0,["YY",2],0,function(){return this.year()%100});J(0,["YYYY",4],0,"year");J(0,["YYYYY",5],0,"year");J(0,["YYYYYY",6,!0],0,"year");H("Y",Cp);H("YY",Fe,mn);H("YYYY",n0,t0);H("YYYYY",Pp,Ap);H("YYYYYY",Pp,Ap);Re(["YYYYY","YYYYYY"],Mt);Re("YYYY",function(e,t){t[Mt]=e.length===2?U.parseTwoDigitYear(e):ce(e)});Re("YY",function(e,t){t[Mt]=U.parseTwoDigitYear(e)});Re("Y",function(e,t){t[Mt]=parseInt(e,10)});function bl(e){return Dp(e)?366:365}U.parseTwoDigitYear=function(e){return ce(e)+(ce(e)>68?1900:2e3)};var uO=$a("FullYear",!0);function Ire(){return Dp(this.year())}function $a(e,t){return function(n){return n!=null?(cO(this,e,n),U.updateOffset(this,t),this):Cu(this,e)}}function Cu(e,t){if(!e.isValid())return NaN;var n=e._d,r=e._isUTC;switch(t){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function cO(e,t,n){var r,i,s,o,a;if(!(!e.isValid()||isNaN(n))){switch(r=e._d,i=e._isUTC,t){case"Milliseconds":return void(i?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(i?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(i?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(i?r.setUTCHours(n):r.setHours(n));case"Date":return void(i?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}s=n,o=e.month(),a=e.date(),a=a===29&&o===1&&!Dp(s)?28:a,i?r.setUTCFullYear(s,o,a):r.setFullYear(s,o,a)}}function Are(e){return e=Dn(e),yr(this[e])?this[e]():this}function Rre(e,t){if(typeof e=="object"){e=e0(e);var n=gre(e),r,i=n.length;for(r=0;r<i;r++)this[n[r].unit](e[n[r].unit])}else if(e=Dn(e),yr(this[e]))return this[e](t);return this}function Pre(e,t){return(e%t+t)%t}var Qe;Array.prototype.indexOf?Qe=Array.prototype.indexOf:Qe=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function i0(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=Pre(t,12);return e+=(t-n)/12,n===1?Dp(e)?29:28:31-n%7%2}J("M",["MM",2],"Mo",function(){return this.month()+1});J("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});J("MMMM",0,0,function(e){return this.localeData().months(this,e)});H("M",Fe,Ma);H("MM",Fe,mn);H("MMM",function(e,t){return t.monthsShortRegex(e)});H("MMMM",function(e,t){return t.monthsRegex(e)});Re(["M","MM"],function(e,t){t[br]=ce(e)-1});Re(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);i!=null?t[br]=i:le(n).invalidMonth=e});var Cre="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),dO="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),hO=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,kre=Tc,Dre=Tc;function bre(e,t){return e?Hn(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||hO).test(t)?"format":"standalone"][e.month()]:Hn(this._months)?this._months:this._months.standalone}function Ore(e,t){return e?Hn(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[hO.test(t)?"format":"standalone"][e.month()]:Hn(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function xre(e,t,n){var r,i,s,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)s=vr([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(s,"").toLocaleLowerCase();return n?t==="MMM"?(i=Qe.call(this._shortMonthsParse,o),i!==-1?i:null):(i=Qe.call(this._longMonthsParse,o),i!==-1?i:null):t==="MMM"?(i=Qe.call(this._shortMonthsParse,o),i!==-1?i:(i=Qe.call(this._longMonthsParse,o),i!==-1?i:null)):(i=Qe.call(this._longMonthsParse,o),i!==-1?i:(i=Qe.call(this._shortMonthsParse,o),i!==-1?i:null))}function Nre(e,t,n){var r,i,s;if(this._monthsParseExact)return xre.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=vr([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(s.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function fO(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=ce(t);else if(t=e.localeData().monthsParse(t),!Gr(t))return e}var n=t,r=e.date();return r=r<29?r:Math.min(r,i0(e.year(),n)),e._isUTC?e._d.setUTCMonth(n,r):e._d.setMonth(n,r),e}function pO(e){return e!=null?(fO(this,e),U.updateOffset(this,!0),this):Cu(this,"Month")}function Mre(){return i0(this.year(),this.month())}function $re(e){return this._monthsParseExact?(_e(this,"_monthsRegex")||mO.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(_e(this,"_monthsShortRegex")||(this._monthsShortRegex=kre),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function Lre(e){return this._monthsParseExact?(_e(this,"_monthsRegex")||mO.call(this),e?this._monthsStrictRegex:this._monthsRegex):(_e(this,"_monthsRegex")||(this._monthsRegex=Dre),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function mO(){function e(l,u){return u.length-l.length}var t=[],n=[],r=[],i,s,o,a;for(i=0;i<12;i++)s=vr([2e3,i]),o=$r(this.monthsShort(s,"")),a=$r(this.months(s,"")),t.push(o),n.push(a),r.push(a),r.push(o);t.sort(e),n.sort(e),r.sort(e),this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Fre(e,t,n,r,i,s,o){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,r,i,s,o),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,r,i,s,o),a}function ku(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Qh(e,t,n){var r=7+t-n,i=(7+ku(e,0,r).getUTCDay()-t)%7;return-i+r-1}function gO(e,t,n,r,i){var s=(7+n-r)%7,o=Qh(e,r,i),a=1+7*(t-1)+s+o,l,u;return a<=0?(l=e-1,u=bl(l)+a):a>bl(e)?(l=e+1,u=a-bl(e)):(l=e,u=a),{year:l,dayOfYear:u}}function Du(e,t,n){var r=Qh(e.year(),t,n),i=Math.floor((e.dayOfYear()-r-1)/7)+1,s,o;return i<1?(o=e.year()-1,s=i+Lr(o,t,n)):i>Lr(e.year(),t,n)?(s=i-Lr(e.year(),t,n),o=e.year()+1):(o=e.year(),s=i),{week:s,year:o}}function Lr(e,t,n){var r=Qh(e,t,n),i=Qh(e+1,t,n);return(bl(e)-r+i)/7}J("w",["ww",2],"wo","week");J("W",["WW",2],"Wo","isoWeek");H("w",Fe,Ma);H("ww",Fe,mn);H("W",Fe,Ma);H("WW",Fe,mn);Ic(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=ce(e)});function Vre(e){return Du(e,this._week.dow,this._week.doy).week}var jre={dow:0,doy:6};function Ure(){return this._week.dow}function Bre(){return this._week.doy}function zre(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function Wre(e){var t=Du(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}J("d",0,"do","day");J("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});J("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});J("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});J("e",0,0,"weekday");J("E",0,0,"isoWeekday");H("d",Fe);H("e",Fe);H("E",Fe);H("dd",function(e,t){return t.weekdaysMinRegex(e)});H("ddd",function(e,t){return t.weekdaysShortRegex(e)});H("dddd",function(e,t){return t.weekdaysRegex(e)});Ic(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);i!=null?t.d=i:le(n).invalidWeekday=e});Ic(["d","e","E"],function(e,t,n,r){t[r]=ce(e)});function Hre(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function Yre(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function s0(e,t){return e.slice(t,7).concat(e.slice(0,t))}var qre="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),vO="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Gre="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Kre=Tc,Qre=Tc,Xre=Tc;function Jre(e,t){var n=Hn(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?s0(n,this._week.dow):e?n[e.day()]:n}function Zre(e){return e===!0?s0(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function eie(e){return e===!0?s0(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function tie(e,t,n){var r,i,s,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)s=vr([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(s,"").toLocaleLowerCase();return n?t==="dddd"?(i=Qe.call(this._weekdaysParse,o),i!==-1?i:null):t==="ddd"?(i=Qe.call(this._shortWeekdaysParse,o),i!==-1?i:null):(i=Qe.call(this._minWeekdaysParse,o),i!==-1?i:null):t==="dddd"?(i=Qe.call(this._weekdaysParse,o),i!==-1||(i=Qe.call(this._shortWeekdaysParse,o),i!==-1)?i:(i=Qe.call(this._minWeekdaysParse,o),i!==-1?i:null)):t==="ddd"?(i=Qe.call(this._shortWeekdaysParse,o),i!==-1||(i=Qe.call(this._weekdaysParse,o),i!==-1)?i:(i=Qe.call(this._minWeekdaysParse,o),i!==-1?i:null)):(i=Qe.call(this._minWeekdaysParse,o),i!==-1||(i=Qe.call(this._weekdaysParse,o),i!==-1)?i:(i=Qe.call(this._shortWeekdaysParse,o),i!==-1?i:null))}function nie(e,t,n){var r,i,s;if(this._weekdaysParseExact)return tie.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=vr([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(s.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(n&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(n&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function rie(e){if(!this.isValid())return e!=null?this:NaN;var t=Cu(this,"Day");return e!=null?(e=Hre(e,this.localeData()),this.add(e-t,"d")):t}function iie(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function sie(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=Yre(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function oie(e){return this._weekdaysParseExact?(_e(this,"_weekdaysRegex")||o0.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(_e(this,"_weekdaysRegex")||(this._weekdaysRegex=Kre),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function aie(e){return this._weekdaysParseExact?(_e(this,"_weekdaysRegex")||o0.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(_e(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Qre),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function lie(e){return this._weekdaysParseExact?(_e(this,"_weekdaysRegex")||o0.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(_e(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Xre),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function o0(){function e(c,d){return d.length-c.length}var t=[],n=[],r=[],i=[],s,o,a,l,u;for(s=0;s<7;s++)o=vr([2e3,1]).day(s),a=$r(this.weekdaysMin(o,"")),l=$r(this.weekdaysShort(o,"")),u=$r(this.weekdays(o,"")),t.push(a),n.push(l),r.push(u),i.push(a),i.push(l),i.push(u);t.sort(e),n.sort(e),r.sort(e),i.sort(e),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function a0(){return this.hours()%12||12}function uie(){return this.hours()||24}J("H",["HH",2],0,"hour");J("h",["hh",2],0,a0);J("k",["kk",2],0,uie);J("hmm",0,0,function(){return""+a0.apply(this)+pr(this.minutes(),2)});J("hmmss",0,0,function(){return""+a0.apply(this)+pr(this.minutes(),2)+pr(this.seconds(),2)});J("Hmm",0,0,function(){return""+this.hours()+pr(this.minutes(),2)});J("Hmmss",0,0,function(){return""+this.hours()+pr(this.minutes(),2)+pr(this.seconds(),2)});function yO(e,t){J(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}yO("a",!0);yO("A",!1);function _O(e,t){return t._meridiemParse}H("a",_O);H("A",_O);H("H",Fe,r0);H("h",Fe,Ma);H("k",Fe,Ma);H("HH",Fe,mn);H("hh",Fe,mn);H("kk",Fe,mn);H("hmm",aO);H("hmmss",lO);H("Hmm",aO);H("Hmmss",lO);Re(["H","HH"],ot);Re(["k","kk"],function(e,t,n){var r=ce(e);t[ot]=r===24?0:r});Re(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});Re(["h","hh"],function(e,t,n){t[ot]=ce(e),le(n).bigHour=!0});Re("hmm",function(e,t,n){var r=e.length-2;t[ot]=ce(e.substr(0,r)),t[Ln]=ce(e.substr(r)),le(n).bigHour=!0});Re("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[ot]=ce(e.substr(0,r)),t[Ln]=ce(e.substr(r,2)),t[Or]=ce(e.substr(i)),le(n).bigHour=!0});Re("Hmm",function(e,t,n){var r=e.length-2;t[ot]=ce(e.substr(0,r)),t[Ln]=ce(e.substr(r))});Re("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[ot]=ce(e.substr(0,r)),t[Ln]=ce(e.substr(r,2)),t[Or]=ce(e.substr(i))});function cie(e){return(e+"").toLowerCase().charAt(0)==="p"}var die=/[ap]\.?m?\.?/i,hie=$a("Hours",!0);function fie(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var wO={calendar:tre,longDateFormat:sre,invalidDate:are,ordinal:ure,dayOfMonthOrdinalParse:cre,relativeTime:hre,months:Cre,monthsShort:dO,week:jre,weekdays:qre,weekdaysMin:Gre,weekdaysShort:vO,meridiemParse:die},Ve={},Za={},bu;function pie(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function nI(e){return e&&e.toLowerCase().replace("_","-")}function mie(e){for(var t=0,n,r,i,s;t<e.length;){for(s=nI(e[t]).split("-"),n=s.length,r=nI(e[t+1]),r=r?r.split("-"):null;n>0;){if(i=bp(s.slice(0,n).join("-")),i)return i;if(r&&r.length>=n&&pie(s,r)>=n-1)break;n--}t++}return bu}function gie(e){return!!(e&&e.match("^[^/\\\\]*$"))}function bp(e){var t=null,n;if(Ve[e]===void 0&&typeof Fd<"u"&&Fd&&Fd.exports&&gie(e))try{t=bu._abbr,n=require,n("./locale/"+e),Mi(t)}catch{Ve[e]=null}return Ve[e]}function Mi(e,t){var n;return e&&(qt(t)?n=ei(e):n=l0(e,t),n?bu=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),bu._abbr}function l0(e,t){if(t!==null){var n,r=wO;if(t.abbr=e,Ve[e]!=null)rO("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Ve[e]._config;else if(t.parentLocale!=null)if(Ve[t.parentLocale]!=null)r=Ve[t.parentLocale]._config;else if(n=bp(t.parentLocale),n!=null)r=n._config;else return Za[t.parentLocale]||(Za[t.parentLocale]=[]),Za[t.parentLocale].push({name:e,config:t}),null;return Ve[e]=new Jw(Wv(r,t)),Za[e]&&Za[e].forEach(function(i){l0(i.name,i.config)}),Mi(e),Ve[e]}else return delete Ve[e],null}function vie(e,t){if(t!=null){var n,r,i=wO;Ve[e]!=null&&Ve[e].parentLocale!=null?Ve[e].set(Wv(Ve[e]._config,t)):(r=bp(e),r!=null&&(i=r._config),t=Wv(i,t),r==null&&(t.abbr=e),n=new Jw(t),n.parentLocale=Ve[e],Ve[e]=n),Mi(e)}else Ve[e]!=null&&(Ve[e].parentLocale!=null?(Ve[e]=Ve[e].parentLocale,e===Mi()&&Mi(e)):Ve[e]!=null&&delete Ve[e]);return Ve[e]}function ei(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return bu;if(!Hn(e)){if(t=bp(e),t)return t;e=[e]}return mie(e)}function yie(){return Hv(Ve)}function u0(e){var t,n=e._a;return n&&le(e).overflow===-2&&(t=n[br]<0||n[br]>11?br:n[Zn]<1||n[Zn]>i0(n[Mt],n[br])?Zn:n[ot]<0||n[ot]>24||n[ot]===24&&(n[Ln]!==0||n[Or]!==0||n[gs]!==0)?ot:n[Ln]<0||n[Ln]>59?Ln:n[Or]<0||n[Or]>59?Or:n[gs]<0||n[gs]>999?gs:-1,le(e)._overflowDayOfYear&&(t<Mt||t>Zn)&&(t=Zn),le(e)._overflowWeeks&&t===-1&&(t=Sre),le(e)._overflowWeekday&&t===-1&&(t=Tre),le(e).overflow=t),e}var _ie=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,wie=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Eie=/Z|[+-]\d\d(?::?\d\d)?/,od=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Ym=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Sie=/^\/?Date\((-?\d+)/i,Tie=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Iie={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function EO(e){var t,n,r=e._i,i=_ie.exec(r)||wie.exec(r),s,o,a,l,u=od.length,c=Ym.length;if(i){for(le(e).iso=!0,t=0,n=u;t<n;t++)if(od[t][1].exec(i[1])){o=od[t][0],s=od[t][2]!==!1;break}if(o==null){e._isValid=!1;return}if(i[3]){for(t=0,n=c;t<n;t++)if(Ym[t][1].exec(i[3])){a=(i[2]||" ")+Ym[t][0];break}if(a==null){e._isValid=!1;return}}if(!s&&a!=null){e._isValid=!1;return}if(i[4])if(Eie.exec(i[4]))l="Z";else{e._isValid=!1;return}e._f=o+(a||"")+(l||""),d0(e)}else e._isValid=!1}function Aie(e,t,n,r,i,s){var o=[Rie(e),dO.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return s&&o.push(parseInt(s,10)),o}function Rie(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Pie(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Cie(e,t,n){if(e){var r=vO.indexOf(e),i=new Date(t[0],t[1],t[2]).getDay();if(r!==i)return le(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function kie(e,t,n){if(e)return Iie[e];if(t)return 0;var r=parseInt(n,10),i=r%100,s=(r-i)/100;return s*60+i}function SO(e){var t=Tie.exec(Pie(e._i)),n;if(t){if(n=Aie(t[4],t[3],t[2],t[5],t[6],t[7]),!Cie(t[1],n,e))return;e._a=n,e._tzm=kie(t[8],t[9],t[10]),e._d=ku.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),le(e).rfc2822=!0}else e._isValid=!1}function Die(e){var t=Sie.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(EO(e),e._isValid===!1)delete e._isValid;else return;if(SO(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:U.createFromInputFallback(e)}U.createFromInputFallback=kn("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function ao(e,t,n){return e??t??n}function bie(e){var t=new Date(U.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function c0(e){var t,n,r=[],i,s,o;if(!e._d){for(i=bie(e),e._w&&e._a[Zn]==null&&e._a[br]==null&&Oie(e),e._dayOfYear!=null&&(o=ao(e._a[Mt],i[Mt]),(e._dayOfYear>bl(o)||e._dayOfYear===0)&&(le(e)._overflowDayOfYear=!0),n=ku(o,0,e._dayOfYear),e._a[br]=n.getUTCMonth(),e._a[Zn]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=i[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[ot]===24&&e._a[Ln]===0&&e._a[Or]===0&&e._a[gs]===0&&(e._nextDay=!0,e._a[ot]=0),e._d=(e._useUTC?ku:Fre).apply(null,r),s=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ot]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==s&&(le(e).weekdayMismatch=!0)}}function Oie(e){var t,n,r,i,s,o,a,l,u;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(s=1,o=4,n=ao(t.GG,e._a[Mt],Du(Le(),1,4).year),r=ao(t.W,1),i=ao(t.E,1),(i<1||i>7)&&(l=!0)):(s=e._locale._week.dow,o=e._locale._week.doy,u=Du(Le(),s,o),n=ao(t.gg,e._a[Mt],u.year),r=ao(t.w,u.week),t.d!=null?(i=t.d,(i<0||i>6)&&(l=!0)):t.e!=null?(i=t.e+s,(t.e<0||t.e>6)&&(l=!0)):i=s),r<1||r>Lr(n,s,o)?le(e)._overflowWeeks=!0:l!=null?le(e)._overflowWeekday=!0:(a=gO(n,r,i,s,o),e._a[Mt]=a.year,e._dayOfYear=a.dayOfYear)}U.ISO_8601=function(){};U.RFC_2822=function(){};function d0(e){if(e._f===U.ISO_8601){EO(e);return}if(e._f===U.RFC_2822){SO(e);return}e._a=[],le(e).empty=!0;var t=""+e._i,n,r,i,s,o,a=t.length,l=0,u,c;for(i=iO(e._f,e._locale).match(Zw)||[],c=i.length,n=0;n<c;n++)s=i[n],r=(t.match(_re(s,e))||[])[0],r&&(o=t.substr(0,t.indexOf(r)),o.length>0&&le(e).unusedInput.push(o),t=t.slice(t.indexOf(r)+r.length),l+=r.length),Mo[s]?(r?le(e).empty=!1:le(e).unusedTokens.push(s),Ere(s,r,e)):e._strict&&!r&&le(e).unusedTokens.push(s);le(e).charsLeftOver=a-l,t.length>0&&le(e).unusedInput.push(t),e._a[ot]<=12&&le(e).bigHour===!0&&e._a[ot]>0&&(le(e).bigHour=void 0),le(e).parsedDateParts=e._a.slice(0),le(e).meridiem=e._meridiem,e._a[ot]=xie(e._locale,e._a[ot],e._meridiem),u=le(e).era,u!==null&&(e._a[Mt]=e._locale.erasConvertYear(u,e._a[Mt])),c0(e),u0(e)}function xie(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function Nie(e){var t,n,r,i,s,o,a=!1,l=e._f.length;if(l===0){le(e).invalidFormat=!0,e._d=new Date(NaN);return}for(i=0;i<l;i++)s=0,o=!1,t=Xw({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[i],d0(t),Qw(t)&&(o=!0),s+=le(t).charsLeftOver,s+=le(t).unusedTokens.length*10,le(t).score=s,a?s<r&&(r=s,n=t):(r==null||s<r||o)&&(r=s,n=t,o&&(a=!0));_i(e,n||t)}function Mie(e){if(!e._d){var t=e0(e._i),n=t.day===void 0?t.date:t.day;e._a=tO([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),c0(e)}}function $ie(e){var t=new Sc(u0(TO(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function TO(e){var t=e._i,n=e._f;return e._locale=e._locale||ei(e._l),t===null||n===void 0&&t===""?Ip({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Yn(t)?new Sc(u0(t)):(Ec(t)?e._d=t:Hn(n)?Nie(e):n?d0(e):Lie(e),Qw(e)||(e._d=null),e))}function Lie(e){var t=e._i;qt(t)?e._d=new Date(U.now()):Ec(t)?e._d=new Date(t.valueOf()):typeof t=="string"?Die(e):Hn(t)?(e._a=tO(t.slice(0),function(n){return parseInt(n,10)}),c0(e)):Ts(t)?Mie(e):Gr(t)?e._d=new Date(t):U.createFromInputFallback(e)}function IO(e,t,n,r,i){var s={};return(t===!0||t===!1)&&(r=t,t=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(Ts(e)&&Kw(e)||Hn(e)&&e.length===0)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=e,s._f=t,s._strict=r,$ie(s)}function Le(e,t,n,r){return IO(e,t,n,r,!1)}var Fie=kn("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Le.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Ip()}),Vie=kn("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Le.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Ip()});function AO(e,t){var n,r;if(t.length===1&&Hn(t[0])&&(t=t[0]),!t.length)return Le();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function jie(){var e=[].slice.call(arguments,0);return AO("isBefore",e)}function Uie(){var e=[].slice.call(arguments,0);return AO("isAfter",e)}var Bie=function(){return Date.now?Date.now():+new Date},el=["year","quarter","month","week","day","hour","minute","second","millisecond"];function zie(e){var t,n=!1,r,i=el.length;for(t in e)if(_e(e,t)&&!(Qe.call(el,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<i;++r)if(e[el[r]]){if(n)return!1;parseFloat(e[el[r]])!==ce(e[el[r]])&&(n=!0)}return!0}function Wie(){return this._isValid}function Hie(){return qn(NaN)}function Op(e){var t=e0(e),n=t.year||0,r=t.quarter||0,i=t.month||0,s=t.week||t.isoWeek||0,o=t.day||0,a=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._isValid=zie(t),this._milliseconds=+c+u*1e3+l*6e4+a*1e3*60*60,this._days=+o+s*7,this._months=+i+r*3+n*12,this._data={},this._locale=ei(),this._bubble()}function $d(e){return e instanceof Op}function qv(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function Yie(e,t,n){var r=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),s=0,o;for(o=0;o<r;o++)(n&&e[o]!==t[o]||!n&&ce(e[o])!==ce(t[o]))&&s++;return s+i}function RO(e,t){J(e,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+pr(~~(n/60),2)+t+pr(~~n%60,2)})}RO("Z",":");RO("ZZ","");H("Z",kp);H("ZZ",kp);Re(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=h0(kp,e)});var qie=/([\+\-]|\d\d)/gi;function h0(e,t){var n=(t||"").match(e),r,i,s;return n===null?null:(r=n[n.length-1]||[],i=(r+"").match(qie)||["-",0,0],s=+(i[1]*60)+ce(i[2]),s===0?0:i[0]==="+"?s:-s)}function f0(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(Yn(e)||Ec(e)?e.valueOf():Le(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),U.updateOffset(n,!1),n):Le(e).local()}function Gv(e){return-Math.round(e._d.getTimezoneOffset())}U.updateOffset=function(){};function Gie(e,t,n){var r=this._offset||0,i;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=h0(kp,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(i=Gv(this)),this._offset=e,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==e&&(!t||this._changeInProgress?kO(this,qn(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,U.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:Gv(this)}function Kie(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Qie(e){return this.utcOffset(0,e)}function Xie(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Gv(this),"m")),this}function Jie(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=h0(vre,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function Zie(e){return this.isValid()?(e=e?Le(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function ese(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function tse(){if(!qt(this._isDSTShifted))return this._isDSTShifted;var e={},t;return Xw(e,this),e=TO(e),e._a?(t=e._isUTC?vr(e._a):Le(e._a),this._isDSTShifted=this.isValid()&&Yie(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function nse(){return this.isValid()?!this._isUTC:!1}function rse(){return this.isValid()?this._isUTC:!1}function PO(){return this.isValid()?this._isUTC&&this._offset===0:!1}var ise=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,sse=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function qn(e,t){var n=e,r=null,i,s,o;return $d(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:Gr(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(r=ise.exec(e))?(i=r[1]==="-"?-1:1,n={y:0,d:ce(r[Zn])*i,h:ce(r[ot])*i,m:ce(r[Ln])*i,s:ce(r[Or])*i,ms:ce(qv(r[gs]*1e3))*i}):(r=sse.exec(e))?(i=r[1]==="-"?-1:1,n={y:is(r[2],i),M:is(r[3],i),w:is(r[4],i),d:is(r[5],i),h:is(r[6],i),m:is(r[7],i),s:is(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(o=ose(Le(n.from),Le(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),s=new Op(n),$d(e)&&_e(e,"_locale")&&(s._locale=e._locale),$d(e)&&_e(e,"_isValid")&&(s._isValid=e._isValid),s}qn.fn=Op.prototype;qn.invalid=Hie;function is(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function rI(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function ose(e,t){var n;return e.isValid()&&t.isValid()?(t=f0(t,e),e.isBefore(t)?n=rI(e,t):(n=rI(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function CO(e,t){return function(n,r){var i,s;return r!==null&&!isNaN(+r)&&(rO(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=n,n=r,r=s),i=qn(n,r),kO(this,i,e),this}}function kO(e,t,n,r){var i=t._milliseconds,s=qv(t._days),o=qv(t._months);e.isValid()&&(r=r??!0,o&&fO(e,Cu(e,"Month")+o*n),s&&cO(e,"Date",Cu(e,"Date")+s*n),i&&e._d.setTime(e._d.valueOf()+i*n),r&&U.updateOffset(e,s||o))}var ase=CO(1,"add"),lse=CO(-1,"subtract");function DO(e){return typeof e=="string"||e instanceof String}function use(e){return Yn(e)||Ec(e)||DO(e)||Gr(e)||dse(e)||cse(e)||e===null||e===void 0}function cse(e){var t=Ts(e)&&!Kw(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,s,o=r.length;for(i=0;i<o;i+=1)s=r[i],n=n||_e(e,s);return t&&n}function dse(e){var t=Hn(e),n=!1;return t&&(n=e.filter(function(r){return!Gr(r)&&DO(e)}).length===0),t&&n}function hse(e){var t=Ts(e)&&!Kw(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,s;for(i=0;i<r.length;i+=1)s=r[i],n=n||_e(e,s);return t&&n}function fse(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function pse(e,t){arguments.length===1&&(arguments[0]?use(arguments[0])?(e=arguments[0],t=void 0):hse(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Le(),r=f0(n,this).startOf("day"),i=U.calendarFormat(this,r)||"sameElse",s=t&&(yr(t[i])?t[i].call(this,n):t[i]);return this.format(s||this.localeData().calendar(i,this,Le(n)))}function mse(){return new Sc(this)}function gse(e,t){var n=Yn(e)?e:Le(e);return this.isValid()&&n.isValid()?(t=Dn(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function vse(e,t){var n=Yn(e)?e:Le(e);return this.isValid()&&n.isValid()?(t=Dn(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function yse(e,t,n,r){var i=Yn(e)?e:Le(e),s=Yn(t)?t:Le(t);return this.isValid()&&i.isValid()&&s.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(r[1]===")"?this.isBefore(s,n):!this.isAfter(s,n))):!1}function _se(e,t){var n=Yn(e)?e:Le(e),r;return this.isValid()&&n.isValid()?(t=Dn(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function wse(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Ese(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Sse(e,t,n){var r,i,s;if(!this.isValid())return NaN;if(r=f0(e,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,t=Dn(t),t){case"year":s=Ld(this,r)/12;break;case"month":s=Ld(this,r);break;case"quarter":s=Ld(this,r)/3;break;case"second":s=(this-r)/1e3;break;case"minute":s=(this-r)/6e4;break;case"hour":s=(this-r)/36e5;break;case"day":s=(this-r-i)/864e5;break;case"week":s=(this-r-i)/6048e5;break;default:s=this-r}return n?s:_n(s)}function Ld(e,t){if(e.date()<t.date())return-Ld(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),i,s;return t-r<0?(i=e.clone().add(n-1,"months"),s=(t-r)/(r-i)):(i=e.clone().add(n+1,"months"),s=(t-r)/(i-r)),-(n+s)||0}U.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";U.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Tse(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Ise(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?Md(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):yr(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Md(n,"Z")):Md(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Ase(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,r,i,s;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",s=t+'[")]',this.format(n+r+i+s)}function Rse(e){e||(e=this.isUtc()?U.defaultFormatUtc:U.defaultFormat);var t=Md(this,e);return this.localeData().postformat(t)}function Pse(e,t){return this.isValid()&&(Yn(e)&&e.isValid()||Le(e).isValid())?qn({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Cse(e){return this.from(Le(),e)}function kse(e,t){return this.isValid()&&(Yn(e)&&e.isValid()||Le(e).isValid())?qn({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Dse(e){return this.to(Le(),e)}function bO(e){var t;return e===void 0?this._locale._abbr:(t=ei(e),t!=null&&(this._locale=t),this)}var OO=kn("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function xO(){return this._locale}var Xh=1e3,$o=60*Xh,Jh=60*$o,NO=(365*400+97)*24*Jh;function Lo(e,t){return(e%t+t)%t}function MO(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-NO:new Date(e,t,n).valueOf()}function $O(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-NO:Date.UTC(e,t,n)}function bse(e){var t,n;if(e=Dn(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?$O:MO,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Lo(t+(this._isUTC?0:this.utcOffset()*$o),Jh);break;case"minute":t=this._d.valueOf(),t-=Lo(t,$o);break;case"second":t=this._d.valueOf(),t-=Lo(t,Xh);break}return this._d.setTime(t),U.updateOffset(this,!0),this}function Ose(e){var t,n;if(e=Dn(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?$O:MO,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Jh-Lo(t+(this._isUTC?0:this.utcOffset()*$o),Jh)-1;break;case"minute":t=this._d.valueOf(),t+=$o-Lo(t,$o)-1;break;case"second":t=this._d.valueOf(),t+=Xh-Lo(t,Xh)-1;break}return this._d.setTime(t),U.updateOffset(this,!0),this}function xse(){return this._d.valueOf()-(this._offset||0)*6e4}function Nse(){return Math.floor(this.valueOf()/1e3)}function Mse(){return new Date(this.valueOf())}function $se(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Lse(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Fse(){return this.isValid()?this.toISOString():null}function Vse(){return Qw(this)}function jse(){return _i({},le(this))}function Use(){return le(this).overflow}function Bse(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}J("N",0,0,"eraAbbr");J("NN",0,0,"eraAbbr");J("NNN",0,0,"eraAbbr");J("NNNN",0,0,"eraName");J("NNNNN",0,0,"eraNarrow");J("y",["y",1],"yo","eraYear");J("y",["yy",2],0,"eraYear");J("y",["yyy",3],0,"eraYear");J("y",["yyyy",4],0,"eraYear");H("N",p0);H("NN",p0);H("NNN",p0);H("NNNN",Zse);H("NNNNN",eoe);Re(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?le(n).era=i:le(n).invalidEra=e});H("y",Na);H("yy",Na);H("yyy",Na);H("yyyy",Na);H("yo",toe);Re(["y","yy","yyy","yyyy"],Mt);Re(["yo"],function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Mt]=n._locale.eraYearOrdinalParse(e,i):t[Mt]=parseInt(e,10)});function zse(e,t){var n,r,i,s=this._eras||ei("en")._eras;for(n=0,r=s.length;n<r;++n){switch(typeof s[n].since){case"string":i=U(s[n].since).startOf("day"),s[n].since=i.valueOf();break}switch(typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":i=U(s[n].until).startOf("day").valueOf(),s[n].until=i.valueOf();break}}return s}function Wse(e,t,n){var r,i,s=this.eras(),o,a,l;for(e=e.toUpperCase(),r=0,i=s.length;r<i;++r)if(o=s[r].name.toUpperCase(),a=s[r].abbr.toUpperCase(),l=s[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return s[r];break;case"NNNN":if(o===e)return s[r];break;case"NNNNN":if(l===e)return s[r];break}else if([o,a,l].indexOf(e)>=0)return s[r]}function Hse(e,t){var n=e.since<=e.until?1:-1;return t===void 0?U(e.since).year():U(e.since).year()+(t-e.offset)*n}function Yse(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""}function qse(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""}function Gse(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""}function Kse(){var e,t,n,r,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=i[e].since<=i[e].until?1:-1,r=this.clone().startOf("day").valueOf(),i[e].since<=r&&r<=i[e].until||i[e].until<=r&&r<=i[e].since)return(this.year()-U(i[e].since).year())*n+i[e].offset;return this.year()}function Qse(e){return _e(this,"_erasNameRegex")||m0.call(this),e?this._erasNameRegex:this._erasRegex}function Xse(e){return _e(this,"_erasAbbrRegex")||m0.call(this),e?this._erasAbbrRegex:this._erasRegex}function Jse(e){return _e(this,"_erasNarrowRegex")||m0.call(this),e?this._erasNarrowRegex:this._erasRegex}function p0(e,t){return t.erasAbbrRegex(e)}function Zse(e,t){return t.erasNameRegex(e)}function eoe(e,t){return t.erasNarrowRegex(e)}function toe(e,t){return t._eraYearOrdinalRegex||Na}function m0(){var e=[],t=[],n=[],r=[],i,s,o,a,l,u=this.eras();for(i=0,s=u.length;i<s;++i)o=$r(u[i].name),a=$r(u[i].abbr),l=$r(u[i].narrow),t.push(o),e.push(a),n.push(l),r.push(o),r.push(a),r.push(l);this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}J(0,["gg",2],0,function(){return this.weekYear()%100});J(0,["GG",2],0,function(){return this.isoWeekYear()%100});function xp(e,t){J(0,[e,e.length],0,t)}xp("gggg","weekYear");xp("ggggg","weekYear");xp("GGGG","isoWeekYear");xp("GGGGG","isoWeekYear");H("G",Cp);H("g",Cp);H("GG",Fe,mn);H("gg",Fe,mn);H("GGGG",n0,t0);H("gggg",n0,t0);H("GGGGG",Pp,Ap);H("ggggg",Pp,Ap);Ic(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=ce(e)});Ic(["gg","GG"],function(e,t,n,r){t[r]=U.parseTwoDigitYear(e)});function noe(e){return LO.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function roe(e){return LO.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function ioe(){return Lr(this.year(),1,4)}function soe(){return Lr(this.isoWeekYear(),1,4)}function ooe(){var e=this.localeData()._week;return Lr(this.year(),e.dow,e.doy)}function aoe(){var e=this.localeData()._week;return Lr(this.weekYear(),e.dow,e.doy)}function LO(e,t,n,r,i){var s;return e==null?Du(this,r,i).year:(s=Lr(e,r,i),t>s&&(t=s),loe.call(this,e,t,n,r,i))}function loe(e,t,n,r,i){var s=gO(e,t,n,r,i),o=ku(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}J("Q",0,"Qo","quarter");H("Q",sO);Re("Q",function(e,t){t[br]=(ce(e)-1)*3});function uoe(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}J("D",["DD",2],"Do","date");H("D",Fe,Ma);H("DD",Fe,mn);H("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});Re(["D","DD"],Zn);Re("Do",function(e,t){t[Zn]=ce(e.match(Fe)[0])});var FO=$a("Date",!0);J("DDD",["DDDD",3],"DDDo","dayOfYear");H("DDD",Rp);H("DDDD",oO);Re(["DDD","DDDD"],function(e,t,n){n._dayOfYear=ce(e)});function coe(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}J("m",["mm",2],0,"minute");H("m",Fe,r0);H("mm",Fe,mn);Re(["m","mm"],Ln);var doe=$a("Minutes",!1);J("s",["ss",2],0,"second");H("s",Fe,r0);H("ss",Fe,mn);Re(["s","ss"],Or);var hoe=$a("Seconds",!1);J("S",0,0,function(){return~~(this.millisecond()/100)});J(0,["SS",2],0,function(){return~~(this.millisecond()/10)});J(0,["SSS",3],0,"millisecond");J(0,["SSSS",4],0,function(){return this.millisecond()*10});J(0,["SSSSS",5],0,function(){return this.millisecond()*100});J(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});J(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});J(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});J(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});H("S",Rp,sO);H("SS",Rp,mn);H("SSS",Rp,oO);var wi,VO;for(wi="SSSS";wi.length<=9;wi+="S")H(wi,Na);function foe(e,t){t[gs]=ce(("0."+e)*1e3)}for(wi="S";wi.length<=9;wi+="S")Re(wi,foe);VO=$a("Milliseconds",!1);J("z",0,0,"zoneAbbr");J("zz",0,0,"zoneName");function poe(){return this._isUTC?"UTC":""}function moe(){return this._isUTC?"Coordinated Universal Time":""}var $=Sc.prototype;$.add=ase;$.calendar=pse;$.clone=mse;$.diff=Sse;$.endOf=Ose;$.format=Rse;$.from=Pse;$.fromNow=Cse;$.to=kse;$.toNow=Dse;$.get=Are;$.invalidAt=Use;$.isAfter=gse;$.isBefore=vse;$.isBetween=yse;$.isSame=_se;$.isSameOrAfter=wse;$.isSameOrBefore=Ese;$.isValid=Vse;$.lang=OO;$.locale=bO;$.localeData=xO;$.max=Vie;$.min=Fie;$.parsingFlags=jse;$.set=Rre;$.startOf=bse;$.subtract=lse;$.toArray=$se;$.toObject=Lse;$.toDate=Mse;$.toISOString=Ise;$.inspect=Ase;typeof Symbol<"u"&&Symbol.for!=null&&($[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});$.toJSON=Fse;$.toString=Tse;$.unix=Nse;$.valueOf=xse;$.creationData=Bse;$.eraName=Yse;$.eraNarrow=qse;$.eraAbbr=Gse;$.eraYear=Kse;$.year=uO;$.isLeapYear=Ire;$.weekYear=noe;$.isoWeekYear=roe;$.quarter=$.quarters=uoe;$.month=pO;$.daysInMonth=Mre;$.week=$.weeks=zre;$.isoWeek=$.isoWeeks=Wre;$.weeksInYear=ooe;$.weeksInWeekYear=aoe;$.isoWeeksInYear=ioe;$.isoWeeksInISOWeekYear=soe;$.date=FO;$.day=$.days=rie;$.weekday=iie;$.isoWeekday=sie;$.dayOfYear=coe;$.hour=$.hours=hie;$.minute=$.minutes=doe;$.second=$.seconds=hoe;$.millisecond=$.milliseconds=VO;$.utcOffset=Gie;$.utc=Qie;$.local=Xie;$.parseZone=Jie;$.hasAlignedHourOffset=Zie;$.isDST=ese;$.isLocal=nse;$.isUtcOffset=rse;$.isUtc=PO;$.isUTC=PO;$.zoneAbbr=poe;$.zoneName=moe;$.dates=kn("dates accessor is deprecated. Use date instead.",FO);$.months=kn("months accessor is deprecated. Use month instead",pO);$.years=kn("years accessor is deprecated. Use year instead",uO);$.zone=kn("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Kie);$.isDSTShifted=kn("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",tse);function goe(e){return Le(e*1e3)}function voe(){return Le.apply(null,arguments).parseZone()}function jO(e){return e}var we=Jw.prototype;we.calendar=nre;we.longDateFormat=ore;we.invalidDate=lre;we.ordinal=dre;we.preparse=jO;we.postformat=jO;we.relativeTime=fre;we.pastFuture=pre;we.set=ere;we.eras=zse;we.erasParse=Wse;we.erasConvertYear=Hse;we.erasAbbrRegex=Xse;we.erasNameRegex=Qse;we.erasNarrowRegex=Jse;we.months=bre;we.monthsShort=Ore;we.monthsParse=Nre;we.monthsRegex=Lre;we.monthsShortRegex=$re;we.week=Vre;we.firstDayOfYear=Bre;we.firstDayOfWeek=Ure;we.weekdays=Jre;we.weekdaysMin=eie;we.weekdaysShort=Zre;we.weekdaysParse=nie;we.weekdaysRegex=oie;we.weekdaysShortRegex=aie;we.weekdaysMinRegex=lie;we.isPM=cie;we.meridiem=fie;function Zh(e,t,n,r){var i=ei(),s=vr().set(r,t);return i[n](s,e)}function UO(e,t,n){if(Gr(e)&&(t=e,e=void 0),e=e||"",t!=null)return Zh(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=Zh(e,r,n,"month");return i}function g0(e,t,n,r){typeof e=="boolean"?(Gr(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,Gr(t)&&(n=t,t=void 0),t=t||"");var i=ei(),s=e?i._week.dow:0,o,a=[];if(n!=null)return Zh(t,(n+s)%7,r,"day");for(o=0;o<7;o++)a[o]=Zh(t,(o+s)%7,r,"day");return a}function yoe(e,t){return UO(e,t,"months")}function _oe(e,t){return UO(e,t,"monthsShort")}function woe(e,t,n){return g0(e,t,n,"weekdays")}function Eoe(e,t,n){return g0(e,t,n,"weekdaysShort")}function Soe(e,t,n){return g0(e,t,n,"weekdaysMin")}Mi("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=ce(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});U.lang=kn("moment.lang is deprecated. Use moment.locale instead.",Mi);U.langData=kn("moment.langData is deprecated. Use moment.localeData instead.",ei);var wr=Math.abs;function Toe(){var e=this._data;return this._milliseconds=wr(this._milliseconds),this._days=wr(this._days),this._months=wr(this._months),e.milliseconds=wr(e.milliseconds),e.seconds=wr(e.seconds),e.minutes=wr(e.minutes),e.hours=wr(e.hours),e.months=wr(e.months),e.years=wr(e.years),this}function BO(e,t,n,r){var i=qn(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Ioe(e,t){return BO(this,e,t,1)}function Aoe(e,t){return BO(this,e,t,-1)}function iI(e){return e<0?Math.floor(e):Math.ceil(e)}function Roe(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,i,s,o,a,l;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=iI(Kv(n)+t)*864e5,t=0,n=0),r.milliseconds=e%1e3,i=_n(e/1e3),r.seconds=i%60,s=_n(i/60),r.minutes=s%60,o=_n(s/60),r.hours=o%24,t+=_n(o/24),l=_n(zO(t)),n+=l,t-=iI(Kv(l)),a=_n(n/12),n%=12,r.days=t,r.months=n,r.years=a,this}function zO(e){return e*4800/146097}function Kv(e){return e*146097/4800}function Poe(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=Dn(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,n=this._months+zO(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Kv(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function ti(e){return function(){return this.as(e)}}var WO=ti("ms"),Coe=ti("s"),koe=ti("m"),Doe=ti("h"),boe=ti("d"),Ooe=ti("w"),xoe=ti("M"),Noe=ti("Q"),Moe=ti("y"),$oe=WO;function Loe(){return qn(this)}function Foe(e){return e=Dn(e),this.isValid()?this[e+"s"]():NaN}function Js(e){return function(){return this.isValid()?this._data[e]:NaN}}var Voe=Js("milliseconds"),joe=Js("seconds"),Uoe=Js("minutes"),Boe=Js("hours"),zoe=Js("days"),Woe=Js("months"),Hoe=Js("years");function Yoe(){return _n(this.days()/7)}var Tr=Math.round,To={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function qoe(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function Goe(e,t,n,r){var i=qn(e).abs(),s=Tr(i.as("s")),o=Tr(i.as("m")),a=Tr(i.as("h")),l=Tr(i.as("d")),u=Tr(i.as("M")),c=Tr(i.as("w")),d=Tr(i.as("y")),h=s<=n.ss&&["s",s]||s<n.s&&["ss",s]||o<=1&&["m"]||o<n.m&&["mm",o]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(h=h||c<=1&&["w"]||c<n.w&&["ww",c]),h=h||u<=1&&["M"]||u<n.M&&["MM",u]||d<=1&&["y"]||["yy",d],h[2]=t,h[3]=+e>0,h[4]=r,qoe.apply(null,h)}function Koe(e){return e===void 0?Tr:typeof e=="function"?(Tr=e,!0):!1}function Qoe(e,t){return To[e]===void 0?!1:t===void 0?To[e]:(To[e]=t,e==="s"&&(To.ss=t-1),!0)}function Xoe(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=To,i,s;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(r=Object.assign({},To,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),i=this.localeData(),s=Goe(this,!n,r,i),n&&(s=i.pastFuture(+this,s)),i.postformat(s)}var qm=Math.abs;function no(e){return(e>0)-(e<0)||+e}function Np(){if(!this.isValid())return this.localeData().invalidDate();var e=qm(this._milliseconds)/1e3,t=qm(this._days),n=qm(this._months),r,i,s,o,a=this.asSeconds(),l,u,c,d;return a?(r=_n(e/60),i=_n(r/60),e%=60,r%=60,s=_n(n/12),n%=12,o=e?e.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",u=no(this._months)!==no(a)?"-":"",c=no(this._days)!==no(a)?"-":"",d=no(this._milliseconds)!==no(a)?"-":"",l+"P"+(s?u+s+"Y":"")+(n?u+n+"M":"")+(t?c+t+"D":"")+(i||r||e?"T":"")+(i?d+i+"H":"")+(r?d+r+"M":"")+(e?d+o+"S":"")):"P0D"}var ge=Op.prototype;ge.isValid=Wie;ge.abs=Toe;ge.add=Ioe;ge.subtract=Aoe;ge.as=Poe;ge.asMilliseconds=WO;ge.asSeconds=Coe;ge.asMinutes=koe;ge.asHours=Doe;ge.asDays=boe;ge.asWeeks=Ooe;ge.asMonths=xoe;ge.asQuarters=Noe;ge.asYears=Moe;ge.valueOf=$oe;ge._bubble=Roe;ge.clone=Loe;ge.get=Foe;ge.milliseconds=Voe;ge.seconds=joe;ge.minutes=Uoe;ge.hours=Boe;ge.days=zoe;ge.weeks=Yoe;ge.months=Woe;ge.years=Hoe;ge.humanize=Xoe;ge.toISOString=Np;ge.toString=Np;ge.toJSON=Np;ge.locale=bO;ge.localeData=xO;ge.toIsoString=kn("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Np);ge.lang=OO;J("X",0,0,"unix");J("x",0,0,"valueOf");H("x",Cp);H("X",yre);Re("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});Re("x",function(e,t,n){n._d=new Date(ce(e))});//! moment.js
U.version="2.30.1";Jne(Le);U.fn=$;U.min=jie;U.max=Uie;U.now=Bie;U.utc=vr;U.unix=goe;U.months=yoe;U.isDate=Ec;U.locale=Mi;U.invalid=Ip;U.duration=qn;U.isMoment=Yn;U.weekdays=woe;U.parseZone=voe;U.localeData=ei;U.isDuration=$d;U.monthsShort=_oe;U.weekdaysMin=Soe;U.defineLocale=l0;U.updateLocale=vie;U.locales=yie;U.weekdaysShort=Eoe;U.normalizeUnits=Dn;U.relativeTimeRounding=Koe;U.relativeTimeThreshold=Qoe;U.calendarFormat=fse;U.prototype=$;U.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const Joe=()=>{U.locale("en");const e=Xne(U),[t,n]=R.useState(null),[r,i]=R.useState([]),[s,o]=R.useState(!1),[a,l]=R.useState(null),[u,c]=R.useState([]),[d,h]=R.useState({title:"",startDate:new Date,endDate:new Date,comments:[]});R.useEffect(()=>{(async()=>{try{const g=Mh();n(g);const _=await Yk(g);i(_),console.log("eventsData: ",_),console.log("events: ",r)}catch(g){console.error("Error loading events:",g)}})()},[]);const f=m=>{const{name:g,value:_}=m.target;h({...d,[g]:_})},v=async m=>{m.preventDefault();const{title:g,startDate:_,endDate:E}=d,S=new Date(_),T=new Date(E);if(!g||!_||!E){alert("Please fill out all required fields.");return}try{const I=Mh();o(!1);const P=await L3({username:I,title:g,start:S,end:T});console.log("New event added to database");const b={title:g,startDate:S,endDate:T,docID:P,comments:[]};i(C=>[...C,b]),console.log("New event added to front end"),h({title:"",startDate:new Date,endDate:new Date})}catch(I){console.error("Error adding event:",I)}},p=async()=>{if(a&&u.trim())try{const m=await M3(a.docID,u),g=r.map(_=>_.docID===a.docID?m:_);i(g),c(""),l(m)}catch(m){console.error("Error adding comment:",m)}},y=async()=>{if(a)try{await $3(a.docID);const m=r.filter(g=>g.docID!==a.docID);i(m),l(null),console.log("Event deleted successfully from Firestore and frontend display.")}catch(m){console.error("Error deleting event:",m)}};return w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"top-nav",children:[w.jsx(qi,{}),w.jsx("div",{style:{paddingTop:"10px"},children:w.jsx("button",{style:{color:"white",backgroundColor:"green"},onClick:()=>o(!0),children:"Add Event Here!"})})]}),w.jsxs("div",{style:{display:"flex",height:"100vh",width:"150vh"},children:[w.jsx("div",{style:{height:"100%",width:"100%"},children:w.jsx(Hne,{localizer:e,events:r,startAccessor:"startDate",endAccessor:"endDate",defaultDate:new Date,defaultView:"month",selectable:!1,onSelectEvent:m=>l(m),eventPropGetter:m=>({className:m.comments.length>0?"has-comments":"no-comments"})})}),w.jsxs("div",{style:{paddingTop:"10px",marginLeft:"20px",marginTop:"70px"},children:[a&&w.jsxs("div",{style:{border:"2px solid black",padding:"10px",position:"relative"},children:[w.jsx("span",{className:"close",style:{position:"absolute",top:"5px",right:"10px",cursor:"pointer",fontSize:"20px",color:"black"},onClick:()=>l(null),children:""}),w.jsx("h3",{children:a.title}),w.jsxs("p",{children:["Start: ",U(a.startDate).format("LLL")]}),w.jsxs("p",{children:["End: ",U(a.endDate).format("LLL")]}),w.jsx("h4",{children:"Comments:"}),w.jsx("ul",{children:a&&a.comments.map((m,g)=>w.jsx("li",{children:m},g))}),w.jsx("input",{type:"text",value:u,onChange:m=>c(m.target.value),placeholder:"Add a comment..."}),w.jsx("button",{onClick:p,children:"Add Comment"}),w.jsx("button",{onClick:y,children:"Delete Event"})]}),w.jsx("div",{style:{paddingTop:"10px",marginLeft:"20px",fontSize:"10px"}}),s&&w.jsx("div",{className:"modal",children:w.jsxs("div",{className:"modal-content",children:[w.jsx("span",{className:"close",onClick:()=>o(!1),children:""}),w.jsxs("form",{onSubmit:v,children:[w.jsx("h3",{children:"Add a new event to your calendar:"}),w.jsxs("label",{children:["Title:",w.jsx("input",{type:"text",name:"title",value:d.title,onChange:f,required:!0})]}),w.jsx("br",{}),w.jsxs("label",{children:["Start Date & Time:",w.jsx("input",{type:"datetime-local",name:"startDate",value:d.startDate,onChange:f,required:!0})]}),w.jsx("br",{}),w.jsxs("label",{children:["End Date & Time:",w.jsx("input",{type:"datetime-local",name:"endDate",value:d.endDate,onChange:f,required:!0})]}),w.jsx("br",{}),w.jsx("input",{type:"submit",value:"Submit"})]})]})})]})]})]})},Zoe=()=>{const[e,t]=R.useState([]),n=Mh();R.useEffect(()=>{const s=new Date;new Date(s.getFullYear(),s.getMonth()+1,s.getDate()),Yk(n).then(o=>{o.sort((a,l)=>new Date(a.startDate)-new Date(l.startDate)),t(o)}).catch(console.error)},[]);const i=(s=>{const o={};return s.forEach(a=>{const l=new Date(a.startDate),u=new Date(a.endDate),c=l.toLocaleDateString("en-US",{month:"long",day:"numeric"});o[c]||(o[c]=[]),o[c].push({...a,startTime:l.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),endTime:u.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),endDate:u.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})}),o})(e);return w.jsxs("div",{className:"events-list",children:[w.jsx("h2",{children:"Upcoming Events"}),Object.entries(i).sort((s,o)=>new Date(s[0])-new Date(o[0])).map(([s,o])=>w.jsxs("div",{className:"daily-events",children:[w.jsx("h3",{children:s}),o.sort((a,l)=>new Date(a.startDate)-new Date(l.startDate)).map((a,l)=>w.jsx("div",{className:"event-item",children:w.jsxs("p",{children:[a.startTime," - ",a.endTime," ",new Date(a.endDate)>new Date(a.startDate)?`(${a.endDate})`:""," - ",a.title]})},l))]},s))]})},eae=()=>{const[e,t]=R.useState(!1);return R.useEffect(()=>{const n=iw.onAuthStateChanged(r=>{t(!!r)});return()=>n()},[]),w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"top-nav",children:w.jsx(qi,{})}),w.jsxs("div",{className:"reminder-page-container",children:[w.jsx("h1",{children:"Reminders Page"}),e&&w.jsx(Zoe,{})," "]})]})};function tae(){const e=fa(),[t,n]=R.useState({email:"",password:""}),[r,i]=R.useState(""),s=a=>{n({...t,[a.target.name]:a.target.value})},o=async a=>{if(a.preventDefault(),!t.email||!t.password){i("Email and password are required.");return}try{await P3(t.email,t.password),e("/home")}catch(l){console.error("Login error:",l),l.message.includes("verify your email")?i("Please verify your email before signing in."):i("Incorrect username or password.")}};return w.jsx("div",{className:"main",children:w.jsx("div",{className:"center",children:w.jsxs("div",{className:"backbox",children:[w.jsx("div",{children:w.jsx("header",{className:"App-header",children:w.jsx("h2",{children:" MCGardens Login "})})}),w.jsxs("form",{onSubmit:o,children:[w.jsxs("div",{children:[w.jsx("label",{htmlFor:"email",children:w.jsx("b",{children:"Email"})}),w.jsx("br",{}),w.jsx("input",{type:"email",id:"email",name:"email",autoComplete:"email",placeholder:"Email",className:"textbox",value:t.email||"",onChange:s,required:!0}),w.jsx("br",{})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"password",children:w.jsx("b",{children:"Password"})}),w.jsx("br",{}),w.jsx("input",{type:"password",id:"password",name:"password",autoComplete:"current-password",placeholder:"Password",className:"textbox",value:t.password||"",onChange:s,required:!0}),w.jsx("br",{})]}),w.jsx("div",{children:w.jsx("button",{type:"submit",className:"sign-in-button",children:"Sign In"})})]}),w.jsx("div",{className:"errorMessage",children:r&&w.jsx("p",{className:"error-message",children:r})}),w.jsxs("div",{className:"additionalOptions",children:[w.jsx("a",{href:"/sign-up",children:"Sign Up"}),w.jsx("a",{href:"/forgot-password",style:{cursor:"pointer"},children:"Forgot Password"})]})]})})})}const nae=()=>{const[e,t]=R.useState([]),[n,r]=R.useState(!1),[i,s]=R.useState(""),[o,a]=R.useState("");R.useEffect(()=>{const d=JSON.parse(localStorage.getItem("userLocation"));if(console.log(d),d){const{latitude:h,longitude:f}=d;l(h,f)}},[]);const l=async(d,h)=>{try{const v=await(await fetch(`https://api.openweathermap.org/data/2.5/forecast/daily?lat=${d}&lon=${h}&cnt=7&units=imperial&appid=c2a91f3cea984faeb2c4779182b5272e`)).json();v.list&&(t(v.list),r(!1),a(v.city.name),console.log(v))}catch(f){console.error("Error fetching weather data:",f)}},u=async d=>{try{const f=await(await fetch(`https://api.openweathermap.org/geo/1.0/zip?zip=${d}&appid=c2a91f3cea984faeb2c4779182b5272e`)).json();if(f.lat!==void 0&&f.lon!==void 0){const{lat:v,lon:p}=f,m=await(await fetch(`https://api.openweathermap.org/data/2.5/forecast/daily?lat=${v}&lon=${p}&cnt=7&units=imperial&appid=c2a91f3cea984faeb2c4779182b5272e`)).json();m.list&&(t(m.list),r(!1),a(m.city.name),console.log(m))}}catch(h){console.error("Error fetching weather data:",h)}},c=d=>{d.preventDefault(),r(!0),u(i)};return w.jsxs("div",{children:[w.jsx("div",{className:"top-nav",children:w.jsx(qi,{})}),w.jsxs("div",{className:"weatherContainer",children:[w.jsx("h1",{className:"header",children:"Weekly Weather Forecast"}),w.jsxs("form",{onSubmit:c,children:[w.jsx("label",{htmlFor:"zipCode",children:"Enter ZIP Code: "}),w.jsx("input",{type:"text",id:"zipCode",value:i,onChange:d=>s(d.target.value)}),w.jsx("button",{type:"submit",children:"Submit"})]}),n?w.jsx("p",{children:"Loading..."}):w.jsxs("div",{children:[w.jsx("h1",{children:o}),w.jsx("div",{className:"forecast",children:e.map(({dt:d,temp:h,weather:f})=>w.jsxs("div",{className:"dayForecast",children:[w.jsx("h2",{children:new Date(d*1e3).toLocaleDateString("en-US",{weekday:"long"})}),w.jsx("p",{className:"condition",children:f[0].main}),w.jsx("img",{src:`http://openweathermap.org/img/w/${f[0].icon}.png`,alt:"Weather Icon",width:"50"}),w.jsxs("p",{children:["High: ",h.max.toFixed(1),"F "]}),w.jsxs("p",{children:["Low: ",h.min.toFixed(1),"F"]})]},d))})]})]})]})},fl="/assets/logo-efh4HsTD.png";var rae={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const iae=()=>{const[e,t]=R.useState({plantName:"Please enter a plant in the search.",plantBio:"Here will be bio information",plantInst:["Planting instructions will appear here after a search."],plantCare:["Care information will be displayed here once you search for a plant."],plantImg:fl}),[n,r]=R.useState(""),i=Fu(),s=fa(),a=new URLSearchParams(i.search).get("query");R.useEffect(()=>{a&&Ke.post("https://us-central1-mcgardens-bd0b1.cloudfunctions.net/askGpt/askGpt",{plantInput:a.toLowerCase()}).then(u=>{const{data:c}=u;if(c&&c.bio&&c.howToPlant&&c.howToTakeCare){const d=c.bio,h=c.howToPlant.split(/(?=\d+\. )/).filter(v=>v.trim()!==""),f=c.howToTakeCare.split(/(?=\d+\. )/).filter(v=>v.trim()!=="");Ke.get(`https://api.unsplash.com/search/photos?query=${encodeURIComponent(a)}&client_id=${rae.VITE_UNSPLASH_ACCESS_KEY}`).then(v=>{var y;const p=((y=v.data.results[0])==null?void 0:y.urls.regular)||fl;t({plantName:a||"Unknown Plant",plantBio:d,plantInst:h,plantCare:f,plantImg:p})}).catch(v=>{console.error("Image fetch failed:",v),t(p=>({...p,plantBio:d,plantInst:h,plantCare:f,plantImg:fl}))})}else throw new Error("Data is missing some required fields.")}).catch(u=>{console.error("API call failed or data was incomplete:",u),t(c=>({...c,plantName:"Failed to load data.",plantBio:"Failed to load data.",plantInst:["Failed to load data."],plantCare:["Failed to load data."],plantImg:fl}))})},[a,i]);const l=u=>{if(u.preventDefault(),!n.trim()){alert("Please enter a valid plant name.");return}s(`/plant-details?query=${encodeURIComponent(n)}`),r("")};return w.jsxs("div",{className:"plant-details",children:[w.jsxs("div",{className:"top-nav",children:[w.jsx(qi,{}),w.jsxs("form",{onSubmit:l,className:"search-bar",children:[w.jsx("input",{type:"text",value:n,onChange:u=>r(u.target.value),placeholder:"Please enter plant"}),w.jsx("button",{type:"submit",children:"Search"})]})]}),w.jsxs("div",{className:"left-container",children:[w.jsx("div",{className:"pic-container",children:w.jsx("img",{className:"pic",src:e.plantImg,alt:"Plant"})}),w.jsx("div",{className:"smaller-title",children:"Biography"}),w.jsx("div",{className:"bio-container",children:w.jsx("p",{children:e.plantBio})})]}),w.jsxs("div",{className:"right-container",children:[w.jsx("div",{className:"title-banner",children:e.plantName}),w.jsx("div",{className:"smaller-title",children:"Planting Instructions"}),w.jsx("div",{className:"inst-container",children:e.plantInst.map((u,c)=>w.jsx("p",{className:"instruction-text",children:u},c))}),w.jsx("div",{className:"smaller-title",children:"Care Instructions"}),w.jsx("div",{className:"care-info-container",children:e.plantCare.map((u,c)=>w.jsx("p",{className:"instruction-text",children:u},c))})]})]})};function sae(){const e=fa(),[t,n]=R.useState({email:"",password:"",confirmPassword:""}),[r,i]=R.useState(""),[s,o]=R.useState(null),[a,l]=R.useState(!1),[u,c]=R.useState(60),d=p=>{n({...t,[p.target.name]:p.target.value})},h=async p=>{if(p.preventDefault(),!t.email||!t.password||!t.confirmPassword){i("All fields are required.");return}if(t.password!==t.confirmPassword){i("Passwords do not match.");return}try{const y=await k3(t.email,t.password);o(y.user),i("A verification email has been sent. Please verify your email before logging in."),l(!0),f()}catch(y){console.error("Registration error:",y),i("Failed to create an account. "+y.message)}},f=()=>{c(60);let p=setInterval(()=>{c(y=>y<=1?(clearInterval(p),0):y-1)},1e3)},v=async()=>{if(t.email)try{await D3(t.email),i("A new verification email has been sent."),f()}catch(p){i("Failed to resend verification email. "+p.message)}};return R.useEffect(()=>{s&&s.emailVerified&&e("/home-page")},[s,e]),w.jsx("div",{className:"main",children:w.jsx("div",{className:"center",children:w.jsxs("div",{className:"backbox",children:[w.jsx("div",{children:w.jsx("header",{className:"App-header",children:w.jsx("h2",{children:" MCGardens Create User "})})}),w.jsxs("form",{onSubmit:h,children:[w.jsxs("div",{children:[w.jsx("label",{htmlFor:"email",children:w.jsx("b",{children:"Email"})}),w.jsx("br",{}),w.jsx("input",{type:"email",id:"email",name:"email",autoComplete:"email",placeholder:"Email",className:"textbox",value:t.email||"",onChange:d,required:!0}),w.jsx("br",{})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"password",children:w.jsx("b",{children:"Password"})}),w.jsx("br",{}),w.jsx("input",{type:"password",id:"password",name:"password",autoComplete:"new-password",placeholder:"Password",className:"textbox",value:t.password||"",onChange:d,required:!0}),w.jsx("br",{})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"confirmPassword",children:w.jsx("b",{children:"Confirm Password"})}),w.jsx("br",{}),w.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",autoComplete:"new-password",placeholder:"Confirm Password",className:"textbox",value:t.confirmPassword||"",onChange:d,required:!0}),w.jsx("br",{})]}),w.jsx("div",{children:a?w.jsxs("button",{type:"button",onClick:v,disabled:u>0,className:"sign-in-button",children:["Resend Email ",u>0?`(${u}s)`:""]}):w.jsx("button",{type:"submit",className:"sign-in-button",children:"Sign Up"})})]}),w.jsx("div",{className:"errorMessage",children:r&&w.jsx("p",{className:"error-message",children:r})}),w.jsxs("div",{className:"additionalOptions",children:[w.jsx("a",{href:"/",children:"Sign In"}),w.jsx("a",{href:"/forgot-password",style:{cursor:"pointer"},children:"Forgot Password"})]})]})})})}function oae(){fa();const[e,t]=R.useState(""),[n,r]=R.useState(""),[i,s]=R.useState(""),o=l=>{t(l.target.value),r(""),s("")},a=async l=>{if(l.preventDefault(),!e){r("Please enter your email.");return}try{await C3(e),s(`An email has been sent to ${e} with instructions to reset your password.`),t("")}catch(u){console.error("Forgot password error:",u),r("Failed to reset password. Please try again later.")}};return w.jsx("div",{className:"main",children:w.jsx("div",{className:"center",children:w.jsxs("div",{className:"backbox",children:[w.jsx("header",{className:"App-header",children:w.jsx("h2",{children:"Forgot Password"})}),w.jsxs("form",{onSubmit:a,children:[w.jsxs("div",{children:[w.jsx("label",{htmlFor:"email",children:w.jsx("b",{children:"Email"})}),w.jsx("br",{}),w.jsx("input",{type:"email",id:"email",name:"email",autoComplete:"email",placeholder:"Email",className:"textbox",value:e,onChange:o,required:!0}),w.jsx("br",{})]}),w.jsx("div",{children:w.jsx("button",{type:"submit",className:"sign-in-button",children:"Reset Password"})})]}),n&&w.jsx("p",{className:"error-message",children:n}),i&&w.jsx("p",{className:"success-message",children:i}),w.jsx("div",{className:"additionalOptions",children:w.jsx("a",{href:"/",children:"Back to Sign In"})})]})})})}const aae=()=>{const e=()=>{window.location.href="mailto:mcgardens.reminders@gmail.com"};return w.jsxs("div",{children:[w.jsx("div",{className:"top-nav",children:w.jsx(qi,{})}),w.jsx("div",{className:"backdrop",children:w.jsxs("div",{className:"content",children:[w.jsx("img",{className:"about-us-pic",src:fl,alt:"Logo"}),w.jsxs("div",{children:[w.jsx("h1",{className:"about-us-title",children:"About Us"}),w.jsx("p",{className:"team-info",children:"We are a dynamic team of Manhattan College students passionate about technology and environmental sustainability. As part of our capstone project, we created this platform to empower individuals interested in home gardening. Our diverse skills in software development have allowed us to design a comprehensive tool that simplifies learning about plants and managing gardening activities. Our website provides detailed plant biographies, care instructions, and user-friendly scheduling features, all enhanced by OpenAI's ChatGPT technology. Users can also interact on our discussion board, check real-time weather forecasts, and find the best plants for their local environment. Join us on this green journey to cultivate your garden and grow your community."}),w.jsx("button",{onClick:e,className:"contact-us-button",children:"Contact Us"})]})]})})]})};function lae(){return w.jsx(w$,{children:w.jsxs(f$,{children:[w.jsx(gn,{exact:!0,path:"/",element:w.jsx(tae,{})}),w.jsx(gn,{path:"/sign-up",element:w.jsx(sae,{})}),w.jsx(gn,{path:"/forgot-password",element:w.jsx(oae,{})}),w.jsx(gn,{path:"/home",element:w.jsx(nz,{})}),w.jsx(gn,{path:"/discussion-board",element:w.jsx(F3,{})}),w.jsx(gn,{path:"/optimal-plants",element:w.jsx(tz,{})}),w.jsx(gn,{path:"/calendar",element:w.jsx(Joe,{})}),w.jsx(gn,{path:"/reminders",element:w.jsx(eae,{})}),w.jsx(gn,{path:"/weather",element:w.jsx(nae,{})}),w.jsx(gn,{path:"/plant-details",element:w.jsx(iae,{})}),w.jsx(gn,{path:"/about-us",element:w.jsx(aae,{})})]})})}const uae=Gm.createRoot(document.getElementById("root"));uae.render(w.jsx(lae,{}))});export default cae();
